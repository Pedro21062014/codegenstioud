function xb(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function Sd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lv(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),i}var Ic={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Tb(){if(Nm)return po;Nm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return po.Fragment=e,po.jsx=i,po.jsxs=i,po}var Rm;function Eb(){return Rm||(Rm=1,Ic.exports=Tb()),Ic.exports}var y=Eb(),kc={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function wb(){if(Mm)return ye;Mm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function D(R,$,te){this.props=R,this.context=$,this.refs=w,this.updater=te||A}D.prototype.isReactComponent={},D.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function L(){}L.prototype=D.prototype;function I(R,$,te){this.props=R,this.context=$,this.refs=w,this.updater=te||A}var q=I.prototype=new L;q.constructor=I,N(q,D.prototype),q.isPureReactComponent=!0;var Y=Array.isArray;function V(){}var B={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function Q(R,$,te){var X=te.ref;return{$$typeof:n,type:R,key:$,ref:X!==void 0?X:null,props:te}}function se(R,$){return Q(R.type,$,R.props)}function ue(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function oe(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(te){return $[te]})}var Ee=/\/+/g;function Ye(R,$){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):$.toString(36)}function Ie(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(V,V):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function U(R,$,te,X,pe){var me=typeof R;(me==="undefined"||me==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(me){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case n:case e:ke=!0;break;case _:return ke=R._init,U(ke(R._payload),$,te,X,pe)}}if(ke)return pe=pe(R),ke=X===""?"."+Ye(R,0):X,Y(pe)?(te="",ke!=null&&(te=ke.replace(Ee,"$&/")+"/"),U(pe,$,te,"",function(Rn){return Rn})):pe!=null&&(ue(pe)&&(pe=se(pe,te+(pe.key==null||R&&R.key===pe.key?"":(""+pe.key).replace(Ee,"$&/")+"/")+ke)),$.push(pe)),1;ke=0;var ft=X===""?".":X+":";if(Y(R))for(var tt=0;tt<R.length;tt++)X=R[tt],me=ft+Ye(X,tt),ke+=U(X,$,te,me,pe);else if(tt=E(R),typeof tt=="function")for(R=tt.call(R),tt=0;!(X=R.next()).done;)X=X.value,me=ft+Ye(X,tt++),ke+=U(X,$,te,me,pe);else if(me==="object"){if(typeof R.then=="function")return U(Ie(R),$,te,X,pe);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ke}function K(R,$,te){if(R==null)return R;var X=[],pe=0;return U(R,X,"","",function(me){return $.call(te,me,pe++)}),X}function de(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(te){(R._status===0||R._status===-1)&&(R._status=1,R._result=te)},function(te){(R._status===0||R._status===-1)&&(R._status=2,R._result=te)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var Re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ge={map:K,forEach:function(R,$,te){K(R,function(){$.apply(this,arguments)},te)},count:function(R){var $=0;return K(R,function(){$++}),$},toArray:function(R){return K(R,function($){return $})||[]},only:function(R){if(!ue(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ye.Activity=b,ye.Children=ge,ye.Component=D,ye.Fragment=i,ye.Profiler=a,ye.PureComponent=I,ye.StrictMode=r,ye.Suspense=g,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ye.__COMPILER_RUNTIME={__proto__:null,c:function(R){return B.H.useMemoCache(R)}},ye.cache=function(R){return function(){return R.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(R,$,te){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var X=N({},R.props),pe=R.key;if($!=null)for(me in $.key!==void 0&&(pe=""+$.key),$)!Z.call($,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&$.ref===void 0||(X[me]=$[me]);var me=arguments.length-2;if(me===1)X.children=te;else if(1<me){for(var ke=Array(me),ft=0;ft<me;ft++)ke[ft]=arguments[ft+2];X.children=ke}return Q(R.type,pe,X)},ye.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},ye.createElement=function(R,$,te){var X,pe={},me=null;if($!=null)for(X in $.key!==void 0&&(me=""+$.key),$)Z.call($,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(pe[X]=$[X]);var ke=arguments.length-2;if(ke===1)pe.children=te;else if(1<ke){for(var ft=Array(ke),tt=0;tt<ke;tt++)ft[tt]=arguments[tt+2];pe.children=ft}if(R&&R.defaultProps)for(X in ke=R.defaultProps,ke)pe[X]===void 0&&(pe[X]=ke[X]);return Q(R,me,pe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(R){return{$$typeof:f,render:R}},ye.isValidElement=ue,ye.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:de}},ye.memo=function(R,$){return{$$typeof:h,type:R,compare:$===void 0?null:$}},ye.startTransition=function(R){var $=B.T,te={};B.T=te;try{var X=R(),pe=B.S;pe!==null&&pe(te,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(V,Re)}catch(me){Re(me)}finally{$!==null&&te.types!==null&&($.types=te.types),B.T=$}},ye.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ye.use=function(R){return B.H.use(R)},ye.useActionState=function(R,$,te){return B.H.useActionState(R,$,te)},ye.useCallback=function(R,$){return B.H.useCallback(R,$)},ye.useContext=function(R){return B.H.useContext(R)},ye.useDebugValue=function(){},ye.useDeferredValue=function(R,$){return B.H.useDeferredValue(R,$)},ye.useEffect=function(R,$){return B.H.useEffect(R,$)},ye.useEffectEvent=function(R){return B.H.useEffectEvent(R)},ye.useId=function(){return B.H.useId()},ye.useImperativeHandle=function(R,$,te){return B.H.useImperativeHandle(R,$,te)},ye.useInsertionEffect=function(R,$){return B.H.useInsertionEffect(R,$)},ye.useLayoutEffect=function(R,$){return B.H.useLayoutEffect(R,$)},ye.useMemo=function(R,$){return B.H.useMemo(R,$)},ye.useOptimistic=function(R,$){return B.H.useOptimistic(R,$)},ye.useReducer=function(R,$,te){return B.H.useReducer(R,$,te)},ye.useRef=function(R){return B.H.useRef(R)},ye.useState=function(R){return B.H.useState(R)},ye.useSyncExternalStore=function(R,$,te){return B.H.useSyncExternalStore(R,$,te)},ye.useTransition=function(){return B.H.useTransition()},ye.version="19.2.0",ye}var Im;function xd(){return Im||(Im=1,kc.exports=wb()),kc.exports}var H=xd();const fl=Sd(H);var Dc={exports:{}},mo={},Uc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Cb(){return km||(km=1,(function(n){function e(U,K){var de=U.length;U.push(K);e:for(;0<de;){var Re=de-1>>>1,ge=U[Re];if(0<a(ge,K))U[Re]=K,U[de]=ge,de=Re;else break e}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],de=U.pop();if(de!==K){U[0]=de;e:for(var Re=0,ge=U.length,R=ge>>>1;Re<R;){var $=2*(Re+1)-1,te=U[$],X=$+1,pe=U[X];if(0>a(te,de))X<ge&&0>a(pe,te)?(U[Re]=pe,U[X]=de,Re=X):(U[Re]=te,U[$]=de,Re=$);else if(X<ge&&0>a(pe,de))U[Re]=pe,U[X]=de,Re=X;else break e}}return K}function a(U,K){var de=U.sortIndex-K.sortIndex;return de!==0?de:U.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var g=[],h=[],_=1,b=null,x=3,E=!1,A=!1,N=!1,w=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function q(U){for(var K=i(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=U)r(h),K.sortIndex=K.expirationTime,e(g,K);else break;K=i(h)}}function Y(U){if(N=!1,q(U),!A)if(i(g)!==null)A=!0,V||(V=!0,oe());else{var K=i(h);K!==null&&Ie(Y,K.startTime-U)}}var V=!1,B=-1,Z=5,Q=-1;function se(){return w?!0:!(n.unstable_now()-Q<Z)}function ue(){if(w=!1,V){var U=n.unstable_now();Q=U;var K=!0;try{e:{A=!1,N&&(N=!1,L(B),B=-1),E=!0;var de=x;try{t:{for(q(U),b=i(g);b!==null&&!(b.expirationTime>U&&se());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,x=b.priorityLevel;var ge=Re(b.expirationTime<=U);if(U=n.unstable_now(),typeof ge=="function"){b.callback=ge,q(U),K=!0;break t}b===i(g)&&r(g),q(U)}else r(g);b=i(g)}if(b!==null)K=!0;else{var R=i(h);R!==null&&Ie(Y,R.startTime-U),K=!1}}break e}finally{b=null,x=de,E=!1}K=void 0}}finally{K?oe():V=!1}}}var oe;if(typeof I=="function")oe=function(){I(ue)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ye=Ee.port2;Ee.port1.onmessage=ue,oe=function(){Ye.postMessage(null)}}else oe=function(){D(ue,0)};function Ie(U,K){B=D(function(){U(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(U){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var de=x;x=K;try{return U()}finally{x=de}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var de=x;x=U;try{return K()}finally{x=de}},n.unstable_scheduleCallback=function(U,K,de){var Re=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Re+de:Re):de=Re,U){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=de+ge,U={id:_++,callback:K,priorityLevel:U,startTime:de,expirationTime:ge,sortIndex:-1},de>Re?(U.sortIndex=de,e(h,U),i(g)===null&&U===i(h)&&(N?(L(B),B=-1):N=!0,Ie(Y,de-Re))):(U.sortIndex=ge,e(g,U),A||E||(A=!0,V||(V=!0,oe()))),U},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(U){var K=x;return function(){var de=x;x=K;try{return U.apply(this,arguments)}finally{x=de}}}})(Oc)),Oc}var Dm;function Ab(){return Dm||(Dm=1,Uc.exports=Cb()),Uc.exports}var Pc={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function Nb(){if(Um)return Mt;Um=1;var n=xd();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,h,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:g,containerInfo:h,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(g,h){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(g,h,null,_)},Mt.flushSync=function(g){var h=c.T,_=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=h,r.p=_,r.d.f()}},Mt.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(g,h))},Mt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Mt.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var _=h.as,b=f(_,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;_==="style"?r.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:E}):_==="script"&&r.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mt.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var _=f(h.as,h.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(g)},Mt.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var _=h.as,b=f(_,h.crossOrigin);r.d.L(g,_,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mt.preloadModule=function(g,h){if(typeof g=="string")if(h){var _=f(h.as,h.crossOrigin);r.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(g)},Mt.requestFormReset=function(g){r.d.r(g)},Mt.unstable_batchedUpdates=function(g,h){return g(h)},Mt.useFormState=function(g,h,_){return c.H.useFormState(g,h,_)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.0",Mt}var Om;function Rb(){if(Om)return Pc.exports;Om=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pc.exports=Nb(),Pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function Mb(){if(Pm)return mo;Pm=1;var n=Ab(),e=xd(),i=Rb();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function c(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(l(t)!==t)throw Error(r(188))}function h(t){var s=t.alternate;if(!s){if(s=l(t),s===null)throw Error(r(188));return s!==t?null:t}for(var o=t,u=s;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return g(p),t;if(v===u)return g(p),s;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=v;else{for(var S=!1,T=p.child;T;){if(T===o){S=!0,o=p,u=v;break}if(T===u){S=!0,u=p,o=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===o){S=!0,o=v,u=p;break}if(T===u){S=!0,u=v,o=p;break}T=T.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case D:return"Profiler";case w:return"StrictMode";case Y:return"Suspense";case V:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case I:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return s=t.displayName||null,s!==null?s:Ye(t.type)||"Memo";case Z:s=t._payload,t=t._init;try{return Ye(t(s))}catch{}}return null}var Ie=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Re=[],ge=-1;function R(t){return{current:t}}function $(t){0>ge||(t.current=Re[ge],Re[ge]=null,ge--)}function te(t,s){ge++,Re[ge]=t.current,t.current=s}var X=R(null),pe=R(null),me=R(null),ke=R(null);function ft(t,s){switch(te(me,s),te(pe,t),te(X,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Xp(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Xp(s),t=Zp(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(X),te(X,t)}function tt(){$(X),$(pe),$(me)}function Rn(t){t.memoizedState!==null&&te(ke,t);var s=X.current,o=Zp(s,t.type);s!==o&&(te(pe,t),te(X,o))}function Tn(t){pe.current===t&&($(X),$(pe)),ke.current===t&&($(ke),uo._currentValue=de)}var hs,Mn;function In(t){if(hs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);hs=s&&s[1]||"",Mn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+Mn}var ti=!1;function ni(t,s){if(!t||ti)return"";ti=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(G){var j=G}Reflect.construct(t,[],F)}else{try{F.call()}catch(G){j=G}t.call(F.prototype)}}else{try{throw Error()}catch(G){j=G}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),S=v[0],T=v[1];if(S&&T){var C=S.split(`
`),P=T.split(`
`);for(p=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;p<P.length&&!P[p].includes("DetermineComponentFrameRoot");)p++;if(u===C.length||p===P.length)for(u=C.length-1,p=P.length-1;1<=u&&0<=p&&C[u]!==P[p];)p--;for(;1<=u&&0<=p;u--,p--)if(C[u]!==P[p]){if(u!==1||p!==1)do if(u--,p--,0>p||C[u]!==P[p]){var z=`
`+C[u].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=u&&0<=p);break}}}finally{ti=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?In(o):""}function ii(t,s){switch(t.tag){case 26:case 27:case 5:return In(t.type);case 16:return In("Lazy");case 13:return t.child!==s&&s!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return ni(t.type,!1);case 11:return ni(t.type.render,!1);case 1:return ni(t.type,!0);case 31:return In("Activity");default:return""}}function Li(t){try{var s="",o=null;do s+=ii(t,o),o=t,t=t.return;while(t);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ps=Object.prototype.hasOwnProperty,ji=n.unstable_scheduleCallback,qi=n.unstable_cancelCallback,Te=n.unstable_shouldYield,Ro=n.unstable_requestPaint,Nt=n.unstable_now,Mo=n.unstable_getCurrentPriorityLevel,ms=n.unstable_ImmediatePriority,gs=n.unstable_UserBlockingPriority,Rt=n.unstable_NormalPriority,Wt=n.unstable_LowPriority,vs=n.unstable_IdlePriority,En=n.log,ys=n.unstable_setDisableYieldValue,kn=null,lt=null;function hn(t){if(typeof En=="function"&&ys(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(kn,t)}catch{}}var st=Math.clz32?Math.clz32:Tl,xl=Math.log,Tr=Math.LN2;function Tl(t){return t>>>=0,t===0?32:31-(xl(t)/Tr|0)|0}var si=256,_s=262144,ri=4194304;function pn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bs(t,s,o){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var T=u&134217727;return T!==0?(u=T&~v,u!==0?p=pn(u):(S&=T,S!==0?p=pn(S):o||(o=T&~t,o!==0&&(p=pn(o))))):(T=u&~v,T!==0?p=pn(T):S!==0?p=pn(S):o||(o=u&~t,o!==0&&(p=pn(o)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:p}function Dn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Io(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var t=ri;return ri<<=1,(ri&62914560)===0&&(ri=4194304),t}function Ss(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function oi(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Do(t,s,o,u,p,v){var S=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(o=S&~o;0<o;){var z=31-st(o),F=1<<z;T[z]=0,C[z]=-1;var j=P[z];if(j!==null)for(P[z]=null,z=0;z<j.length;z++){var G=j[z];G!==null&&(G.lane&=-536870913)}o&=~F}u!==0&&Er(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~s))}function Er(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-st(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function wr(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var u=31-st(o),p=1<<u;p&s|t[u]&s&&(t[u]|=s),o&=~p}}function W(t,s){var o=s&-s;return o=(o&42)!==0?1:ee(o),(o&(t.suspendedLanes|s))!==0?0:o}function ee(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ne(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ve(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Sm(t.type))}function nt(t,s){var o=K.p;try{return K.p=t,s()}finally{K.p=o}}var De=Math.random().toString(36).slice(2),$e="__reactFiber$"+De,bt="__reactProps$"+De,Un="__reactContainer$"+De,ai="__reactEvents$"+De,xs="__reactListeners$"+De,ut="__reactHandles$"+De,xt="__reactResources$"+De,Ot="__reactMarker$"+De;function qe(t){delete t[$e],delete t[bt],delete t[ai],delete t[xs],delete t[ut]}function je(t){var s=t[$e];if(s)return s;for(var o=t.parentNode;o;){if(s=o[Un]||o[$e]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=rm(t);t!==null;){if(o=t[$e])return o;t=rm(t)}return s}t=o,o=t.parentNode}return null}function rt(t){if(t=t[$e]||t[Un]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Tt(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Vt(t){var s=t[xt];return s||(s=t[xt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ke(t){t[Ot]=!0}var Uo=new Set,qd={};function Bi(t,s){Ts(t,s),Ts(t+"Capture",s)}function Ts(t,s){for(qd[t]=s,t=0;t<s.length;t++)Uo.add(s[t])}var h0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bd={},Gd={};function p0(t){return ps.call(Gd,t)?!0:ps.call(Bd,t)?!1:h0.test(t)?Gd[t]=!0:(Bd[t]=!0,!1)}function Oo(t,s,o){if(p0(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function Po(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function On(t,s,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+u)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function m0(t,s,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){o=""+S,v.call(this,S)}}),Object.defineProperty(t,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function El(t){if(!t._valueTracker){var s=Vd(t)?"checked":"value";t._valueTracker=m0(t,s,""+t[s])}}function zd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return t&&(u=Vd(t)?t.checked?"true":"false":t.value),t=u,t!==o?(s.setValue(t),!0):!1}function Lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var g0=/[\n"\\]/g;function tn(t){return t.replace(g0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wl(t,s,o,u,p,v,S,T){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),s!=null?S==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+en(s)):t.value!==""+en(s)&&(t.value=""+en(s)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),s!=null?Cl(t,S,en(s)):o!=null?Cl(t,S,en(o)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function Hd(t,s,o,u,p,v,S,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){El(t);return}o=o!=null?""+en(o):"",s=s!=null?""+en(s):o,T||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=T?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),El(t)}function Cl(t,s,o){s==="number"&&Lo(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Es(t,s,o,u){if(t=t.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=s.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&u&&(t[o].defaultSelected=!0)}else{for(o=""+en(o),s=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function $d(t,s,o){if(s!=null&&(s=""+en(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+en(o):""}function Jd(t,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ie(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=en(s),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),El(t)}function ws(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var v0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(t,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,o):typeof o!="number"||o===0||v0.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function Yd(t,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Fd(t,p,u)}else for(var v in s)s.hasOwnProperty(v)&&Fd(t,v,s[v])}function Al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(t){return _0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var Nl=null;function Rl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,As=null;function Kd(t){var s=rt(t);if(s&&(t=s.stateNode)){var o=t[bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(wl(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==t&&u.form===t.form){var p=u[bt]||null;if(!p)throw Error(r(90));wl(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===t.form&&zd(u)}break e;case"textarea":$d(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Es(t,!!o.multiple,s,!1)}}}var Ml=!1;function Qd(t,s,o){if(Ml)return t(s,o);Ml=!0;try{var u=t(s);return u}finally{if(Ml=!1,(Cs!==null||As!==null)&&(wa(),Cs&&(s=Cs,t=As,As=Cs=null,Kd(s),t)))for(s=0;s<t.length;s++)Kd(t[s])}}function Cr(t,s){var o=t.stateNode;if(o===null)return null;var u=o[bt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(Ln)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Il=!1}var li=null,kl=null,qo=null;function Xd(){if(qo)return qo;var t,s=kl,o=s.length,u,p="value"in li?li.value:li.textContent,v=p.length;for(t=0;t<o&&s[t]===p[t];t++);var S=o-t;for(u=1;u<=S&&s[o-u]===p[v-u];u++);return qo=p.slice(t,1<u?1-u:void 0)}function Bo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Go(){return!0}function Zd(){return!1}function Pt(t){function s(o,u,p,v,S){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Go:Zd,this.isPropagationStopped=Zd,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Pt(Gi),Nr=b({},Gi,{view:0,detail:0}),b0=Pt(Nr),Dl,Ul,Rr,zo=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(Dl=t.screenX-Rr.screenX,Ul=t.screenY-Rr.screenY):Ul=Dl=0,Rr=t),Dl)},movementY:function(t){return"movementY"in t?t.movementY:Ul}}),Wd=Pt(zo),S0=b({},zo,{dataTransfer:0}),x0=Pt(S0),T0=b({},Nr,{relatedTarget:0}),Ol=Pt(T0),E0=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=Pt(E0),C0=b({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A0=Pt(C0),N0=b({},Gi,{data:0}),ef=Pt(N0),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=I0[t])?!!s[t]:!1}function Pl(){return k0}var D0=b({},Nr,{key:function(t){if(t.key){var s=R0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U0=Pt(D0),O0=b({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Pt(O0),P0=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),L0=Pt(P0),j0=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=Pt(j0),B0=b({},zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=Pt(B0),V0=b({},Gi,{newState:0,oldState:0}),z0=Pt(V0),H0=[9,13,27,32],Ll=Ln&&"CompositionEvent"in window,Mr=null;Ln&&"documentMode"in document&&(Mr=document.documentMode);var $0=Ln&&"TextEvent"in window&&!Mr,nf=Ln&&(!Ll||Mr&&8<Mr&&11>=Mr),sf=" ",rf=!1;function of(t,s){switch(t){case"keyup":return H0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function J0(t,s){switch(t){case"compositionend":return af(s);case"keypress":return s.which!==32?null:(rf=!0,sf);case"textInput":return t=s.data,t===sf&&rf?null:t;default:return null}}function F0(t,s){if(Ns)return t==="compositionend"||!Ll&&of(t,s)?(t=Xd(),qo=kl=li=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nf&&s.locale!=="ko"?null:s.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Y0[t.type]:s==="textarea"}function uf(t,s,o,u){Cs?As?As.push(u):As=[u]:Cs=u,s=ka(s,"onChange"),0<s.length&&(o=new Vo("onChange","change",null,o,u),t.push({event:o,listeners:s}))}var Ir=null,kr=null;function K0(t){$p(t,0)}function Ho(t){var s=Tt(t);if(zd(s))return t}function cf(t,s){if(t==="change")return s}var df=!1;if(Ln){var jl;if(Ln){var ql="oninput"in document;if(!ql){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),ql=typeof ff.oninput=="function"}jl=ql}else jl=!1;df=jl&&(!document.documentMode||9<document.documentMode)}function hf(){Ir&&(Ir.detachEvent("onpropertychange",pf),kr=Ir=null)}function pf(t){if(t.propertyName==="value"&&Ho(kr)){var s=[];uf(s,kr,t,Rl(t)),Qd(K0,s)}}function Q0(t,s,o){t==="focusin"?(hf(),Ir=s,kr=o,Ir.attachEvent("onpropertychange",pf)):t==="focusout"&&hf()}function X0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(kr)}function Z0(t,s){if(t==="click")return Ho(s)}function W0(t,s){if(t==="input"||t==="change")return Ho(s)}function e_(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var zt=typeof Object.is=="function"?Object.is:e_;function Dr(t,s){if(zt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ps.call(s,p)||!zt(t[p],s[p]))return!1}return!0}function mf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gf(t,s){var o=mf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=s&&u>=s)return{node:o,offset:s-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=mf(o)}}function vf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?vf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function yf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Lo(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=Lo(t.document)}return s}function Bl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var t_=Ln&&"documentMode"in document&&11>=document.documentMode,Rs=null,Gl=null,Ur=null,Vl=!1;function _f(t,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vl||Rs==null||Rs!==Lo(u)||(u=Rs,"selectionStart"in u&&Bl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ur&&Dr(Ur,u)||(Ur=u,u=ka(Gl,"onSelect"),0<u.length&&(s=new Vo("onSelect","select",null,s,o),t.push({event:s,listeners:u}),s.target=Rs)))}function Vi(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Ms={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},zl={},bf={};Ln&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function zi(t){if(zl[t])return zl[t];if(!Ms[t])return t;var s=Ms[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in bf)return zl[t]=s[o];return t}var Sf=zi("animationend"),xf=zi("animationiteration"),Tf=zi("animationstart"),n_=zi("transitionrun"),i_=zi("transitionstart"),s_=zi("transitioncancel"),Ef=zi("transitionend"),wf=new Map,Hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hl.push("scrollEnd");function mn(t,s){wf.set(t,s),Bi(s,[t])}var $o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],Is=0,$l=0;function Jo(){for(var t=Is,s=$l=Is=0;s<t;){var o=nn[s];nn[s++]=null;var u=nn[s];nn[s++]=null;var p=nn[s];nn[s++]=null;var v=nn[s];if(nn[s++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}v!==0&&Cf(o,p,v)}}function Fo(t,s,o,u){nn[Is++]=t,nn[Is++]=s,nn[Is++]=o,nn[Is++]=u,$l|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Jl(t,s,o,u){return Fo(t,s,o,u),Yo(t)}function Hi(t,s){return Fo(t,null,null,s),Yo(t)}function Cf(t,s,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=t.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&s!==null&&(p=31-st(o),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[s]:u.push(s),s.lane=o|536870912),v):null}function Yo(t){if(50<no)throw no=0,tc=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ks={};function r_(t,s,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,s,o,u){return new r_(t,s,o,u)}function Fl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,s){var o=t.alternate;return o===null?(o=Ht(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Af(t,s){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ko(t,s,o,u,p,v){var S=0;if(u=t,typeof t=="function")Fl(t)&&(S=1);else if(typeof t=="string")S=cb(t,o,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=Ht(31,o,s,p),t.elementType=Q,t.lanes=v,t;case N:return $i(o.children,p,v,s);case w:S=8,p|=24;break;case D:return t=Ht(12,o,s,p|2),t.elementType=D,t.lanes=v,t;case Y:return t=Ht(13,o,s,p),t.elementType=Y,t.lanes=v,t;case V:return t=Ht(19,o,s,p),t.elementType=V,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:S=10;break e;case L:S=9;break e;case q:S=11;break e;case B:S=14;break e;case Z:S=16,u=null;break e}S=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return s=Ht(S,o,s,p),s.elementType=t,s.type=u,s.lanes=v,s}function $i(t,s,o,u){return t=Ht(7,t,u,s),t.lanes=o,t}function Yl(t,s,o){return t=Ht(6,t,null,s),t.lanes=o,t}function Nf(t){var s=Ht(18,null,null,0);return s.stateNode=t,s}function Kl(t,s,o){return s=Ht(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Rf=new WeakMap;function sn(t,s){if(typeof t=="object"&&t!==null){var o=Rf.get(t);return o!==void 0?o:(s={value:t,source:s,stack:Li(s)},Rf.set(t,s),s)}return{value:t,source:s,stack:Li(s)}}var Ds=[],Us=0,Qo=null,Or=0,rn=[],on=0,ui=null,wn=1,Cn="";function qn(t,s){Ds[Us++]=Or,Ds[Us++]=Qo,Qo=t,Or=s}function Mf(t,s,o){rn[on++]=wn,rn[on++]=Cn,rn[on++]=ui,ui=t;var u=wn;t=Cn;var p=32-st(u)-1;u&=~(1<<p),o+=1;var v=32-st(s)+p;if(30<v){var S=p-p%5;v=(u&(1<<S)-1).toString(32),u>>=S,p-=S,wn=1<<32-st(s)+p|o<<p|u,Cn=v+t}else wn=1<<v|o<<p|u,Cn=t}function Ql(t){t.return!==null&&(qn(t,1),Mf(t,1,0))}function Xl(t){for(;t===Qo;)Qo=Ds[--Us],Ds[Us]=null,Or=Ds[--Us],Ds[Us]=null;for(;t===ui;)ui=rn[--on],rn[on]=null,Cn=rn[--on],rn[on]=null,wn=rn[--on],rn[on]=null}function If(t,s){rn[on++]=wn,rn[on++]=Cn,rn[on++]=ui,wn=s.id,Cn=s.overflow,ui=t}var Et=null,Qe=null,Me=!1,ci=null,an=!1,Zl=Error(r(519));function di(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pr(sn(s,t)),Zl}function kf(t){var s=t.stateNode,o=t.type,u=t.memoizedProps;switch(s[$e]=t,s[bt]=u,o){case"dialog":Ce("cancel",s),Ce("close",s);break;case"iframe":case"object":case"embed":Ce("load",s);break;case"video":case"audio":for(o=0;o<so.length;o++)Ce(so[o],s);break;case"source":Ce("error",s);break;case"img":case"image":case"link":Ce("error",s),Ce("load",s);break;case"details":Ce("toggle",s);break;case"input":Ce("invalid",s),Hd(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ce("invalid",s);break;case"textarea":Ce("invalid",s),Jd(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Kp(s.textContent,o)?(u.popover!=null&&(Ce("beforetoggle",s),Ce("toggle",s)),u.onScroll!=null&&Ce("scroll",s),u.onScrollEnd!=null&&Ce("scrollend",s),u.onClick!=null&&(s.onclick=Pn),s=!0):s=!1,s||di(t,!0)}function Df(t){for(Et=t.return;Et;)switch(Et.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Et=Et.return}}function Os(t){if(t!==Et)return!1;if(!Me)return Df(t),Me=!0,!1;var s=t.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||gc(t.type,t.memoizedProps)),o=!o),o&&Qe&&di(t),Df(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Qe=sm(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Qe=sm(t)}else s===27?(s=Qe,wi(t.type)?(t=Sc,Sc=null,Qe=t):Qe=s):Qe=Et?un(t.stateNode.nextSibling):null;return!0}function Ji(){Qe=Et=null,Me=!1}function Wl(){var t=ci;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),ci=null),t}function Pr(t){ci===null?ci=[t]:ci.push(t)}var eu=R(null),Fi=null,Bn=null;function fi(t,s,o){te(eu,s._currentValue),s._currentValue=o}function Gn(t){t._currentValue=eu.current,$(eu)}function tu(t,s,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===o)break;t=t.return}}function nu(t,s,o,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var S=p.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=p;for(var C=0;C<s.length;C++)if(T.context===s[C]){v.lanes|=o,T=v.alternate,T!==null&&(T.lanes|=o),tu(v.return,o,t),u||(S=null);break e}v=T.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),tu(S,o,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Ps(t,s,o,u){t=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var T=p.type;zt(p.pendingProps.value,S.value)||(t!==null?t.push(T):t=[T])}}else if(p===ke.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}p=p.return}t!==null&&nu(s,t,o,u),s.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yi(t){Fi=t,Bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return Uf(Fi,t)}function Zo(t,s){return Fi===null&&Yi(t),Uf(t,s)}function Uf(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Bn===null){if(t===null)throw Error(r(308));Bn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Bn=Bn.next=s;return o}var o_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},a_=n.unstable_scheduleCallback,l_=n.unstable_NormalPriority,ht={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iu(){return{controller:new o_,data:new Map,refCount:0}}function Lr(t){t.refCount--,t.refCount===0&&a_(l_,function(){t.controller.abort()})}var jr=null,su=0,Ls=0,js=null;function u_(t,s){if(jr===null){var o=jr=[];su=0,Ls=ac(),js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return su++,s.then(Of,Of),s}function Of(){if(--su===0&&jr!==null){js!==null&&(js.status="fulfilled");var t=jr;jr=null,Ls=0,js=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function c_(t,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Pf=U.S;U.S=function(t,s){_p=Nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&u_(t,s),Pf!==null&&Pf(t,s)};var Ki=R(null);function ru(){var t=Ki.current;return t!==null?t:Je.pooledCache}function Wo(t,s){s===null?te(Ki,Ki.current):te(Ki,s.pool)}function Lf(){var t=ru();return t===null?null:{parent:ht._currentValue,pool:t}}var qs=Error(r(460)),ou=Error(r(474)),ea=Error(r(542)),ta={then:function(){}};function jf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qf(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(Pn,Pn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Gf(t),t;default:if(typeof s.status=="string")s.then(Pn,Pn);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Gf(t),t}throw Xi=s,qs}}function Qi(t){try{var s=t._init;return s(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xi=o,qs):o}}var Xi=null;function Bf(){if(Xi===null)throw Error(r(459));var t=Xi;return Xi=null,t}function Gf(t){if(t===qs||t===ea)throw Error(r(483))}var Bs=null,qr=0;function na(t){var s=qr;return qr+=1,Bs===null&&(Bs=[]),qf(Bs,t,s)}function Br(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function ia(t,s){throw s.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Vf(t){function s(k,M){if(t){var O=k.deletions;O===null?(k.deletions=[M],k.flags|=16):O.push(M)}}function o(k,M){if(!t)return null;for(;M!==null;)s(k,M),M=M.sibling;return null}function u(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function p(k,M){return k=jn(k,M),k.index=0,k.sibling=null,k}function v(k,M,O){return k.index=O,t?(O=k.alternate,O!==null?(O=O.index,O<M?(k.flags|=67108866,M):O):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function S(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,O,J){return M===null||M.tag!==6?(M=Yl(O,k.mode,J),M.return=k,M):(M=p(M,O),M.return=k,M)}function C(k,M,O,J){var ce=O.type;return ce===N?z(k,M,O.props.children,J,O.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Z&&Qi(ce)===M.type)?(M=p(M,O.props),Br(M,O),M.return=k,M):(M=Ko(O.type,O.key,O.props,null,k.mode,J),Br(M,O),M.return=k,M)}function P(k,M,O,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Kl(O,k.mode,J),M.return=k,M):(M=p(M,O.children||[]),M.return=k,M)}function z(k,M,O,J,ce){return M===null||M.tag!==7?(M=$i(O,k.mode,J,ce),M.return=k,M):(M=p(M,O),M.return=k,M)}function F(k,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yl(""+M,k.mode,O),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return O=Ko(M.type,M.key,M.props,null,k.mode,O),Br(O,M),O.return=k,O;case A:return M=Kl(M,k.mode,O),M.return=k,M;case Z:return M=Qi(M),F(k,M,O)}if(Ie(M)||oe(M))return M=$i(M,k.mode,O,null),M.return=k,M;if(typeof M.then=="function")return F(k,na(M),O);if(M.$$typeof===I)return F(k,Zo(k,M),O);ia(k,M)}return null}function j(k,M,O,J){var ce=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ce!==null?null:T(k,M,""+O,J);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===ce?C(k,M,O,J):null;case A:return O.key===ce?P(k,M,O,J):null;case Z:return O=Qi(O),j(k,M,O,J)}if(Ie(O)||oe(O))return ce!==null?null:z(k,M,O,J,null);if(typeof O.then=="function")return j(k,M,na(O),J);if(O.$$typeof===I)return j(k,M,Zo(k,O),J);ia(k,O)}return null}function G(k,M,O,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(O)||null,T(M,k,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return k=k.get(J.key===null?O:J.key)||null,C(M,k,J,ce);case A:return k=k.get(J.key===null?O:J.key)||null,P(M,k,J,ce);case Z:return J=Qi(J),G(k,M,O,J,ce)}if(Ie(J)||oe(J))return k=k.get(O)||null,z(M,k,J,ce,null);if(typeof J.then=="function")return G(k,M,O,na(J),ce);if(J.$$typeof===I)return G(k,M,O,Zo(M,J),ce);ia(M,J)}return null}function ie(k,M,O,J){for(var ce=null,Ue=null,ae=M,xe=M=0,Ne=null;ae!==null&&xe<O.length;xe++){ae.index>xe?(Ne=ae,ae=null):Ne=ae.sibling;var Oe=j(k,ae,O[xe],J);if(Oe===null){ae===null&&(ae=Ne);break}t&&ae&&Oe.alternate===null&&s(k,ae),M=v(Oe,M,xe),Ue===null?ce=Oe:Ue.sibling=Oe,Ue=Oe,ae=Ne}if(xe===O.length)return o(k,ae),Me&&qn(k,xe),ce;if(ae===null){for(;xe<O.length;xe++)ae=F(k,O[xe],J),ae!==null&&(M=v(ae,M,xe),Ue===null?ce=ae:Ue.sibling=ae,Ue=ae);return Me&&qn(k,xe),ce}for(ae=u(ae);xe<O.length;xe++)Ne=G(ae,k,xe,O[xe],J),Ne!==null&&(t&&Ne.alternate!==null&&ae.delete(Ne.key===null?xe:Ne.key),M=v(Ne,M,xe),Ue===null?ce=Ne:Ue.sibling=Ne,Ue=Ne);return t&&ae.forEach(function(Mi){return s(k,Mi)}),Me&&qn(k,xe),ce}function he(k,M,O,J){if(O==null)throw Error(r(151));for(var ce=null,Ue=null,ae=M,xe=M=0,Ne=null,Oe=O.next();ae!==null&&!Oe.done;xe++,Oe=O.next()){ae.index>xe?(Ne=ae,ae=null):Ne=ae.sibling;var Mi=j(k,ae,Oe.value,J);if(Mi===null){ae===null&&(ae=Ne);break}t&&ae&&Mi.alternate===null&&s(k,ae),M=v(Mi,M,xe),Ue===null?ce=Mi:Ue.sibling=Mi,Ue=Mi,ae=Ne}if(Oe.done)return o(k,ae),Me&&qn(k,xe),ce;if(ae===null){for(;!Oe.done;xe++,Oe=O.next())Oe=F(k,Oe.value,J),Oe!==null&&(M=v(Oe,M,xe),Ue===null?ce=Oe:Ue.sibling=Oe,Ue=Oe);return Me&&qn(k,xe),ce}for(ae=u(ae);!Oe.done;xe++,Oe=O.next())Oe=G(ae,k,xe,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&ae.delete(Oe.key===null?xe:Oe.key),M=v(Oe,M,xe),Ue===null?ce=Oe:Ue.sibling=Oe,Ue=Oe);return t&&ae.forEach(function(Sb){return s(k,Sb)}),Me&&qn(k,xe),ce}function He(k,M,O,J){if(typeof O=="object"&&O!==null&&O.type===N&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var ce=O.key;M!==null;){if(M.key===ce){if(ce=O.type,ce===N){if(M.tag===7){o(k,M.sibling),J=p(M,O.props.children),J.return=k,k=J;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Z&&Qi(ce)===M.type){o(k,M.sibling),J=p(M,O.props),Br(J,O),J.return=k,k=J;break e}o(k,M);break}else s(k,M);M=M.sibling}O.type===N?(J=$i(O.props.children,k.mode,J,O.key),J.return=k,k=J):(J=Ko(O.type,O.key,O.props,null,k.mode,J),Br(J,O),J.return=k,k=J)}return S(k);case A:e:{for(ce=O.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){o(k,M.sibling),J=p(M,O.children||[]),J.return=k,k=J;break e}else{o(k,M);break}else s(k,M);M=M.sibling}J=Kl(O,k.mode,J),J.return=k,k=J}return S(k);case Z:return O=Qi(O),He(k,M,O,J)}if(Ie(O))return ie(k,M,O,J);if(oe(O)){if(ce=oe(O),typeof ce!="function")throw Error(r(150));return O=ce.call(O),he(k,M,O,J)}if(typeof O.then=="function")return He(k,M,na(O),J);if(O.$$typeof===I)return He(k,M,Zo(k,O),J);ia(k,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(o(k,M.sibling),J=p(M,O),J.return=k,k=J):(o(k,M),J=Yl(O,k.mode,J),J.return=k,k=J),S(k)):o(k,M)}return function(k,M,O,J){try{qr=0;var ce=He(k,M,O,J);return Bs=null,ce}catch(ae){if(ae===qs||ae===ea)throw ae;var Ue=Ht(29,ae,null,k.mode);return Ue.lanes=J,Ue.return=k,Ue}finally{}}}var Zi=Vf(!0),zf=Vf(!1),hi=!1;function au(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,s,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Le&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Yo(t),Cf(t,null,o),s}return Fo(t,u,s,o),Yo(t)}function Gr(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,wr(t,o)}}function uu(t,s){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?p=v=s:v=v.next=s}else p=v=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var cu=!1;function Vr(){if(cu){var t=js;if(t!==null)throw t}}function zr(t,s,o,u){cu=!1;var p=t.updateQueue;hi=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var C=T,P=C.next;C.next=null,S===null?v=P:S.next=P,S=C;var z=t.alternate;z!==null&&(z=z.updateQueue,T=z.lastBaseUpdate,T!==S&&(T===null?z.firstBaseUpdate=P:T.next=P,z.lastBaseUpdate=C))}if(v!==null){var F=p.baseState;S=0,z=P=C=null,T=v;do{var j=T.lane&-536870913,G=j!==T.lane;if(G?(Ae&j)===j:(u&j)===j){j!==0&&j===Ls&&(cu=!0),z!==null&&(z=z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ie=t,he=T;j=s;var He=o;switch(he.tag){case 1:if(ie=he.payload,typeof ie=="function"){F=ie.call(He,F,j);break e}F=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=he.payload,j=typeof ie=="function"?ie.call(He,F,j):ie,j==null)break e;F=b({},F,j);break e;case 2:hi=!0}}j=T.callback,j!==null&&(t.flags|=64,G&&(t.flags|=8192),G=p.callbacks,G===null?p.callbacks=[j]:G.push(j))}else G={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},z===null?(P=z=G,C=F):z=z.next=G,S|=j;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;G=T,T=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);z===null&&(C=F),p.baseState=C,p.firstBaseUpdate=P,p.lastBaseUpdate=z,v===null&&(p.shared.lanes=0),bi|=S,t.lanes=S,t.memoizedState=F}}function Hf(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function $f(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Hf(o[t],s)}var Gs=R(null),sa=R(0);function Jf(t,s){t=Qn,te(sa,t),te(Gs,s),Qn=t|s.baseLanes}function du(){te(sa,Qn),te(Gs,Gs.current)}function fu(){Qn=sa.current,$(Gs),$(sa)}var $t=R(null),ln=null;function gi(t){var s=t.alternate;te(ct,ct.current&1),te($t,t),ln===null&&(s===null||Gs.current!==null||s.memoizedState!==null)&&(ln=t)}function hu(t){te(ct,ct.current),te($t,t),ln===null&&(ln=t)}function Ff(t){t.tag===22?(te(ct,ct.current),te($t,t),ln===null&&(ln=t)):vi()}function vi(){te(ct,ct.current),te($t,$t.current)}function Jt(t){$($t),ln===t&&(ln=null),$(ct)}var ct=R(0);function ra(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_c(o)||bc(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vn=0,Se=null,Ve=null,pt=null,oa=!1,Vs=!1,Wi=!1,aa=0,Hr=0,zs=null,d_=0;function ot(){throw Error(r(321))}function pu(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!zt(t[o],s[o]))return!1;return!0}function mu(t,s,o,u,p,v){return Vn=v,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=t===null||t.memoizedState===null?Mh:Mu,Wi=!1,v=o(u,p),Wi=!1,Vs&&(v=Kf(s,o,u,p)),Yf(t),v}function Yf(t){U.H=Fr;var s=Ve!==null&&Ve.next!==null;if(Vn=0,pt=Ve=Se=null,oa=!1,Hr=0,zs=null,s)throw Error(r(300));t===null||mt||(t=t.dependencies,t!==null&&Xo(t)&&(mt=!0))}function Kf(t,s,o,u){Se=t;var p=0;do{if(Vs&&(zs=null),Hr=0,Vs=!1,25<=p)throw Error(r(301));if(p+=1,pt=Ve=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=Ih,v=s(o,u)}while(Vs);return v}function f_(){var t=U.H,s=t.useState()[0];return s=typeof s.then=="function"?$r(s):s,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Se.flags|=1024),s}function gu(){var t=aa!==0;return aa=0,t}function vu(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function yu(t){if(oa){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}oa=!1}Vn=0,pt=Ve=Se=null,Vs=!1,Hr=aa=0,zs=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Se.memoizedState=pt=t:pt=pt.next=t,pt}function dt(){if(Ve===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var s=pt===null?Se.memoizedState:pt.next;if(s!==null)pt=s,Ve=t;else{if(t===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},pt===null?Se.memoizedState=pt=t:pt=pt.next=t}return pt}function la(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $r(t){var s=Hr;return Hr+=1,zs===null&&(zs=[]),t=qf(zs,t,s),s=Se,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Mh:Mu),t}function ua(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $r(t);if(t.$$typeof===I)return wt(t)}throw Error(r(438,String(t)))}function _u(t){var s=null,o=Se.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=la(),Se.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),u=0;u<t;u++)o[u]=se;return s.index++,o}function zn(t,s){return typeof s=="function"?s(t):s}function ca(t){var s=dt();return bu(s,Ve,t)}function bu(t,s,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}s.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{s=p.next;var T=S=null,C=null,P=s,z=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ae&F)===F:(Vn&F)===F){var j=P.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Ls&&(z=!0);else if((Vn&j)===j){P=P.next,j===Ls&&(z=!0);continue}else F={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=F,S=v):C=C.next=F,Se.lanes|=j,bi|=j;F=P.action,Wi&&o(v,F),v=P.hasEagerState?P.eagerState:o(v,F)}else j={lane:F,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=j,S=v):C=C.next=j,Se.lanes|=F,bi|=F;P=P.next}while(P!==null&&P!==s);if(C===null?S=v:C.next=T,!zt(v,t.memoizedState)&&(mt=!0,z&&(o=js,o!==null)))throw o;t.memoizedState=v,t.baseState=S,t.baseQueue=C,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Su(t){var s=dt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,p=o.pending,v=s.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do v=t(v,S.action),S=S.next;while(S!==p);zt(v,s.memoizedState)||(mt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,u]}function Qf(t,s,o){var u=Se,p=dt(),v=Me;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!zt((Ve||p).memoizedState,o);if(S&&(p.memoizedState=o,mt=!0),p=p.queue,Eu(Wf.bind(null,u,p,t),[t]),p.getSnapshot!==s||S||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,Hs(9,{destroy:void 0},Zf.bind(null,u,p,o,s),null),Je===null)throw Error(r(349));v||(Vn&127)!==0||Xf(u,s,o)}return o}function Xf(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Se.updateQueue,s===null?(s=la(),Se.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Zf(t,s,o,u){s.value=o,s.getSnapshot=u,eh(s)&&th(t)}function Wf(t,s,o){return o(function(){eh(s)&&th(t)})}function eh(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!zt(t,o)}catch{return!0}}function th(t){var s=Hi(t,2);s!==null&&Gt(s,t,2)}function xu(t){var s=Ut();if(typeof t=="function"){var o=t;if(t=o(),Wi){hn(!0);try{o()}finally{hn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},s}function nh(t,s,o,u){return t.baseState=o,bu(t,Ve,typeof u=="function"?u:zn)}function h_(t,s,o,u,p){if(ha(t))throw Error(r(485));if(t=s.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};U.T!==null?o(!0):v.isTransition=!1,u(v),o=s.pending,o===null?(v.next=s.pending=v,ih(s,v)):(v.next=o.next,s.pending=o.next=v)}}function ih(t,s){var o=s.action,u=s.payload,p=t.state;if(s.isTransition){var v=U.T,S={};U.T=S;try{var T=o(p,u),C=U.S;C!==null&&C(S,T),sh(t,s,T)}catch(P){Tu(t,s,P)}finally{v!==null&&S.types!==null&&(v.types=S.types),U.T=v}}else try{v=o(p,u),sh(t,s,v)}catch(P){Tu(t,s,P)}}function sh(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){rh(t,s,u)},function(u){return Tu(t,s,u)}):rh(t,s,o)}function rh(t,s,o){s.status="fulfilled",s.value=o,oh(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,ih(t,o)))}function Tu(t,s,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,oh(s),s=s.next;while(s!==u)}t.action=null}function oh(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function ah(t,s){return s}function lh(t,s){if(Me){var o=Je.formState;if(o!==null){e:{var u=Se;if(Me){if(Qe){t:{for(var p=Qe,v=an;p.nodeType!==8;){if(!v){p=null;break t}if(p=un(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Qe=un(p.nextSibling),u=p.data==="F!";break e}}di(u)}u=!1}u&&(s=o[0])}}return o=Ut(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:s},o.queue=u,o=Ah.bind(null,Se,u),u.dispatch=o,u=xu(!1),v=Ru.bind(null,Se,!1,u.queue),u=Ut(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,o=h_.bind(null,Se,p,v,o),p.dispatch=o,u.memoizedState=t,[s,o,!1]}function uh(t){var s=dt();return ch(s,Ve,t)}function ch(t,s,o){if(s=bu(t,s,ah)[0],t=ca(zn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$r(s)}catch(S){throw S===qs?ea:S}else u=s;s=dt();var p=s.queue,v=p.dispatch;return o!==s.memoizedState&&(Se.flags|=2048,Hs(9,{destroy:void 0},p_.bind(null,p,o),null)),[u,v,t]}function p_(t,s){t.action=s}function dh(t){var s=dt(),o=Ve;if(o!==null)return ch(s,o,t);dt(),s=s.memoizedState,o=dt();var u=o.queue.dispatch;return o.memoizedState=t,[s,u,!1]}function Hs(t,s,o,u){return t={tag:t,create:o,deps:u,inst:s,next:null},s=Se.updateQueue,s===null&&(s=la(),Se.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,s.lastEffect=t),t}function fh(){return dt().memoizedState}function da(t,s,o,u){var p=Ut();Se.flags|=t,p.memoizedState=Hs(1|s,{destroy:void 0},o,u===void 0?null:u)}function fa(t,s,o,u){var p=dt();u=u===void 0?null:u;var v=p.memoizedState.inst;Ve!==null&&u!==null&&pu(u,Ve.memoizedState.deps)?p.memoizedState=Hs(s,v,o,u):(Se.flags|=t,p.memoizedState=Hs(1|s,v,o,u))}function hh(t,s){da(8390656,8,t,s)}function Eu(t,s){fa(2048,8,t,s)}function m_(t){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=la(),Se.updateQueue=s,s.events=[t];else{var o=s.events;o===null?s.events=[t]:o.push(t)}}function ph(t){var s=dt().memoizedState;return m_({ref:s,nextImpl:t}),function(){if((Le&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function mh(t,s){return fa(4,2,t,s)}function gh(t,s){return fa(4,4,t,s)}function vh(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function yh(t,s,o){o=o!=null?o.concat([t]):null,fa(4,4,vh.bind(null,s,t),o)}function wu(){}function _h(t,s){var o=dt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&pu(s,u[1])?u[0]:(o.memoizedState=[t,s],t)}function bh(t,s){var o=dt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&pu(s,u[1]))return u[0];if(u=t(),Wi){hn(!0);try{t()}finally{hn(!1)}}return o.memoizedState=[u,s],u}function Cu(t,s,o){return o===void 0||(Vn&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=s:(t.memoizedState=o,t=Sp(),Se.lanes|=t,bi|=t,o)}function Sh(t,s,o,u){return zt(o,s)?o:Gs.current!==null?(t=Cu(t,o,u),zt(t,s)||(mt=!0),t):(Vn&42)===0||(Vn&1073741824)!==0&&(Ae&261930)===0?(mt=!0,t.memoizedState=o):(t=Sp(),Se.lanes|=t,bi|=t,s)}function xh(t,s,o,u,p){var v=K.p;K.p=v!==0&&8>v?v:8;var S=U.T,T={};U.T=T,Ru(t,!1,s,o);try{var C=p(),P=U.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=c_(C,u);Jr(t,s,z,Kt(t))}else Jr(t,s,u,Kt(t))}catch(F){Jr(t,s,{then:function(){},status:"rejected",reason:F},Kt())}finally{K.p=v,S!==null&&T.types!==null&&(S.types=T.types),U.T=S}}function g_(){}function Au(t,s,o,u){if(t.tag!==5)throw Error(r(476));var p=Th(t).queue;xh(t,p,s,de,o===null?g_:function(){return Eh(t),o(u)})}function Th(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Eh(t){var s=Th(t);s.next===null&&(s=t.alternate.memoizedState),Jr(t,s.next.queue,{},Kt())}function Nu(){return wt(uo)}function wh(){return dt().memoizedState}function Ch(){return dt().memoizedState}function v_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=Kt();t=pi(o);var u=mi(s,t,o);u!==null&&(Gt(u,s,o),Gr(u,s,o)),s={cache:iu()},t.payload=s;return}s=s.return}}function y_(t,s,o){var u=Kt();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ha(t)?Nh(s,o):(o=Jl(t,s,o,u),o!==null&&(Gt(o,t,u),Rh(o,s,u)))}function Ah(t,s,o){var u=Kt();Jr(t,s,o,u)}function Jr(t,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ha(t))Nh(s,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,T=v(S,o);if(p.hasEagerState=!0,p.eagerState=T,zt(T,S))return Fo(t,s,p,0),Je===null&&Jo(),!1}catch{}finally{}if(o=Jl(t,s,p,u),o!==null)return Gt(o,t,u),Rh(o,s,u),!0}return!1}function Ru(t,s,o,u){if(u={lane:2,revertLane:ac(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ha(t)){if(s)throw Error(r(479))}else s=Jl(t,o,u,2),s!==null&&Gt(s,t,2)}function ha(t){var s=t.alternate;return t===Se||s!==null&&s===Se}function Nh(t,s){Vs=oa=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Rh(t,s,o){if((o&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,wr(t,o)}}var Fr={readContext:wt,use:ua,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Fr.useEffectEvent=ot;var Mh={readContext:wt,use:ua,useCallback:function(t,s){return Ut().memoizedState=[t,s===void 0?null:s],t},useContext:wt,useEffect:hh,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,da(4194308,4,vh.bind(null,s,t),o)},useLayoutEffect:function(t,s){return da(4194308,4,t,s)},useInsertionEffect:function(t,s){da(4,2,t,s)},useMemo:function(t,s){var o=Ut();s=s===void 0?null:s;var u=t();if(Wi){hn(!0);try{t()}finally{hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(t,s,o){var u=Ut();if(o!==void 0){var p=o(s);if(Wi){hn(!0);try{o(s)}finally{hn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=y_.bind(null,Se,t),[u.memoizedState,t]},useRef:function(t){var s=Ut();return t={current:t},s.memoizedState=t},useState:function(t){t=xu(t);var s=t.queue,o=Ah.bind(null,Se,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:wu,useDeferredValue:function(t,s){var o=Ut();return Cu(o,t,s)},useTransition:function(){var t=xu(!1);return t=xh.bind(null,Se,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var u=Se,p=Ut();if(Me){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Je===null)throw Error(r(349));(Ae&127)!==0||Xf(u,s,o)}p.memoizedState=o;var v={value:o,getSnapshot:s};return p.queue=v,hh(Wf.bind(null,u,v,t),[t]),u.flags|=2048,Hs(9,{destroy:void 0},Zf.bind(null,u,v,o,s),null),o},useId:function(){var t=Ut(),s=Je.identifierPrefix;if(Me){var o=Cn,u=wn;o=(u&~(1<<32-st(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=aa++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=d_++,s="_"+s+"r_"+o.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Nu,useFormState:lh,useActionState:lh,useOptimistic:function(t){var s=Ut();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Ru.bind(null,Se,!0,o),o.dispatch=s,[t,s]},useMemoCache:_u,useCacheRefresh:function(){return Ut().memoizedState=v_.bind(null,Se)},useEffectEvent:function(t){var s=Ut(),o={impl:t};return s.memoizedState=o,function(){if((Le&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Mu={readContext:wt,use:ua,useCallback:_h,useContext:wt,useEffect:Eu,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:bh,useReducer:ca,useRef:fh,useState:function(){return ca(zn)},useDebugValue:wu,useDeferredValue:function(t,s){var o=dt();return Sh(o,Ve.memoizedState,t,s)},useTransition:function(){var t=ca(zn)[0],s=dt().memoizedState;return[typeof t=="boolean"?t:$r(t),s]},useSyncExternalStore:Qf,useId:wh,useHostTransitionStatus:Nu,useFormState:uh,useActionState:uh,useOptimistic:function(t,s){var o=dt();return nh(o,Ve,t,s)},useMemoCache:_u,useCacheRefresh:Ch};Mu.useEffectEvent=ph;var Ih={readContext:wt,use:ua,useCallback:_h,useContext:wt,useEffect:Eu,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:bh,useReducer:Su,useRef:fh,useState:function(){return Su(zn)},useDebugValue:wu,useDeferredValue:function(t,s){var o=dt();return Ve===null?Cu(o,t,s):Sh(o,Ve.memoizedState,t,s)},useTransition:function(){var t=Su(zn)[0],s=dt().memoizedState;return[typeof t=="boolean"?t:$r(t),s]},useSyncExternalStore:Qf,useId:wh,useHostTransitionStatus:Nu,useFormState:dh,useActionState:dh,useOptimistic:function(t,s){var o=dt();return Ve!==null?nh(o,Ve,t,s):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:_u,useCacheRefresh:Ch};Ih.useEffectEvent=ph;function Iu(t,s,o,u){s=t.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ku={enqueueSetState:function(t,s,o){t=t._reactInternals;var u=Kt(),p=pi(u);p.payload=s,o!=null&&(p.callback=o),s=mi(t,p,u),s!==null&&(Gt(s,t,u),Gr(s,t,u))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var u=Kt(),p=pi(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=mi(t,p,u),s!==null&&(Gt(s,t,u),Gr(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=Kt(),u=pi(o);u.tag=2,s!=null&&(u.callback=s),s=mi(t,u,o),s!==null&&(Gt(s,t,o),Gr(s,t,o))}};function kh(t,s,o,u,p,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,S):s.prototype&&s.prototype.isPureReactComponent?!Dr(o,u)||!Dr(p,v):!0}function Dh(t,s,o,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==t&&ku.enqueueReplaceState(s,s.state,null)}function es(t,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(t=t.defaultProps){o===s&&(o=b({},o));for(var p in t)o[p]===void 0&&(o[p]=t[p])}return o}function Uh(t){$o(t)}function Oh(t){console.error(t)}function Ph(t){$o(t)}function pa(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Lh(t,s,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Du(t,s,o){return o=pi(o),o.tag=3,o.payload={element:null},o.callback=function(){pa(t,s)},o}function jh(t){return t=pi(t),t.tag=3,t}function qh(t,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){Lh(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Lh(s,o,u),typeof p!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function __(t,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ps(s,o,p,!0),o=$t.current,o!==null){switch(o.tag){case 31:case 13:return ln===null?Ca():o.alternate===null&&at===0&&(at=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===ta?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),sc(t,u,p)),!1;case 22:return o.flags|=65536,u===ta?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),sc(t,u,p)),!1}throw Error(r(435,o.tag))}return sc(t,u,p),Ca(),!1}if(Me)return s=$t.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Zl&&(t=Error(r(422),{cause:u}),Pr(sn(t,o)))):(u!==Zl&&(s=Error(r(423),{cause:u}),Pr(sn(s,o))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=sn(u,o),p=Du(t.stateNode,u,p),uu(t,p),at!==4&&(at=2)),!1;var v=Error(r(520),{cause:u});if(v=sn(v,o),to===null?to=[v]:to.push(v),at!==4&&(at=2),s===null)return!0;u=sn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=p&-p,o.lanes|=t,t=Du(o.stateNode,u,t),uu(o,t),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Si===null||!Si.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=jh(p),qh(p,t,o,u),uu(o,p),!1}o=o.return}while(o!==null);return!1}var Uu=Error(r(461)),mt=!1;function Ct(t,s,o,u){s.child=t===null?zf(s,null,o,u):Zi(s,t.child,o,u)}function Bh(t,s,o,u,p){o=o.render;var v=s.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return Yi(s),u=mu(t,s,o,S,v,p),T=gu(),t!==null&&!mt?(vu(t,s,p),Hn(t,s,p)):(Me&&T&&Ql(s),s.flags|=1,Ct(t,s,u,p),s.child)}function Gh(t,s,o,u,p){if(t===null){var v=o.type;return typeof v=="function"&&!Fl(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,Vh(t,s,v,u,p)):(t=Ko(o.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,!Vu(t,p)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:Dr,o(S,u)&&t.ref===s.ref)return Hn(t,s,p)}return s.flags|=1,t=jn(v,u),t.ref=s.ref,t.return=s,s.child=t}function Vh(t,s,o,u,p){if(t!==null){var v=t.memoizedProps;if(Dr(v,u)&&t.ref===s.ref)if(mt=!1,s.pendingProps=u=v,Vu(t,p))(t.flags&131072)!==0&&(mt=!0);else return s.lanes=t.lanes,Hn(t,s,p)}return Ou(t,s,o,u,p)}function zh(t,s,o,u){var p=u.children,v=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(u=s.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,s.child=null;return Hh(t,s,v,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(s,v!==null?v.cachePool:null),v!==null?Jf(s,v):du(),Ff(s);else return u=s.lanes=536870912,Hh(t,s,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(Wo(s,v.cachePool),Jf(s,v),vi(),s.memoizedState=null):(t!==null&&Wo(s,null),du(),vi());return Ct(t,s,p,o),s.child}function Yr(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Hh(t,s,o,u,p){var v=ru();return v=v===null?null:{parent:ht._currentValue,pool:v},s.memoizedState={baseLanes:o,cachePool:v},t!==null&&Wo(s,null),du(),Ff(s),t!==null&&Ps(t,s,u,!0),s.childLanes=p,null}function ma(t,s){return s=va({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function $h(t,s,o){return Zi(s,t.child,null,o),t=ma(s,s.pendingProps),t.flags|=2,Jt(s),s.memoizedState=null,t}function b_(t,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Me){if(u.mode==="hidden")return t=ma(s,u),s.lanes=536870912,Yr(null,t);if(hu(s),(t=Qe)?(t=im(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ui!==null?{id:wn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},o=Nf(t),o.return=s,s.child=o,Et=s,Qe=null)):t=null,t===null)throw di(s);return s.lanes=536870912,null}return ma(s,u)}var v=t.memoizedState;if(v!==null){var S=v.dehydrated;if(hu(s),p)if(s.flags&256)s.flags&=-257,s=$h(t,s,o);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(mt||Ps(t,s,o,!1),p=(o&t.childLanes)!==0,mt||p){if(u=Je,u!==null&&(S=W(u,o),S!==0&&S!==v.retryLane))throw v.retryLane=S,Hi(t,S),Gt(u,t,S),Uu;Ca(),s=$h(t,s,o)}else t=v.treeContext,Qe=un(S.nextSibling),Et=s,Me=!0,ci=null,an=!1,t!==null&&If(s,t),s=ma(s,u),s.flags|=4096;return s}return t=jn(t.child,{mode:u.mode,children:u.children}),t.ref=s.ref,s.child=t,t.return=s,t}function ga(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(s.flags|=4194816)}}function Ou(t,s,o,u,p){return Yi(s),o=mu(t,s,o,u,void 0,p),u=gu(),t!==null&&!mt?(vu(t,s,p),Hn(t,s,p)):(Me&&u&&Ql(s),s.flags|=1,Ct(t,s,o,p),s.child)}function Jh(t,s,o,u,p,v){return Yi(s),s.updateQueue=null,o=Kf(s,u,o,p),Yf(t),u=gu(),t!==null&&!mt?(vu(t,s,v),Hn(t,s,v)):(Me&&u&&Ql(s),s.flags|=1,Ct(t,s,o,v),s.child)}function Fh(t,s,o,u,p){if(Yi(s),s.stateNode===null){var v=ks,S=o.contextType;typeof S=="object"&&S!==null&&(v=wt(S)),v=new o(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ku,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},au(s),S=o.contextType,v.context=typeof S=="object"&&S!==null?wt(S):ks,v.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Iu(s,o,S,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&ku.enqueueReplaceState(v,v.state,null),zr(s,u,v,p),Vr(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){v=s.stateNode;var T=s.memoizedProps,C=es(o,T);v.props=C;var P=v.context,z=o.contextType;S=ks,typeof z=="object"&&z!==null&&(S=wt(z));var F=o.getDerivedStateFromProps;z=typeof F=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||P!==S)&&Dh(s,v,u,S),hi=!1;var j=s.memoizedState;v.state=j,zr(s,u,v,p),Vr(),P=s.memoizedState,T||j!==P||hi?(typeof F=="function"&&(Iu(s,o,F,u),P=s.memoizedState),(C=hi||kh(s,o,C,u,j,P,S))?(z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=P),v.props=u,v.state=P,v.context=S,u=C):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,lu(t,s),S=s.memoizedProps,z=es(o,S),v.props=z,F=s.pendingProps,j=v.context,P=o.contextType,C=ks,typeof P=="object"&&P!==null&&(C=wt(P)),T=o.getDerivedStateFromProps,(P=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==F||j!==C)&&Dh(s,v,u,C),hi=!1,j=s.memoizedState,v.state=j,zr(s,u,v,p),Vr();var G=s.memoizedState;S!==F||j!==G||hi||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof T=="function"&&(Iu(s,o,T,u),G=s.memoizedState),(z=hi||kh(s,o,z,u,j,G,C)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(P||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,G,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,G,C)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),v.props=u,v.state=G,v.context=C,u=z):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=1024),u=!1)}return v=u,ga(t,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,t!==null&&u?(s.child=Zi(s,t.child,null,p),s.child=Zi(s,null,o,p)):Ct(t,s,o,p),s.memoizedState=v.state,t=s.child):t=Hn(t,s,p),t}function Yh(t,s,o,u){return Ji(),s.flags|=256,Ct(t,s,o,u),s.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(t){return{baseLanes:t,cachePool:Lf()}}function ju(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=Yt),t}function Kh(t,s,o){var u=s.pendingProps,p=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(ct.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,t===null){if(Me){if(p?gi(s):vi(),(t=Qe)?(t=im(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ui!==null?{id:wn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},o=Nf(t),o.return=s,s.child=o,Et=s,Qe=null)):t=null,t===null)throw di(s);return bc(t)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,p?(vi(),p=s.mode,T=va({mode:"hidden",children:T},p),u=$i(u,p,o,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=Lu(o),u.childLanes=ju(t,S,o),s.memoizedState=Pu,Yr(null,u)):(gi(s),qu(s,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(v)s.flags&256?(gi(s),s.flags&=-257,s=Bu(t,s,o)):s.memoizedState!==null?(vi(),s.child=t.child,s.flags|=128,s=null):(vi(),T=u.fallback,p=s.mode,u=va({mode:"visible",children:u.children},p),T=$i(T,p,o,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,Zi(s,t.child,null,o),u=s.child,u.memoizedState=Lu(o),u.childLanes=ju(t,S,o),s.memoizedState=Pu,s=Yr(null,u));else if(gi(s),bc(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var P=S.dgst;S=P,u=Error(r(419)),u.stack="",u.digest=S,Pr({value:u,source:null,stack:null}),s=Bu(t,s,o)}else if(mt||Ps(t,s,o,!1),S=(o&t.childLanes)!==0,mt||S){if(S=Je,S!==null&&(u=W(S,o),u!==0&&u!==C.retryLane))throw C.retryLane=u,Hi(t,u),Gt(S,t,u),Uu;_c(T)||Ca(),s=Bu(t,s,o)}else _c(T)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,Qe=un(T.nextSibling),Et=s,Me=!0,ci=null,an=!1,t!==null&&If(s,t),s=qu(s,u.children),s.flags|=4096);return s}return p?(vi(),T=u.fallback,p=s.mode,C=t.child,P=C.sibling,u=jn(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=jn(P,T):(T=$i(T,p,o,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,Yr(null,u),u=s.child,T=t.child.memoizedState,T===null?T=Lu(o):(p=T.cachePool,p!==null?(C=ht._currentValue,p=p.parent!==C?{parent:C,pool:C}:p):p=Lf(),T={baseLanes:T.baseLanes|o,cachePool:p}),u.memoizedState=T,u.childLanes=ju(t,S,o),s.memoizedState=Pu,Yr(t.child,u)):(gi(s),o=t.child,t=o.sibling,o=jn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,t!==null&&(S=s.deletions,S===null?(s.deletions=[t],s.flags|=16):S.push(t)),s.child=o,s.memoizedState=null,o)}function qu(t,s){return s=va({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function va(t,s){return t=Ht(22,t,null,s),t.lanes=0,t}function Bu(t,s,o){return Zi(s,t.child,null,o),t=qu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Qh(t,s,o){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),tu(t.return,s,o)}function Gu(t,s,o,u,p,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=p,S.treeForkCount=v)}function Xh(t,s,o){var u=s.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var S=ct.current,T=(S&2)!==0;if(T?(S=S&1|2,s.flags|=128):S&=1,te(ct,S),Ct(t,s,u,o),u=Me?Or:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qh(t,o,s);else if(t.tag===19)Qh(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)t=o.alternate,t!==null&&ra(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Gu(s,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&ra(t)===null){s.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}Gu(s,!0,o,null,v,u);break;case"together":Gu(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Hn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),bi|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(Ps(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,o=jn(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=jn(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function Vu(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function S_(t,s,o){switch(s.tag){case 3:ft(s,s.stateNode.containerInfo),fi(s,ht,t.memoizedState.cache),Ji();break;case 27:case 5:Rn(s);break;case 4:ft(s,s.stateNode.containerInfo);break;case 10:fi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,hu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(gi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Kh(t,s,o):(gi(s),t=Hn(t,s,o),t!==null?t.sibling:null);gi(s);break;case 19:var p=(t.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ps(t,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return Xh(t,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(ct,ct.current),u)break;return null;case 22:return s.lanes=0,zh(t,s,o,s.pendingProps);case 24:fi(s,ht,t.memoizedState.cache)}return Hn(t,s,o)}function Zh(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)mt=!0;else{if(!Vu(t,o)&&(s.flags&128)===0)return mt=!1,S_(t,s,o);mt=(t.flags&131072)!==0}else mt=!1,Me&&(s.flags&1048576)!==0&&Mf(s,Or,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(t=Qi(s.elementType),s.type=t,typeof t=="function")Fl(t)?(u=es(t,u),s.tag=1,s=Fh(null,s,t,u,o)):(s.tag=0,s=Ou(null,s,t,u,o));else{if(t!=null){var p=t.$$typeof;if(p===q){s.tag=11,s=Bh(null,s,t,u,o);break e}else if(p===B){s.tag=14,s=Gh(null,s,t,u,o);break e}}throw s=Ye(t)||t,Error(r(306,s,""))}}return s;case 0:return Ou(t,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=es(u,s.pendingProps),Fh(t,s,u,p,o);case 3:e:{if(ft(s,s.stateNode.containerInfo),t===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;p=v.element,lu(t,s),zr(s,u,null,o);var S=s.memoizedState;if(u=S.cache,fi(s,ht,u),u!==v.cache&&nu(s,[ht],o,!0),Vr(),u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Yh(t,s,u,o);break e}else if(u!==p){p=sn(Error(r(424)),s),Pr(p),s=Yh(t,s,u,o);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Qe=un(t.firstChild),Et=s,Me=!0,ci=null,an=!0,o=zf(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ji(),u===p){s=Hn(t,s,o);break e}Ct(t,s,u,o)}s=s.child}return s;case 26:return ga(t,s),t===null?(o=um(s.type,null,s.pendingProps,null))?s.memoizedState=o:Me||(o=s.type,t=s.pendingProps,u=Da(me.current).createElement(o),u[$e]=s,u[bt]=t,At(u,o,t),Ke(u),s.stateNode=u):s.memoizedState=um(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Rn(s),t===null&&Me&&(u=s.stateNode=om(s.type,s.pendingProps,me.current),Et=s,an=!0,p=Qe,wi(s.type)?(Sc=p,Qe=un(u.firstChild)):Qe=p),Ct(t,s,s.pendingProps.children,o),ga(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Me&&((p=u=Qe)&&(u=X_(u,s.type,s.pendingProps,an),u!==null?(s.stateNode=u,Et=s,Qe=un(u.firstChild),an=!1,p=!0):p=!1),p||di(s)),Rn(s),p=s.type,v=s.pendingProps,S=t!==null?t.memoizedProps:null,u=v.children,gc(p,v)?u=null:S!==null&&gc(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=mu(t,s,f_,null,null,o),uo._currentValue=p),ga(t,s),Ct(t,s,u,o),s.child;case 6:return t===null&&Me&&((t=o=Qe)&&(o=Z_(o,s.pendingProps,an),o!==null?(s.stateNode=o,Et=s,Qe=null,t=!0):t=!1),t||di(s)),null;case 13:return Kh(t,s,o);case 4:return ft(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Zi(s,null,u,o):Ct(t,s,u,o),s.child;case 11:return Bh(t,s,s.type,s.pendingProps,o);case 7:return Ct(t,s,s.pendingProps,o),s.child;case 8:return Ct(t,s,s.pendingProps.children,o),s.child;case 12:return Ct(t,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,fi(s,s.type,u.value),Ct(t,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Yi(s),p=wt(p),u=u(p),s.flags|=1,Ct(t,s,u,o),s.child;case 14:return Gh(t,s,s.type,s.pendingProps,o);case 15:return Vh(t,s,s.type,s.pendingProps,o);case 19:return Xh(t,s,o);case 31:return b_(t,s,o);case 22:return zh(t,s,o,s.pendingProps);case 24:return Yi(s),u=wt(ht),t===null?(p=ru(),p===null&&(p=Je,v=iu(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),s.memoizedState={parent:u,cache:p},au(s),fi(s,ht,p)):((t.lanes&o)!==0&&(lu(t,s),zr(s,null,null,o),Vr()),p=t.memoizedState,v=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),fi(s,ht,u)):(u=v.cache,fi(s,ht,u),u!==p.cache&&nu(s,[ht],o,!0))),Ct(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $n(t){t.flags|=4}function zu(t,s,o,u,p){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(wp())t.flags|=8192;else throw Xi=ta,ou}else t.flags&=-16777217}function Wh(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pm(s))if(wp())t.flags|=8192;else throw Xi=ta,ou}function ya(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ko():536870912,t.lanes|=s,Ys|=s)}function Kr(t,s){if(!Me)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Xe(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(s)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=o,s}function x_(t,s,o){var u=s.pendingProps;switch(Xl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return o=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Gn(ht),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Os(s)?$n(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wl())),Xe(s),null;case 26:var p=s.type,v=s.memoizedState;return t===null?($n(s),v!==null?(Xe(s),Wh(s,v)):(Xe(s),zu(s,p,null,u,o))):v?v!==t.memoizedState?($n(s),Xe(s),Wh(s,v)):(Xe(s),s.flags&=-16777217):(t=t.memoizedProps,t!==u&&$n(s),Xe(s),zu(s,p,t,u,o)),null;case 27:if(Tn(s),o=me.current,p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&$n(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}t=X.current,Os(s)?kf(s):(t=om(p,u,o),s.stateNode=t,$n(s))}return Xe(s),null;case 5:if(Tn(s),p=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&$n(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}if(v=X.current,Os(s))kf(s);else{var S=Da(me.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?S.createElement(p,{is:u.is}):S.createElement(p)}}v[$e]=s,v[bt]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;e:switch(At(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$n(s)}}return Xe(s),zu(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,o),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&$n(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(t=me.current,Os(s)){if(t=s.stateNode,o=s.memoizedProps,u=null,p=Et,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[$e]=s,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Kp(t.nodeValue,o)),t||di(s,!0)}else t=Da(t).createTextNode(u),t[$e]=s,s.stateNode=t}return Xe(s),null;case 31:if(o=s.memoizedState,t===null||t.memoizedState!==null){if(u=Os(s),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[$e]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),t=!1}else o=Wl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return s.flags&256?(Jt(s),s):(Jt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Xe(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Os(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[$e]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),p=!1}else p=Wl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Jt(s),s):(Jt(s),null)}return Jt(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==t&&o&&(s.child.flags|=8192),ya(s,s.updateQueue),Xe(s),null);case 4:return tt(),t===null&&dc(s.stateNode.containerInfo),Xe(s),null;case 10:return Gn(s.type),Xe(s),null;case 19:if($(ct),u=s.memoizedState,u===null)return Xe(s),null;if(p=(s.flags&128)!==0,v=u.rendering,v===null)if(p)Kr(u,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=ra(t),v!==null){for(s.flags|=128,Kr(u,!1),t=v.updateQueue,s.updateQueue=t,ya(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)Af(o,t),o=o.sibling;return te(ct,ct.current&1|2),Me&&qn(s,u.treeForkCount),s.child}t=t.sibling}u.tail!==null&&Nt()>Ta&&(s.flags|=128,p=!0,Kr(u,!1),s.lanes=4194304)}else{if(!p)if(t=ra(v),t!==null){if(s.flags|=128,p=!0,t=t.updateQueue,s.updateQueue=t,ya(s,t),Kr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Me)return Xe(s),null}else 2*Nt()-u.renderingStartTime>Ta&&o!==536870912&&(s.flags|=128,p=!0,Kr(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(t=u.last,t!==null?t.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Nt(),t.sibling=null,o=ct.current,te(ct,p?o&1|2:o&1),Me&&qn(s,u.treeForkCount),t):(Xe(s),null);case 22:case 23:return Jt(s),fu(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),o=s.updateQueue,o!==null&&ya(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),t!==null&&$(Ki),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Gn(ht),Xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function T_(t,s){switch(Xl(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Gn(ht),tt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Tn(s),null;case 31:if(s.memoizedState!==null){if(Jt(s),s.alternate===null)throw Error(r(340));Ji()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Jt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ji()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return $(ct),null;case 4:return tt(),null;case 10:return Gn(s.type),null;case 22:case 23:return Jt(s),fu(),t!==null&&$(Ki),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Gn(ht),null;case 25:return null;default:return null}}function ep(t,s){switch(Xl(s),s.tag){case 3:Gn(ht),tt();break;case 26:case 27:case 5:Tn(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&Jt(s);break;case 13:Jt(s);break;case 19:$(ct);break;case 10:Gn(s.type);break;case 22:case 23:Jt(s),fu(),t!==null&&$(Ki);break;case 24:Gn(ht)}}function Qr(t,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&t)===t){u=void 0;var v=o.create,S=o.inst;u=v(),S.destroy=u}o=o.next}while(o!==p)}}catch(T){Ge(s,s.return,T)}}function yi(t,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,p=s;var C=o,P=T;try{P()}catch(z){Ge(p,C,z)}}}u=u.next}while(u!==v)}}catch(z){Ge(s,s.return,z)}}function tp(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{$f(s,o)}catch(u){Ge(t,t.return,u)}}}function np(t,s,o){o.props=es(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(t,s,u)}}function Xr(t,s){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(p){Ge(t,s,p)}}function An(t,s){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ge(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ge(t,s,p)}else o.current=null}function ip(t){var s=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ge(t,t.return,p)}}function Hu(t,s,o){try{var u=t.stateNode;$_(u,t.type,o,s),u[bt]=s}catch(p){Ge(t,t.return,p)}}function sp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function $u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ju(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(t),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Pn));else if(u!==4&&(u===27&&wi(t.type)&&(o=t.stateNode,s=null),t=t.child,t!==null))for(Ju(t,s,o),t=t.sibling;t!==null;)Ju(t,s,o),t=t.sibling}function _a(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(u!==4&&(u===27&&wi(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(_a(t,s,o),t=t.sibling;t!==null;)_a(t,s,o),t=t.sibling}function rp(t){var s=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);At(s,u,o),s[$e]=t,s[bt]=o}catch(v){Ge(t,t.return,v)}}var Jn=!1,gt=!1,Fu=!1,op=typeof WeakSet=="function"?WeakSet:Set,St=null;function E_(t,s){if(t=t.containerInfo,pc=Ba,t=yf(t),Bl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var S=0,T=-1,C=-1,P=0,z=0,F=t,j=null;t:for(;;){for(var G;F!==o||p!==0&&F.nodeType!==3||(T=S+p),F!==v||u!==0&&F.nodeType!==3||(C=S+u),F.nodeType===3&&(S+=F.nodeValue.length),(G=F.firstChild)!==null;)j=F,F=G;for(;;){if(F===t)break t;if(j===o&&++P===p&&(T=S),j===v&&++z===u&&(C=S),(G=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=G}o=T===-1||C===-1?null:{start:T,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(mc={focusedElem:t,selectionRange:o},Ba=!1,St=s;St!==null;)if(s=St,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,St=t;else for(;St!==null;){switch(s=St,v=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)p=t[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=s,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var ie=es(o.type,p);t=u.getSnapshotBeforeUpdate(ie,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(he){Ge(o,o.return,he)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)yc(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,St=t;break}St=s.return}}function ap(t,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Yn(t,o),u&4&&Qr(5,o);break;case 1:if(Yn(t,o),u&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(S){Ge(o,o.return,S)}else{var p=es(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ge(o,o.return,S)}}u&64&&tp(o),u&512&&Xr(o,o.return);break;case 3:if(Yn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{$f(t,s)}catch(S){Ge(o,o.return,S)}}break;case 27:s===null&&u&4&&rp(o);case 26:case 5:Yn(t,o),s===null&&u&4&&ip(o),u&512&&Xr(o,o.return);break;case 12:Yn(t,o);break;case 31:Yn(t,o),u&4&&cp(t,o);break;case 13:Yn(t,o),u&4&&dp(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=D_.bind(null,o),W_(t,o))));break;case 22:if(u=o.memoizedState!==null||Jn,!u){s=s!==null&&s.memoizedState!==null||gt,p=Jn;var v=gt;Jn=u,(gt=s)&&!v?Kn(t,o,(o.subtreeFlags&8772)!==0):Yn(t,o),Jn=p,gt=v}break;case 30:break;default:Yn(t,o)}}function lp(t){var s=t.alternate;s!==null&&(t.alternate=null,lp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&qe(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,Lt=!1;function Fn(t,s,o){for(o=o.child;o!==null;)up(t,s,o),o=o.sibling}function up(t,s,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(kn,o)}catch{}switch(o.tag){case 26:gt||An(o,s),Fn(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||An(o,s);var u=et,p=Lt;wi(o.type)&&(et=o.stateNode,Lt=!1),Fn(t,s,o),oo(o.stateNode),et=u,Lt=p;break;case 5:gt||An(o,s);case 6:if(u=et,p=Lt,et=null,Fn(t,s,o),et=u,Lt=p,et!==null)if(Lt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(o.stateNode)}catch(v){Ge(o,s,v)}else try{et.removeChild(o.stateNode)}catch(v){Ge(o,s,v)}break;case 18:et!==null&&(Lt?(t=et,tm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),nr(t)):tm(et,o.stateNode));break;case 4:u=et,p=Lt,et=o.stateNode.containerInfo,Lt=!0,Fn(t,s,o),et=u,Lt=p;break;case 0:case 11:case 14:case 15:yi(2,o,s),gt||yi(4,o,s),Fn(t,s,o);break;case 1:gt||(An(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&np(o,s,u)),Fn(t,s,o);break;case 21:Fn(t,s,o);break;case 22:gt=(u=gt)||o.memoizedState!==null,Fn(t,s,o),gt=u;break;default:Fn(t,s,o)}}function cp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nr(t)}catch(o){Ge(s,s.return,o)}}}function dp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nr(t)}catch(o){Ge(s,s.return,o)}}function w_(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new op),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new op),s;default:throw Error(r(435,t.tag))}}function ba(t,s){var o=w_(t);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=U_.bind(null,t,u);u.then(p,p)}})}function jt(t,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=t,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(wi(T.type)){et=T.stateNode,Lt=!1;break e}break;case 5:et=T.stateNode,Lt=!1;break e;case 3:case 4:et=T.stateNode.containerInfo,Lt=!0;break e}T=T.return}if(et===null)throw Error(r(160));up(v,S,p),et=null,Lt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fp(s,t),s=s.sibling}var gn=null;function fp(t,s){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jt(s,t),qt(t),u&4&&(yi(3,t,t.return),Qr(3,t),yi(5,t,t.return));break;case 1:jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),u&64&&Jn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=gn;if(jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ot]||v[$e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),At(v,u,o),v[$e]=t,Ke(v),u=v;break e;case"link":var S=fm("link","href",p).get(u+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(v=S[T],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break t}}v=p.createElement(u),At(v,u,o),p.head.appendChild(v);break;case"meta":if(S=fm("meta","content",p).get(u+(o.content||""))){for(T=0;T<S.length;T++)if(v=S[T],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break t}}v=p.createElement(u),At(v,u,o),p.head.appendChild(v);break;default:throw Error(r(468,u))}v[$e]=t,Ke(v),u=v}t.stateNode=u}else hm(p,t.type,t.stateNode);else t.stateNode=dm(p,u,t.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?hm(p,t.type,t.stateNode):dm(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Hu(t,t.memoizedProps,o.memoizedProps)}break;case 27:jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),o!==null&&u&4&&Hu(t,t.memoizedProps,o.memoizedProps);break;case 5:if(jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),t.flags&32){p=t.stateNode;try{ws(p,"")}catch(ie){Ge(t,t.return,ie)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,Hu(t,p,o!==null?o.memoizedProps:p)),u&1024&&(Fu=!0);break;case 6:if(jt(s,t),qt(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(ie){Ge(t,t.return,ie)}}break;case 3:if(Pa=null,p=gn,gn=Ua(s.containerInfo),jt(s,t),gn=p,qt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nr(s.containerInfo)}catch(ie){Ge(t,t.return,ie)}Fu&&(Fu=!1,hp(t));break;case 4:u=gn,gn=Ua(t.stateNode.containerInfo),jt(s,t),qt(t),gn=u;break;case 12:jt(s,t),qt(t);break;case 31:jt(s,t),qt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ba(t,u)));break;case 13:jt(s,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(xa=Nt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ba(t,u)));break;case 22:p=t.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,P=Jn,z=gt;if(Jn=P||p,gt=z||C,jt(s,t),gt=z,Jn=P,qt(t),u&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||C||Jn||gt||ts(t)),o=null,s=t;;){if(s.tag===5||s.tag===26){if(o===null){C=o=s;try{if(v=C.stateNode,p)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=C.stateNode;var F=C.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ie){Ge(C,C.return,ie)}}}else if(s.tag===6){if(o===null){C=s;try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(ie){Ge(C,C.return,ie)}}}else if(s.tag===18){if(o===null){C=s;try{var G=C.stateNode;p?nm(G,!0):nm(C.stateNode,!1)}catch(ie){Ge(C,C.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ba(t,o))));break;case 19:jt(s,t),qt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ba(t,u)));break;case 30:break;case 21:break;default:jt(s,t),qt(t)}}function qt(t){var s=t.flags;if(s&2){try{for(var o,u=t.return;u!==null;){if(sp(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,v=$u(t);_a(t,v,p);break;case 5:var S=o.stateNode;o.flags&32&&(ws(S,""),o.flags&=-33);var T=$u(t);_a(t,T,S);break;case 3:case 4:var C=o.stateNode.containerInfo,P=$u(t);Ju(t,P,C);break;default:throw Error(r(161))}}catch(z){Ge(t,t.return,z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;hp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Yn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ap(t,s.alternate,s),s=s.sibling}function ts(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),ts(s);break;case 1:An(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&np(s,s.return,o),ts(s);break;case 27:oo(s.stateNode);case 26:case 5:An(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}t=t.sibling}}function Kn(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Kn(p,v,o),Qr(4,v);break;case 1:if(Kn(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(P){Ge(u,u.return,P)}if(u=v,p=u.updateQueue,p!==null){var T=u.stateNode;try{var C=p.shared.hiddenCallbacks;if(C!==null)for(p.shared.hiddenCallbacks=null,p=0;p<C.length;p++)Hf(C[p],T)}catch(P){Ge(u,u.return,P)}}o&&S&64&&tp(v),Xr(v,v.return);break;case 27:rp(v);case 26:case 5:Kn(p,v,o),o&&u===null&&S&4&&ip(v),Xr(v,v.return);break;case 12:Kn(p,v,o);break;case 31:Kn(p,v,o),o&&S&4&&cp(p,v);break;case 13:Kn(p,v,o),o&&S&4&&dp(p,v);break;case 22:v.memoizedState===null&&Kn(p,v,o),Xr(v,v.return);break;case 30:break;default:Kn(p,v,o)}s=s.sibling}}function Yu(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Lr(o))}function Ku(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Lr(t))}function vn(t,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pp(t,s,o,u),s=s.sibling}function pp(t,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:vn(t,s,o,u),p&2048&&Qr(9,s);break;case 1:vn(t,s,o,u);break;case 3:vn(t,s,o,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Lr(t)));break;case 12:if(p&2048){vn(t,s,o,u),t=s.stateNode;try{var v=s.memoizedProps,S=v.id,T=v.onPostCommit;typeof T=="function"&&T(S,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ge(s,s.return,C)}}else vn(t,s,o,u);break;case 31:vn(t,s,o,u);break;case 13:vn(t,s,o,u);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?vn(t,s,o,u):Zr(t,s):v._visibility&2?vn(t,s,o,u):(v._visibility|=2,$s(t,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Yu(S,s);break;case 24:vn(t,s,o,u),p&2048&&Ku(s.alternate,s);break;default:vn(t,s,o,u)}}function $s(t,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=t,S=s,T=o,C=u,P=S.flags;switch(S.tag){case 0:case 11:case 15:$s(v,S,T,C,p),Qr(8,S);break;case 23:break;case 22:var z=S.stateNode;S.memoizedState!==null?z._visibility&2?$s(v,S,T,C,p):Zr(v,S):(z._visibility|=2,$s(v,S,T,C,p)),p&&P&2048&&Yu(S.alternate,S);break;case 24:$s(v,S,T,C,p),p&&P&2048&&Ku(S.alternate,S);break;default:$s(v,S,T,C,p)}s=s.sibling}}function Zr(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,u=s,p=u.flags;switch(u.tag){case 22:Zr(o,u),p&2048&&Yu(u.alternate,u);break;case 24:Zr(o,u),p&2048&&Ku(u.alternate,u);break;default:Zr(o,u)}s=s.sibling}}var Wr=8192;function Js(t,s,o){if(t.subtreeFlags&Wr)for(t=t.child;t!==null;)mp(t,s,o),t=t.sibling}function mp(t,s,o){switch(t.tag){case 26:Js(t,s,o),t.flags&Wr&&t.memoizedState!==null&&db(o,gn,t.memoizedState,t.memoizedProps);break;case 5:Js(t,s,o);break;case 3:case 4:var u=gn;gn=Ua(t.stateNode.containerInfo),Js(t,s,o),gn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Wr,Wr=16777216,Js(t,s,o),Wr=u):Js(t,s,o));break;default:Js(t,s,o)}}function gp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function eo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];St=u,yp(u,t)}gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&yi(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Sa(t)):eo(t);break;default:eo(t)}}function Sa(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];St=u,yp(u,t)}gp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:yi(8,s,s.return),Sa(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sa(s));break;default:Sa(s)}t=t.sibling}}function yp(t,s){for(;St!==null;){var o=St;switch(o.tag){case 0:case 11:case 15:yi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,St=u;else e:for(o=t;St!==null;){u=St;var p=u.sibling,v=u.return;if(lp(u),u===o){St=null;break e}if(p!==null){p.return=v,St=p;break e}St=v}}}var C_={getCacheForType:function(t){var s=wt(ht),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o},cacheSignal:function(){return wt(ht).controller.signal}},A_=typeof WeakMap=="function"?WeakMap:Map,Le=0,Je=null,we=null,Ae=0,Be=0,Ft=null,_i=!1,Fs=!1,Qu=!1,Qn=0,at=0,bi=0,ns=0,Xu=0,Yt=0,Ys=0,to=null,Bt=null,Zu=!1,xa=0,_p=0,Ta=1/0,Ea=null,Si=null,yt=0,xi=null,Ks=null,Xn=0,Wu=0,ec=null,bp=null,no=0,tc=null;function Kt(){return(Le&2)!==0&&Ae!==0?Ae&-Ae:U.T!==null?ac():ve()}function Sp(){if(Yt===0)if((Ae&536870912)===0||Me){var t=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),Yt=t}else Yt=536870912;return t=$t.current,t!==null&&(t.flags|=32),Yt}function Gt(t,s,o){(t===Je&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(Qs(t,0),Ti(t,Ae,Yt,!1)),oi(t,o),((Le&2)===0||t!==Je)&&(t===Je&&((Le&2)===0&&(ns|=o),at===4&&Ti(t,Ae,Yt,!1)),Nn(t))}function xp(t,s,o){if((Le&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&t.expiredLanes)===0||Dn(t,s),p=u?M_(t,s):ic(t,s,!0),v=u;do{if(p===0){Fs&&!u&&Ti(t,s,0,!1);break}else{if(o=t.current.alternate,v&&!N_(o)){p=ic(t,s,!1),v=!1;continue}if(p===2){if(v=s,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var T=t;p=to;var C=T.current.memoizedState.isDehydrated;if(C&&(Qs(T,S).flags|=256),S=ic(T,S,!1),S!==2){if(Qu&&!C){T.errorRecoveryDisabledLanes|=v,ns|=v,p=4;break e}v=Bt,Bt=p,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}p=S}if(v=!1,p!==2)continue}}if(p===1){Qs(t,0),Ti(t,s,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ti(u,s,Yt,!_i);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=xa+300-Nt(),10<p)){if(Ti(u,s,Yt,!_i),bs(u,0,!0)!==0)break e;Xn=s,u.timeoutHandle=Wp(Tp.bind(null,u,o,Bt,Ea,Zu,s,Yt,ns,Ys,_i,v,"Throttled",-0,0),p);break e}Tp(u,o,Bt,Ea,Zu,s,Yt,ns,Ys,_i,v,null,-0,0)}}break}while(!0);Nn(t)}function Tp(t,s,o,u,p,v,S,T,C,P,z,F,j,G){if(t.timeoutHandle=-1,F=s.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},mp(s,v,F);var ie=(v&62914560)===v?xa-Nt():(v&4194048)===v?_p-Nt():0;if(ie=fb(F,ie),ie!==null){Xn=v,t.cancelPendingCommit=ie(Ip.bind(null,t,s,v,o,u,p,S,T,C,z,F,null,j,G)),Ti(t,v,S,!P);return}}Ip(t,s,v,o,u,p,S,T,C)}function N_(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!zt(v(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ti(t,s,o,u){s&=~Xu,s&=~ns,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var v=31-st(p),S=1<<v;u[v]=-1,p&=~S}o!==0&&Er(t,o,s)}function wa(){return(Le&6)===0?(io(0),!1):!0}function nc(){if(we!==null){if(Be===0)var t=we.return;else t=we,Bn=Fi=null,yu(t),Bs=null,qr=0,t=we;for(;t!==null;)ep(t.alternate,t),t=t.return;we=null}}function Qs(t,s){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Y_(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Xn=0,nc(),Je=t,we=o=jn(t.current,null),Ae=s,Be=0,Ft=null,_i=!1,Fs=Dn(t,s),Qu=!1,Ys=Yt=Xu=ns=bi=at=0,Bt=to=null,Zu=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-st(u),v=1<<p;s|=t[p],u&=~v}return Qn=s,Jo(),o}function Ep(t,s){Se=null,U.H=Fr,s===qs||s===ea?(s=Bf(),Be=3):s===ou?(s=Bf(),Be=4):Be=s===Uu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ft=s,we===null&&(at=1,pa(t,sn(s,t.current)))}function wp(){var t=$t.current;return t===null?!0:(Ae&4194048)===Ae?ln===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===ln:!1}function Cp(){var t=U.H;return U.H=Fr,t===null?Fr:t}function Ap(){var t=U.A;return U.A=C_,t}function Ca(){at=4,_i||(Ae&4194048)!==Ae&&$t.current!==null||(Fs=!0),(bi&134217727)===0&&(ns&134217727)===0||Je===null||Ti(Je,Ae,Yt,!1)}function ic(t,s,o){var u=Le;Le|=2;var p=Cp(),v=Ap();(Je!==t||Ae!==s)&&(Ea=null,Qs(t,s)),s=!1;var S=at;e:do try{if(Be!==0&&we!==null){var T=we,C=Ft;switch(Be){case 8:nc(),S=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(s=!0);var P=Be;if(Be=0,Ft=null,Xs(t,T,C,P),o&&Fs){S=0;break e}break;default:P=Be,Be=0,Ft=null,Xs(t,T,C,P)}}R_(),S=at;break}catch(z){Ep(t,z)}while(!0);return s&&t.shellSuspendCounter++,Bn=Fi=null,Le=u,U.H=p,U.A=v,we===null&&(Je=null,Ae=0,Jo()),S}function R_(){for(;we!==null;)Np(we)}function M_(t,s){var o=Le;Le|=2;var u=Cp(),p=Ap();Je!==t||Ae!==s?(Ea=null,Ta=Nt()+500,Qs(t,s)):Fs=Dn(t,s);e:do try{if(Be!==0&&we!==null){s=we;var v=Ft;t:switch(Be){case 1:Be=0,Ft=null,Xs(t,s,v,1);break;case 2:case 9:if(jf(v)){Be=0,Ft=null,Rp(s);break}s=function(){Be!==2&&Be!==9||Je!==t||(Be=7),Nn(t)},v.then(s,s);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:jf(v)?(Be=0,Ft=null,Rp(s)):(Be=0,Ft=null,Xs(t,s,v,7));break;case 5:var S=null;switch(we.tag){case 26:S=we.memoizedState;case 5:case 27:var T=we;if(S?pm(S):T.stateNode.complete){Be=0,Ft=null;var C=T.sibling;if(C!==null)we=C;else{var P=T.return;P!==null?(we=P,Aa(P)):we=null}break t}}Be=0,Ft=null,Xs(t,s,v,5);break;case 6:Be=0,Ft=null,Xs(t,s,v,6);break;case 8:nc(),at=6;break e;default:throw Error(r(462))}}I_();break}catch(z){Ep(t,z)}while(!0);return Bn=Fi=null,U.H=u,U.A=p,Le=o,we!==null?0:(Je=null,Ae=0,Jo(),at)}function I_(){for(;we!==null&&!Te();)Np(we)}function Np(t){var s=Zh(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,s===null?Aa(t):we=s}function Rp(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=Jh(o,s,s.pendingProps,s.type,void 0,Ae);break;case 11:s=Jh(o,s,s.pendingProps,s.type.render,s.ref,Ae);break;case 5:yu(s);default:ep(o,s),s=we=Af(s,Qn),s=Zh(o,s,Qn)}t.memoizedProps=t.pendingProps,s===null?Aa(t):we=s}function Xs(t,s,o,u){Bn=Fi=null,yu(s),Bs=null,qr=0;var p=s.return;try{if(__(t,p,s,o,Ae)){at=1,pa(t,sn(o,t.current)),we=null;return}}catch(v){if(p!==null)throw we=p,v;at=1,pa(t,sn(o,t.current)),we=null;return}s.flags&32768?(Me||u===1?t=!0:Fs||(Ae&536870912)!==0?t=!1:(_i=t=!0,(u===2||u===9||u===3||u===6)&&(u=$t.current,u!==null&&u.tag===13&&(u.flags|=16384))),Mp(s,t)):Aa(s)}function Aa(t){var s=t;do{if((s.flags&32768)!==0){Mp(s,_i);return}t=s.return;var o=x_(s.alternate,s,Qn);if(o!==null){we=o;return}if(s=s.sibling,s!==null){we=s;return}we=s=t}while(s!==null);at===0&&(at=5)}function Mp(t,s){do{var o=T_(t.alternate,t);if(o!==null){o.flags&=32767,we=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){we=t;return}we=t=o}while(t!==null);at=6,we=null}function Ip(t,s,o,u,p,v,S,T,C){t.cancelPendingCommit=null;do Na();while(yt!==0);if((Le&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=$l,Do(t,o,v,S,T,C),t===Je&&(we=Je=null,Ae=0),Ks=s,xi=t,Xn=o,Wu=v,ec=p,bp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,O_(Rt,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,p=K.p,K.p=2,S=Le,Le|=4;try{E_(t,s,o)}finally{Le=S,K.p=p,U.T=u}}yt=1,kp(),Dp(),Up()}}function kp(){if(yt===1){yt=0;var t=xi,s=Ks,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=K.p;K.p=2;var p=Le;Le|=4;try{fp(s,t);var v=mc,S=yf(t.containerInfo),T=v.focusedElem,C=v.selectionRange;if(S!==T&&T&&T.ownerDocument&&vf(T.ownerDocument.documentElement,T)){if(C!==null&&Bl(T)){var P=C.start,z=C.end;if(z===void 0&&(z=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(z,T.value.length);else{var F=T.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var G=j.getSelection(),ie=T.textContent.length,he=Math.min(C.start,ie),He=C.end===void 0?he:Math.min(C.end,ie);!G.extend&&he>He&&(S=He,He=he,he=S);var k=gf(T,he),M=gf(T,He);if(k&&M&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var O=F.createRange();O.setStart(k.node,k.offset),G.removeAllRanges(),he>He?(G.addRange(O),G.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),G.addRange(O))}}}}for(F=[],G=T;G=G.parentNode;)G.nodeType===1&&F.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<F.length;T++){var J=F[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ba=!!pc,mc=pc=null}finally{Le=p,K.p=u,U.T=o}}t.current=s,yt=2}}function Dp(){if(yt===2){yt=0;var t=xi,s=Ks,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=K.p;K.p=2;var p=Le;Le|=4;try{ap(t,s.alternate,s)}finally{Le=p,K.p=u,U.T=o}}yt=3}}function Up(){if(yt===4||yt===3){yt=0,Ro();var t=xi,s=Ks,o=Xn,u=bp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yt=5:(yt=0,Ks=xi=null,Op(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Si=null),ne(o),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(kn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=U.T,p=K.p,K.p=2,U.T=null;try{for(var v=t.onRecoverableError,S=0;S<u.length;S++){var T=u[S];v(T.value,{componentStack:T.stack})}}finally{U.T=s,K.p=p}}(Xn&3)!==0&&Na(),Nn(t),p=t.pendingLanes,(o&261930)!==0&&(p&42)!==0?t===tc?no++:(no=0,tc=t):no=0,io(0)}}function Op(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Lr(s)))}function Na(){return kp(),Dp(),Up(),Pp()}function Pp(){if(yt!==5)return!1;var t=xi,s=Wu;Wu=0;var o=ne(Xn),u=U.T,p=K.p;try{K.p=32>o?32:o,U.T=null,o=ec,ec=null;var v=xi,S=Xn;if(yt=0,Ks=xi=null,Xn=0,(Le&6)!==0)throw Error(r(331));var T=Le;if(Le|=4,vp(v.current),pp(v,v.current,S,o),Le=T,io(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(kn,v)}catch{}return!0}finally{K.p=p,U.T=u,Op(t,s)}}function Lp(t,s,o){s=sn(o,s),s=Du(t.stateNode,s,2),t=mi(t,s,2),t!==null&&(oi(t,2),Nn(t))}function Ge(t,s,o){if(t.tag===3)Lp(t,t,o);else for(;s!==null;){if(s.tag===3){Lp(s,t,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){t=sn(o,t),o=jh(2),u=mi(s,o,2),u!==null&&(qh(o,u,s,t),oi(u,2),Nn(u));break}}s=s.return}}function sc(t,s,o){var u=t.pingCache;if(u===null){u=t.pingCache=new A_;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Qu=!0,p.add(o),t=k_.bind(null,t,s,o),s.then(t,t))}function k_(t,s,o){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Je===t&&(Ae&o)===o&&(at===4||at===3&&(Ae&62914560)===Ae&&300>Nt()-xa?(Le&2)===0&&Qs(t,0):Xu|=o,Ys===Ae&&(Ys=0)),Nn(t)}function jp(t,s){s===0&&(s=ko()),t=Hi(t,s),t!==null&&(oi(t,s),Nn(t))}function D_(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),jp(t,o)}function U_(t,s){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),jp(t,o)}function O_(t,s){return ji(t,s)}var Ra=null,Zs=null,rc=!1,Ma=!1,oc=!1,Ei=0;function Nn(t){t!==Zs&&t.next===null&&(Zs===null?Ra=Zs=t:Zs=Zs.next=t),Ma=!0,rc||(rc=!0,L_())}function io(t,s){if(!oc&&Ma){oc=!0;do for(var o=!1,u=Ra;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var S=u.suspendedLanes,T=u.pingedLanes;v=(1<<31-st(42|t)+1)-1,v&=p&~(S&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Vp(u,v))}else v=Ae,v=bs(u,u===Je?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Dn(u,v)||(o=!0,Vp(u,v));u=u.next}while(o);oc=!1}}function P_(){qp()}function qp(){Ma=rc=!1;var t=0;Ei!==0&&F_()&&(t=Ei);for(var s=Nt(),o=null,u=Ra;u!==null;){var p=u.next,v=Bp(u,s);v===0?(u.next=null,o===null?Ra=p:o.next=p,p===null&&(Zs=o)):(o=u,(t!==0||(v&3)!==0)&&(Ma=!0)),u=p}yt!==0&&yt!==5||io(t),Ei!==0&&(Ei=0)}function Bp(t,s){for(var o=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-st(v),T=1<<S,C=p[S];C===-1?((T&o)===0||(T&u)!==0)&&(p[S]=Io(T,s)):C<=s&&(t.expiredLanes|=T),v&=~T}if(s=Je,o=Ae,o=bs(t,t===s?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===s&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&qi(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Dn(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(u!==null&&qi(u),ne(o)){case 2:case 8:o=gs;break;case 32:o=Rt;break;case 268435456:o=vs;break;default:o=Rt}return u=Gp.bind(null,t),o=ji(o,u),t.callbackPriority=s,t.callbackNode=o,s}return u!==null&&u!==null&&qi(u),t.callbackPriority=2,t.callbackNode=null,2}function Gp(t,s){if(yt!==0&&yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Na()&&t.callbackNode!==o)return null;var u=Ae;return u=bs(t,t===Je?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(xp(t,u,s),Bp(t,Nt()),t.callbackNode!=null&&t.callbackNode===o?Gp.bind(null,t):null)}function Vp(t,s){if(Na())return null;xp(t,s,!0)}function L_(){K_(function(){(Le&6)!==0?ji(ms,P_):qp()})}function ac(){if(Ei===0){var t=Ls;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Ei=t}return Ei}function zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jo(""+t)}function Hp(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function j_(t,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var v=zp((p[bt]||null).action),S=u.submitter;S&&(s=(s=S[bt]||null)?zp(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var T=new Vo("action","action",null,u,p);t.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ei!==0){var C=S?Hp(p,S):new FormData(p);Au(o,{pending:!0,data:C,method:p.method,action:v},null,C)}}else typeof v=="function"&&(T.preventDefault(),C=S?Hp(p,S):new FormData(p),Au(o,{pending:!0,data:C,method:p.method,action:v},v,C))},currentTarget:p}]})}}for(var lc=0;lc<Hl.length;lc++){var uc=Hl[lc],q_=uc.toLowerCase(),B_=uc[0].toUpperCase()+uc.slice(1);mn(q_,"on"+B_)}mn(Sf,"onAnimationEnd"),mn(xf,"onAnimationIteration"),mn(Tf,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(n_,"onTransitionRun"),mn(i_,"onTransitionStart"),mn(s_,"onTransitionCancel"),mn(Ef,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function $p(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var S=u.length-1;0<=S;S--){var T=u[S],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==v&&p.isPropagationStopped())break e;v=T,p.currentTarget=P;try{v(p)}catch(z){$o(z)}p.currentTarget=null,v=C}else for(S=0;S<u.length;S++){if(T=u[S],C=T.instance,P=T.currentTarget,T=T.listener,C!==v&&p.isPropagationStopped())break e;v=T,p.currentTarget=P;try{v(p)}catch(z){$o(z)}p.currentTarget=null,v=C}}}}function Ce(t,s){var o=s[ai];o===void 0&&(o=s[ai]=new Set);var u=t+"__bubble";o.has(u)||(Jp(s,t,2,!1),o.add(u))}function cc(t,s,o){var u=0;s&&(u|=4),Jp(o,t,u,s)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[Ia]){t[Ia]=!0,Uo.forEach(function(o){o!=="selectionchange"&&(G_.has(o)||cc(o,!1,t),cc(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ia]||(s[Ia]=!0,cc("selectionchange",!1,s))}}function Jp(t,s,o,u){switch(Sm(s)){case 2:var p=mb;break;case 8:p=gb;break;default:p=Cc}o=p.bind(null,s,o,t),p=void 0,!Il||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,o,{capture:!0,passive:p}):t.addEventListener(s,o,!0):p!==void 0?t.addEventListener(s,o,{passive:p}):t.addEventListener(s,o,!1)}function fc(t,s,o,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===p)break;if(S===4)for(S=u.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;T!==null;){if(S=je(T),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){u=v=S;continue e}T=T.parentNode}}u=u.return}Qd(function(){var P=v,z=Rl(o),F=[];e:{var j=wf.get(t);if(j!==void 0){var G=Vo,ie=t;switch(t){case"keypress":if(Bo(o)===0)break e;case"keydown":case"keyup":G=U0;break;case"focusin":ie="focus",G=Ol;break;case"focusout":ie="blur",G=Ol;break;case"beforeblur":case"afterblur":G=Ol;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=L0;break;case Sf:case xf:case Tf:G=w0;break;case Ef:G=q0;break;case"scroll":case"scrollend":G=b0;break;case"wheel":G=G0;break;case"copy":case"cut":case"paste":G=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=tf;break;case"toggle":case"beforetoggle":G=z0}var he=(s&4)!==0,He=!he&&(t==="scroll"||t==="scrollend"),k=he?j!==null?j+"Capture":null:j;he=[];for(var M=P,O;M!==null;){var J=M;if(O=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||O===null||k===null||(J=Cr(M,k),J!=null&&he.push(ro(M,J,O))),He)break;M=M.return}0<he.length&&(j=new G(j,ie,null,o,z),F.push({event:j,listeners:he}))}}if((s&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",j&&o!==Nl&&(ie=o.relatedTarget||o.fromElement)&&(je(ie)||ie[Un]))break e;if((G||j)&&(j=z.window===z?z:(j=z.ownerDocument)?j.defaultView||j.parentWindow:window,G?(ie=o.relatedTarget||o.toElement,G=P,ie=ie?je(ie):null,ie!==null&&(He=l(ie),he=ie.tag,ie!==He||he!==5&&he!==27&&he!==6)&&(ie=null)):(G=null,ie=P),G!==ie)){if(he=Wd,J="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(he=tf,J="onPointerLeave",k="onPointerEnter",M="pointer"),He=G==null?j:Tt(G),O=ie==null?j:Tt(ie),j=new he(J,M+"leave",G,o,z),j.target=He,j.relatedTarget=O,J=null,je(z)===P&&(he=new he(k,M+"enter",ie,o,z),he.target=O,he.relatedTarget=He,J=he),He=J,G&&ie)t:{for(he=V_,k=G,M=ie,O=0,J=k;J;J=he(J))O++;J=0;for(var ce=M;ce;ce=he(ce))J++;for(;0<O-J;)k=he(k),O--;for(;0<J-O;)M=he(M),J--;for(;O--;){if(k===M||M!==null&&k===M.alternate){he=k;break t}k=he(k),M=he(M)}he=null}else he=null;G!==null&&Fp(F,j,G,he,!1),ie!==null&&He!==null&&Fp(F,He,ie,he,!0)}}e:{if(j=P?Tt(P):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var Ue=cf;else if(lf(j))if(df)Ue=W0;else{Ue=X0;var ae=Q0}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&Al(P.elementType)&&(Ue=cf):Ue=Z0;if(Ue&&(Ue=Ue(t,P))){uf(F,Ue,o,z);break e}ae&&ae(t,j,P),t==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Cl(j,"number",j.value)}switch(ae=P?Tt(P):window,t){case"focusin":(lf(ae)||ae.contentEditable==="true")&&(Rs=ae,Gl=P,Ur=null);break;case"focusout":Ur=Gl=Rs=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,_f(F,o,z);break;case"selectionchange":if(t_)break;case"keydown":case"keyup":_f(F,o,z)}var xe;if(Ll)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ns?of(t,o)&&(Ne="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(nf&&o.locale!=="ko"&&(Ns||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ns&&(xe=Xd()):(li=z,kl="value"in li?li.value:li.textContent,Ns=!0)),ae=ka(P,Ne),0<ae.length&&(Ne=new ef(Ne,t,null,o,z),F.push({event:Ne,listeners:ae}),xe?Ne.data=xe:(xe=af(o),xe!==null&&(Ne.data=xe)))),(xe=$0?J0(t,o):F0(t,o))&&(Ne=ka(P,"onBeforeInput"),0<Ne.length&&(ae=new ef("onBeforeInput","beforeinput",null,o,z),F.push({event:ae,listeners:Ne}),ae.data=xe)),j_(F,t,P,o,z)}$p(F,s)})}function ro(t,s,o){return{instance:t,listener:s,currentTarget:o}}function ka(t,s){for(var o=s+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Cr(t,o),p!=null&&u.unshift(ro(t,p,v)),p=Cr(t,s),p!=null&&u.push(ro(t,p,v))),t.tag===3)return u;t=t.return}return[]}function V_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,s,o,u,p){for(var v=s._reactName,S=[];o!==null&&o!==u;){var T=o,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===u)break;T!==5&&T!==26&&T!==27||P===null||(C=P,p?(P=Cr(o,v),P!=null&&S.unshift(ro(o,P,C))):p||(P=Cr(o,v),P!=null&&S.push(ro(o,P,C)))),o=o.return}S.length!==0&&t.push({event:s,listeners:S})}var z_=/\r\n?/g,H_=/\u0000|\uFFFD/g;function Yp(t){return(typeof t=="string"?t:""+t).replace(z_,`
`).replace(H_,"")}function Kp(t,s){return s=Yp(s),Yp(t)===s}function ze(t,s,o,u,p,v){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ws(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ws(t,""+u);break;case"className":Po(t,"class",u);break;case"tabIndex":Po(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Po(t,o,u);break;case"style":Yd(t,u,v);break;case"data":if(s!=="object"){Po(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=jo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&ze(t,s,"name",p.name,p,null),ze(t,s,"formEncType",p.formEncType,p,null),ze(t,s,"formMethod",p.formMethod,p,null),ze(t,s,"formTarget",p.formTarget,p,null)):(ze(t,s,"encType",p.encType,p,null),ze(t,s,"method",p.method,p,null),ze(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=jo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=Pn);break;case"onScroll":u!=null&&Ce("scroll",t);break;case"onScrollEnd":u!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=jo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),Oo(t,"popover",u);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oo(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=y0.get(o)||o,Oo(t,o,u))}}function hc(t,s,o,u,p,v){switch(o){case"style":Yd(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?ws(t,u):(typeof u=="number"||typeof u=="bigint")&&ws(t,""+u);break;case"onScroll":u!=null&&Ce("scroll",t);break;case"onScrollEnd":u!=null&&Ce("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),v=t[bt]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(s,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,u,p);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Oo(t,o,u)}}}function At(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(t,s,v,S,o,null)}}p&&ze(t,s,"srcSet",o.srcSet,o,null),u&&ze(t,s,"src",o.src,o,null);return;case"input":Ce("invalid",t);var T=v=S=p=null,C=null,P=null;for(u in o)if(o.hasOwnProperty(u)){var z=o[u];if(z!=null)switch(u){case"name":p=z;break;case"type":S=z;break;case"checked":C=z;break;case"defaultChecked":P=z;break;case"value":v=z;break;case"defaultValue":T=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:ze(t,s,u,z,o,null)}}Hd(t,v,T,C,P,S,p,!1);return;case"select":Ce("invalid",t),u=S=v=null;for(p in o)if(o.hasOwnProperty(p)&&(T=o[p],T!=null))switch(p){case"value":v=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:ze(t,s,p,T,o,null)}s=v,o=S,t.multiple=!!u,s!=null?Es(t,!!u,s,!1):o!=null&&Es(t,!!u,o,!0);return;case"textarea":Ce("invalid",t),v=p=u=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":p=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ze(t,s,S,T,o,null)}Jd(t,u,p,v);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ze(t,s,C,u,o,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(u=0;u<so.length;u++)Ce(so[u],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(t,s,P,u,o,null)}return;default:if(Al(s)){for(z in o)o.hasOwnProperty(z)&&(u=o[z],u!==void 0&&hc(t,s,z,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&ze(t,s,T,u,o,null))}function $_(t,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,S=null,T=null,C=null,P=null,z=null;for(G in o){var F=o[G];if(o.hasOwnProperty(G)&&F!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=F;default:u.hasOwnProperty(G)||ze(t,s,G,null,u,F)}}for(var j in u){var G=u[j];if(F=o[j],u.hasOwnProperty(j)&&(G!=null||F!=null))switch(j){case"type":v=G;break;case"name":p=G;break;case"checked":P=G;break;case"defaultChecked":z=G;break;case"value":S=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==F&&ze(t,s,j,G,u,F)}}wl(t,S,T,C,P,z,v,p);return;case"select":G=S=T=j=null;for(v in o)if(C=o[v],o.hasOwnProperty(v)&&C!=null)switch(v){case"value":break;case"multiple":G=C;default:u.hasOwnProperty(v)||ze(t,s,v,null,u,C)}for(p in u)if(v=u[p],C=o[p],u.hasOwnProperty(p)&&(v!=null||C!=null))switch(p){case"value":j=v;break;case"defaultValue":T=v;break;case"multiple":S=v;default:v!==C&&ze(t,s,p,v,u,C)}s=T,o=S,u=G,j!=null?Es(t,!!o,j,!1):!!u!=!!o&&(s!=null?Es(t,!!o,s,!0):Es(t,!!o,o?[]:"",!1));return;case"textarea":G=j=null;for(T in o)if(p=o[T],o.hasOwnProperty(T)&&p!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ze(t,s,T,null,u,p)}for(S in u)if(p=u[S],v=o[S],u.hasOwnProperty(S)&&(p!=null||v!=null))switch(S){case"value":j=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&ze(t,s,S,p,u,v)}$d(t,j,G);return;case"option":for(var ie in o)if(j=o[ie],o.hasOwnProperty(ie)&&j!=null&&!u.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:ze(t,s,ie,null,u,j)}for(C in u)if(j=u[C],G=o[C],u.hasOwnProperty(C)&&j!==G&&(j!=null||G!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ze(t,s,C,j,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in o)j=o[he],o.hasOwnProperty(he)&&j!=null&&!u.hasOwnProperty(he)&&ze(t,s,he,null,u,j);for(P in u)if(j=u[P],G=o[P],u.hasOwnProperty(P)&&j!==G&&(j!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:ze(t,s,P,j,u,G)}return;default:if(Al(s)){for(var He in o)j=o[He],o.hasOwnProperty(He)&&j!==void 0&&!u.hasOwnProperty(He)&&hc(t,s,He,void 0,u,j);for(z in u)j=u[z],G=o[z],!u.hasOwnProperty(z)||j===G||j===void 0&&G===void 0||hc(t,s,z,j,u,G);return}}for(var k in o)j=o[k],o.hasOwnProperty(k)&&j!=null&&!u.hasOwnProperty(k)&&ze(t,s,k,null,u,j);for(F in u)j=u[F],G=o[F],!u.hasOwnProperty(F)||j===G||j==null&&G==null||ze(t,s,F,j,u,G)}function Qp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,S=p.initiatorType,T=p.duration;if(v&&T&&Qp(S)){for(S=0,T=p.responseEnd,u+=1;u<o.length;u++){var C=o[u],P=C.startTime;if(P>T)break;var z=C.transferSize,F=C.initiatorType;z&&Qp(F)&&(C=C.responseEnd,S+=z*(C<T?1:(T-P)/(C-P)))}if(--u,s+=8*(v+S)/(p.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pc=null,mc=null;function Da(t){return t.nodeType===9?t:t.ownerDocument}function Xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function gc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vc=null;function F_(){var t=window.event;return t&&t.type==="popstate"?t===vc?!1:(vc=t,!0):(vc=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,K_=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(t){return em.resolve(null).then(t).catch(Q_)}:Wp;function Q_(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function tm(t,s){var o=s,u=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(p),nr(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")oo(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,oo(o);for(var v=o.firstChild;v;){var S=v.nextSibling,T=v.nodeName;v[Ot]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=S}}else o==="body"&&oo(t.ownerDocument.body);o=p}while(o);nr(s)}function nm(t,s){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function yc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yc(o),qe(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function X_(t,s,o,u){for(;t.nodeType===1;){var p=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ot])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function Z_(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=un(t.nextSibling),t===null))return null;return t}function im(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=un(t.nextSibling),t===null))return null;return t}function _c(t){return t.data==="$?"||t.data==="$~"}function bc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function W_(t,s){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function un(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Sc=null;function sm(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(s===0)return un(t.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}t=t.nextSibling}return null}function rm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return t;s--}else o!=="/$"&&o!=="/&"||s++}t=t.previousSibling}return null}function om(t,s,o){switch(s=Da(o),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function oo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);qe(t)}var cn=new Map,am=new Set;function Ua(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=K.d;K.d={f:eb,r:tb,D:nb,C:ib,L:sb,m:rb,X:ab,S:ob,M:lb};function eb(){var t=Zn.f(),s=wa();return t||s}function tb(t){var s=rt(t);s!==null&&s.tag===5&&s.type==="form"?Eh(s):Zn.r(t)}var Ws=typeof document>"u"?null:document;function lm(t,s,o){var u=Ws;if(u&&typeof s=="string"&&s){var p=tn(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),am.has(p)||(am.add(p),t={rel:t,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),At(s,"link",t),Ke(s),u.head.appendChild(s)))}}function nb(t){Zn.D(t),lm("dns-prefetch",t,null)}function ib(t,s){Zn.C(t,s),lm("preconnect",t,s)}function sb(t,s,o){Zn.L(t,s,o);var u=Ws;if(u&&t&&s){var p='link[rel="preload"][as="'+tn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+tn(o.imageSizes)+'"]')):p+='[href="'+tn(t)+'"]';var v=p;switch(s){case"style":v=er(t);break;case"script":v=tr(t)}cn.has(v)||(t=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),cn.set(v,t),u.querySelector(p)!==null||s==="style"&&u.querySelector(ao(v))||s==="script"&&u.querySelector(lo(v))||(s=u.createElement("link"),At(s,"link",t),Ke(s),u.head.appendChild(s)))}}function rb(t,s){Zn.m(t,s);var o=Ws;if(o&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tr(t)}if(!cn.has(v)&&(t=b({rel:"modulepreload",href:t},s),cn.set(v,t),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lo(v)))return}u=o.createElement("link"),At(u,"link",t),Ke(u),o.head.appendChild(u)}}}function ob(t,s,o){Zn.S(t,s,o);var u=Ws;if(u&&t){var p=Vt(u).hoistableStyles,v=er(t);s=s||"default";var S=p.get(v);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(ao(v)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},o),(o=cn.get(v))&&xc(t,o);var C=S=u.createElement("link");Ke(C),At(C,"link",t),C._p=new Promise(function(P,z){C.onload=P,C.onerror=z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Oa(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:T},p.set(v,S)}}}function ab(t,s){Zn.X(t,s);var o=Ws;if(o&&t){var u=Vt(o).hoistableScripts,p=tr(t),v=u.get(p);v||(v=o.querySelector(lo(p)),v||(t=b({src:t,async:!0},s),(s=cn.get(p))&&Tc(t,s),v=o.createElement("script"),Ke(v),At(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function lb(t,s){Zn.M(t,s);var o=Ws;if(o&&t){var u=Vt(o).hoistableScripts,p=tr(t),v=u.get(p);v||(v=o.querySelector(lo(p)),v||(t=b({src:t,async:!0,type:"module"},s),(s=cn.get(p))&&Tc(t,s),v=o.createElement("script"),Ke(v),At(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function um(t,s,o,u){var p=(p=me.current)?Ua(p):null;if(!p)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=er(o.href),o=Vt(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=er(o.href);var v=Vt(p).hoistableStyles,S=v.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=p.querySelector(ao(t)))&&!v._p&&(S.instance=v,S.state.loading=5),cn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(t,o),v||ub(p,t,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tr(o),o=Vt(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function er(t){return'href="'+tn(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function cm(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,s,o,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",o),Ke(s),t.head.appendChild(s))}function tr(t){return'[src="'+tn(t)+'"]'}function lo(t){return"script[async]"+t}function dm(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+tn(o.href)+'"]');if(u)return s.instance=u,Ke(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ke(u),At(u,"style",p),Oa(u,o.precedence,t),s.instance=u;case"stylesheet":p=er(o.href);var v=t.querySelector(ao(p));if(v)return s.state.loading|=4,s.instance=v,Ke(v),v;u=cm(o),(p=cn.get(p))&&xc(u,p),v=(t.ownerDocument||t).createElement("link"),Ke(v);var S=v;return S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),At(v,"link",u),s.state.loading|=4,Oa(v,o.precedence,t),s.instance=v;case"script":return v=tr(o.src),(p=t.querySelector(lo(v)))?(s.instance=p,Ke(p),p):(u=o,(p=cn.get(v))&&(u=b({},o),Tc(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),Ke(p),At(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Oa(u,o.precedence,t));return s.instance}function Oa(t,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===s)v=T;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function xc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Tc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Pa=null;function fm(t,s,o){if(Pa===null){var u=new Map,p=Pa=new Map;p.set(o,u)}else p=Pa,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),p=0;p<o.length;p++){var v=o[p];if(!(v[Ot]||v[$e]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=t+S;var T=u.get(S);T?T.push(v):u.set(S,[v])}}return u}function hm(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function cb(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function pm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function db(t,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=er(u.href),v=s.querySelector(ao(p));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=La.bind(t),s.then(t,t)),o.state.loading|=4,o.instance=v,Ke(v);return}v=s.ownerDocument||s,u=cm(u),(p=cn.get(p))&&xc(u,p),v=v.createElement("link"),Ke(v);var S=v;S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),At(v,"link",u),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=La.bind(t),s.addEventListener("load",o),s.addEventListener("error",o))}}var Ec=0;function fb(t,s){return t.stylesheets&&t.count===0&&qa(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&qa(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+s);0<t.imgBytes&&Ec===0&&(Ec=62500*J_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qa(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>Ec?50:800)+s);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function La(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qa(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ja=null;function qa(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ja=new Map,s.forEach(hb,t),ja=null,La.call(t))}function hb(t,s){if(!(s.state.loading&4)){var o=ja.get(t);if(o)var u=o.get(null);else{o=new Map,ja.set(t,o);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var S=p[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}p=s.instance,S=p.getAttribute("data-precedence"),v=o.get(S)||u,v===u&&o.set(null,p),o.set(S,p),this.count++,u=La.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var uo={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function pb(t,s,o,u,p,v,S,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function mm(t,s,o,u,p,v,S,T,C,P,z,F){return t=new pb(t,s,o,S,C,P,z,F,T),s=1,v===!0&&(s|=24),v=Ht(3,null,null,s),t.current=v,v.stateNode=t,s=iu(),s.refCount++,t.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:s},au(v),t}function gm(t){return t?(t=ks,t):ks}function vm(t,s,o,u,p,v){p=gm(p),u.context===null?u.context=p:u.pendingContext=p,u=pi(s),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=mi(t,u,s),o!==null&&(Gt(o,t,s),Gr(o,t,s))}function ym(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function wc(t,s){ym(t,s),(t=t.alternate)&&ym(t,s)}function _m(t){if(t.tag===13||t.tag===31){var s=Hi(t,67108864);s!==null&&Gt(s,t,67108864),wc(t,67108864)}}function bm(t){if(t.tag===13||t.tag===31){var s=Kt();s=ee(s);var o=Hi(t,s);o!==null&&Gt(o,t,s),wc(t,s)}}var Ba=!0;function mb(t,s,o,u){var p=U.T;U.T=null;var v=K.p;try{K.p=2,Cc(t,s,o,u)}finally{K.p=v,U.T=p}}function gb(t,s,o,u){var p=U.T;U.T=null;var v=K.p;try{K.p=8,Cc(t,s,o,u)}finally{K.p=v,U.T=p}}function Cc(t,s,o,u){if(Ba){var p=Ac(u);if(p===null)fc(t,s,u,Ga,o),xm(t,u);else if(yb(p,t,s,o,u))u.stopPropagation();else if(xm(t,u),s&4&&-1<vb.indexOf(t)){for(;p!==null;){var v=rt(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=pn(v.pendingLanes);if(S!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var C=1<<31-st(S);T.entanglements[1]|=C,S&=~C}Nn(v),(Le&6)===0&&(Ta=Nt()+500,io(0))}}break;case 31:case 13:T=Hi(v,2),T!==null&&Gt(T,v,2),wa(),wc(v,2)}if(v=Ac(u),v===null&&fc(t,s,u,Ga,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else fc(t,s,u,null,o)}}function Ac(t){return t=Rl(t),Nc(t)}var Ga=null;function Nc(t){if(Ga=null,t=je(t),t!==null){var s=l(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=c(s),t!==null)return t;t=null}else if(o===31){if(t=f(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ga=t,null}function Sm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mo()){case ms:return 2;case gs:return 8;case Rt:case Wt:return 32;case vs:return 268435456;default:return 32}default:return 32}}var Rc=!1,Ci=null,Ai=null,Ni=null,co=new Map,fo=new Map,Ri=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xm(t,s){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":co.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(s.pointerId)}}function ho(t,s,o,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=rt(s),s!==null&&_m(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function yb(t,s,o,u,p){switch(s){case"focusin":return Ci=ho(Ci,t,s,o,u,p),!0;case"dragenter":return Ai=ho(Ai,t,s,o,u,p),!0;case"mouseover":return Ni=ho(Ni,t,s,o,u,p),!0;case"pointerover":var v=p.pointerId;return co.set(v,ho(co.get(v)||null,t,s,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,fo.set(v,ho(fo.get(v)||null,t,s,o,u,p)),!0}return!1}function Tm(t){var s=je(t.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){t.blockedOn=s,nt(t.priority,function(){bm(o)});return}}else if(s===31){if(s=f(o),s!==null){t.blockedOn=s,nt(t.priority,function(){bm(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Va(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=Ac(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return s=rt(o),s!==null&&_m(s),t.blockedOn=o,!1;s.shift()}return!0}function Em(t,s,o){Va(t)&&o.delete(s)}function _b(){Rc=!1,Ci!==null&&Va(Ci)&&(Ci=null),Ai!==null&&Va(Ai)&&(Ai=null),Ni!==null&&Va(Ni)&&(Ni=null),co.forEach(Em),fo.forEach(Em)}function za(t,s){t.blockedOn===s&&(t.blockedOn=null,Rc||(Rc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_b)))}var Ha=null;function wm(t){Ha!==t&&(Ha=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ha===t&&(Ha=null);for(var s=0;s<t.length;s+=3){var o=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(Nc(u||o)===null)continue;break}var v=rt(o);v!==null&&(t.splice(s,3),s-=3,Au(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function nr(t){function s(C){return za(C,t)}Ci!==null&&za(Ci,t),Ai!==null&&za(Ai,t),Ni!==null&&za(Ni,t),co.forEach(s),fo.forEach(s);for(var o=0;o<Ri.length;o++){var u=Ri[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ri.length&&(o=Ri[0],o.blockedOn===null);)Tm(o),o.blockedOn===null&&Ri.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],S=p[bt]||null;if(typeof v=="function")S||wm(o);else if(S){var T=null;if(v&&v.hasAttribute("formAction")){if(p=v,S=v[bt]||null)T=S.formAction;else if(Nc(p)!==null)continue}else T=S.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),wm(o)}}}function Cm(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Mc(t){this._internalRoot=t}$a.prototype.render=Mc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Kt();vm(o,u,t,s,null,null)},$a.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;vm(t.current,2,null,t,null,null),wa(),s[Un]=null}};function $a(t){this._internalRoot=t}$a.prototype.unstable_scheduleHydration=function(t){if(t){var s=ve();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Ri.length&&s!==0&&s<Ri[o].priority;o++);Ri.splice(o,0,t),o===0&&Tm(t)}};var Am=e.version;if(Am!=="19.2.0")throw Error(r(527,Am,"19.2.0"));K.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=h(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{kn=Ja.inject(bb),lt=Ja}catch{}}return mo.createRoot=function(t,s){if(!a(t))throw Error(r(299));var o=!1,u="",p=Uh,v=Oh,S=Ph;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=mm(t,1,!1,null,null,o,u,null,p,v,S,Cm),t[Un]=s.current,dc(t),new Mc(s)},mo.hydrateRoot=function(t,s,o){if(!a(t))throw Error(r(299));var u=!1,p="",v=Uh,S=Oh,T=Ph,C=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),s=mm(t,1,!0,s,o??null,u,p,C,v,S,T,Cm),s.context=gm(null),o=s.current,u=Kt(),u=ee(u),p=pi(u),p.callback=null,mi(o,p,u),o=u,s.current.lanes=o,oi(s,o),Nn(s),t[Un]=s.current,dc(t),new $a(s)},mo.version="19.2.0",mo}var Lm;function Ib(){if(Lm)return Dc.exports;Lm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dc.exports=Mb(),Dc.exports}var kb=Ib();const Db=Sd(kb),We={className:"w-6 h-6",strokeWidth:1.5,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},cs=({className:n="w-8 h-8 text-white",...e})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[y.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ub=({className:n="w-5 h-5"})=>y.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),hl=({className:n="w-5 h-5"})=>y.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),jv=({className:n="w-6 h-6"})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M10.155 2.592L6.155 21.408C8.324 21.798 13.987 20.803 16.633 15.602C19.279 10.4 18.283 4.74 17.848 2.592H10.155Z",fill:"#635BFF"}),y.jsx("path",{d:"M12.001 2.592H4.309C3.874 4.74 2.878 10.4 5.524 15.602C8.17 20.803 13.833 21.798 16.002 21.408L12.001 2.592Z",fill:"#635BFF",opacity:"0.6"})]}),Ob=({className:n="w-5 h-5"})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M22.56 12.25C22.56 11.45 22.49 10.68 22.36 9.92H12V14.45H18.02C17.72 16.21 16.73 17.69 15.15 18.65V21.48H19.01C21.25 19.44 22.56 16.14 22.56 12.25Z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23C14.97 23 17.45 22.02 19.01 20.48L15.15 17.65C14.1 18.39 12.83 18.8 12 18.8C9.62 18.8 7.63 17.29 6.79 15.12H2.82V17.95C4.66 21.05 8.08 23 12 23Z",fill:"#34A853"}),y.jsx("path",{d:"M6.79 15.12C6.58 14.52 6.45 13.88 6.45 13.23C6.45 12.58 6.58 11.94 6.79 11.34V8.51H2.82C1.94 10.02 1.45 11.58 1.45 13.23C1.45 14.88 1.94 16.44 2.82 17.95L6.79 15.12Z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 7.2C13.23 7.2 14.28 7.64 15.09 8.4L18.01 5.51C16.45 4.02 14.47 3 12 3C8.08 3 4.66 4.95 2.82 8.05L6.79 10.88C7.63 8.71 9.62 7.2 12 7.2Z",fill:"#EA4335"})]}),qv=({className:n="w-6 h-6"})=>y.jsxs("svg",{...We,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M9 4v16l-6 -4v-16z"}),y.jsx("path",{d:"M15 4v16l6 -4v-16z"}),y.jsx("path",{d:"M9 4l6 2"}),y.jsx("path",{d:"M9 20l6 -2"})]}),Bv=({className:n="w-6 h-6"})=>y.jsxs("svg",{...We,className:n,viewBox:"0 0 24 24",children:[y.jsx("ellipse",{cx:"12",cy:"6",rx:"8",ry:"3"}),y.jsx("path",{d:"M4 6v12c0 1.66 3.58 3 8 3s8 -1.34 8 -3v-12"}),y.jsx("path",{d:"M4 12c0 1.66 3.58 3 8 3s8 -1.34 8 -3"})]}),Pb=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),y.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"})]}),Lb=()=>y.jsx("svg",{...We,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"})}),jb=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12 2l-8 4.5v9l8 4.5l8 -4.5v-9l-8 -4.5"}),y.jsx("path",{d:"M12 12l8 -4.5"}),y.jsx("path",{d:"M12 12v9"}),y.jsx("path",{d:"M12 12l-8 -4.5"}),y.jsx("path",{d:"M4 7.5l8 4.5l8 -4.5"})]}),Gv=({className:n="w-6 h-6"})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M12.235 2.25C12.063 2.11 11.838 2.11 11.666 2.25L1.82 8.416C1.696 8.513 1.696 8.709 1.82 8.806L11.666 14.972C11.838 15.111 12.063 15.111 12.235 14.972L22.08 8.806C22.204 8.709 22.204 8.513 22.08 8.416L12.235 2.25Z",fill:"#3ECF8E"}),y.jsx("path",{d:"M22.08 10.166C22.204 10.069 22.204 9.873 22.08 9.776L12.235 3.61C12.063 3.47 11.838 3.47 11.666 3.61L1.82 9.776C1.696 9.873 1.696 10.069 1.82 10.166L6.5 13.416L11.666 17.583C11.838 17.723 12.063 17.723 12.235 17.583L22.08 11.416L17.5 13.416L22.08 10.166Z",fill:"#3ECF8E"}),y.jsx("path",{d:"M22.08 12.916C22.204 12.819 22.204 12.623 22.08 12.526L12.235 6.36C12.063 6.22 11.838 6.22 11.666 6.36L1.82 12.526C1.696 12.623 1.696 12.819 1.82 12.916L11.666 19.083C11.838 19.223 12.063 19.223 12.235 19.083L22.08 12.916Z",fill:"#3ECF8E",opacity:"0.6"})]}),qb=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M20 12h-13l3 -3"}),y.jsx("path",{d:"M17 15l3 -3"})]}),Vv=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M9 12h12l-3 -3"}),y.jsx("path",{d:"M18 15l3 -3"})]}),Bb=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1.002 -.608 2.07 .098 2.572 1.065z"}),y.jsx("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"})]}),zv=()=>y.jsxs("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M7 11l5 5l5 -5"}),y.jsx("path",{d:"M12 4l0 12"})]}),To=()=>y.jsxs("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),y.jsx("path",{d:"M21 12a9 9 0 1 1 -18 0a9 9 0 0 1 18 0"}),y.jsx("path",{d:"M12.5 11.5l-4 4l1.5 1.5l4 -4"}),y.jsx("path",{d:"M12 15l-1.5 -1.5"})]}),Dt=({className:n="w-5 h-5"})=>y.jsxs("svg",{...We,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M18 6l-12 12"}),y.jsx("path",{d:"M6 6l12 12"})]}),pl=()=>y.jsxs("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M12 3l1.5 4.5h4.5l-3.5 2.5 1.5 4.5-4-3-4 3 1.5-4.5-3.5-2.5h4.5z"}),y.jsx("path",{d:"M3 12l4.5 1.5v4.5l2.5-3.5 4.5 1.5-3-4 3-4-4.5 1.5-2.5-3.5v4.5z"})]}),Gb=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M4 6l16 0"}),y.jsx("path",{d:"M4 12l16 0"}),y.jsx("path",{d:"M4 18l16 0"})]}),Vb=()=>y.jsx("svg",{...We,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M21 15a2 2 0 0 1 -2 2h-11l-4 4v-13a2 2 0 0 1 2 -2h11a2 2 0 0 1 2 2v8z"})}),zb=({className:n="w-5 h-5"})=>y.jsxs("svg",{...We,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),y.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),Hb=({className:n="w-5 h-5"})=>y.jsx("svg",{...We,className:n,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})}),Hv=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),y.jsx("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),y.jsx("path",{d:"M14 4l0 4l-6 0l0 -4"})]}),Td=({className:n="w-5 h-5"})=>y.jsxs("svg",{...We,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M4 7l16 0"}),y.jsx("path",{d:"M10 11l0 6"}),y.jsx("path",{d:"M14 11l0 6"}),y.jsx("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),y.jsx("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]}),$b=({className:n="w-4 h-4"})=>y.jsxs("svg",{...We,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),y.jsx("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),y.jsx("path",{d:"M16 5l3 3"})]}),Jb=()=>y.jsx("svg",{...We,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"})}),Fb=()=>y.jsx("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"})}),$v=()=>y.jsxs("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M5 7l5 5l-5 5"}),y.jsx("path",{d:"M12 19h7"})]}),Yb=()=>y.jsx("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M15.5 6.5a3.5 3.5 0 1 1 -7 0v8.5a5.5 5.5 0 1 0 11 0v-6.5"})}),Zc=()=>y.jsxs("svg",{...We,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M15 8h.01"}),y.jsx("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),y.jsx("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),y.jsx("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l2 2"})]}),Kb=()=>y.jsxs("svg",{...We,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"}),y.jsx("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"})]}),yn=({text:n,children:e})=>y.jsxs("div",{className:"group relative flex justify-center",children:[e,y.jsx("span",{className:"absolute left-14 p-2 text-xs w-max max-w-xs bg-var-bg-muted text-var-fg-default rounded-md scale-0 transition-all group-hover:scale-100 origin-left z-30 shadow-lg border border-var-border-default",children:n})]}),Qb=({x:n,y:e,actions:i,onClose:r})=>y.jsx("div",{className:"fixed inset-0 z-50",onClick:r,children:y.jsx("div",{style:{top:e,left:n},className:"absolute bg-var-bg-subtle border border-var-border-default rounded-md shadow-2xl w-40 py-1.5 animate-fadeIn",onClick:a=>a.stopPropagation(),children:i.map((a,l)=>y.jsxs("button",{onClick:()=>{a.onClick(),r()},className:`w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm transition-colors ${a.isDestructive?"text-red-400 hover:bg-red-500/10":"text-var-fg-default hover:bg-var-bg-interactive"}`,children:[a.icon,y.jsx("span",{children:a.label})]},l))})}),Xb=({vars:n,onSave:e})=>{const[i,r]=H.useState(Object.entries(n)),[a,l]=H.useState(!1),c=()=>{r([...i,["",""]]),l(!0)},f=_=>{r(i.filter((b,x)=>x!==_)),l(!0)},g=(_,b,x)=>{const E=[...i];E[_][b==="key"?0:1]=x,r(E),l(!0)},h=()=>{const _=i.reduce((b,[x,E])=>(x&&(b[x]=E),b),{});e(_),l(!1)};return y.jsxs("div",{className:"p-2 space-y-2 mt-2 flex flex-col h-full",children:[y.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:i.map(([_,b],x)=>y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("input",{type:"text",placeholder:"NOME",value:_,onChange:E=>g(x,"key",E.target.value),className:"w-full p-1.5 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle text-xs font-mono focus:outline-none focus:ring-1 focus:ring-var-accent/50"}),y.jsx("input",{type:"password",placeholder:"VALOR",value:b,onChange:E=>g(x,"value",E.target.value),className:"w-full p-1.5 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle text-xs font-mono focus:outline-none focus:ring-1 focus:ring-var-accent/50"}),y.jsx("button",{onClick:()=>f(x),className:"p-1 text-var-fg-subtle hover:text-red-400",children:y.jsx(Td,{className:"w-4 h-4"})})]},x))}),y.jsxs("div",{className:"flex-shrink-0 mt-2 space-y-2",children:[y.jsx("button",{onClick:c,className:"w-full text-sm py-1.5 border border-dashed border-var-border-default rounded-md text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:"Adicionar Varivel"}),y.jsx("button",{onClick:h,disabled:!a,className:"w-full bg-var-accent text-var-accent-fg text-sm font-medium py-1.5 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Alteraes"})]})]})},jm=({files:n,envVars:e,onEnvVarChange:i,onFileSelect:r,onDownload:a,onOpenSettings:l,onOpenGithubImport:c,onOpenSupabaseAdmin:f,onNewProject:g,onSaveProject:h,onOpenProjects:_,onOpenImageStudio:b,onRenameFile:x,onDeleteFile:E,onOpenStripeModal:A,onOpenNeonModal:N,onOpenOSMModal:w,activeFile:D,onClose:L,session:I,onLogin:q,onLogout:Y})=>{const[V,B]=fl.useState("files"),[Z,Q]=H.useState(null),[se,ue]=H.useState(null),oe=H.useRef(null),Ee=(U,K)=>{U.preventDefault(),Q({x:U.clientX,y:U.clientY,file:K})};H.useEffect(()=>{se&&oe.current&&(oe.current.focus(),oe.current.select())},[se]);const Ye=(U,K)=>{K&&K!==U&&x(U,K),ue(null)},Ie=Z?[{label:"Editar",icon:y.jsx($b,{}),onClick:()=>ue(Z.file.name)},{label:"Deletar",icon:y.jsx(Td,{className:"w-4 h-4"}),isDestructive:!0,onClick:()=>{window.confirm(`Tem certeza que deseja deletar o arquivo "${Z.file.name}"?`)&&E(Z.file.name)}}]:[];return y.jsxs("div",{className:"bg-var-bg-subtle flex h-full",children:[y.jsxs("div",{className:"w-16 bg-var-bg-muted p-2 flex flex-col items-center justify-between border-r border-var-border-default",children:[y.jsxs("div",{children:[y.jsx(yn,{text:"Pgina Inicial / Novo Projeto",children:y.jsx("button",{onClick:g,className:"p-1 mb-2 rounded-lg hover:bg-var-bg-interactive flex items-center justify-center w-full",children:y.jsx(cs,{className:"w-8 h-8 text-var-accent"})})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(yn,{text:"Explorador de Arquivos",children:y.jsx("button",{onClick:()=>B("files"),className:`p-2 rounded-lg transition-colors ${V==="files"?"text-var-fg-default bg-var-bg-interactive":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:y.jsx(Pb,{})})}),y.jsx(yn,{text:"Variveis de Ambiente",children:y.jsx("button",{onClick:()=>B("environment"),className:`p-2 rounded-lg transition-colors ${V==="environment"?"text-var-fg-default bg-var-bg-interactive":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:y.jsx(Lb,{})})}),y.jsx(yn,{text:"Integraes",children:y.jsx("button",{onClick:()=>B("integrations"),className:`p-2 rounded-lg transition-colors ${V==="integrations"?"text-var-fg-default bg-var-bg-interactive":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:y.jsx(jb,{})})}),y.jsx(yn,{text:"Salvar Projeto",children:y.jsx("button",{onClick:h,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Hv,{})})}),y.jsx(yn,{text:"Meus Projetos",children:y.jsx("button",{onClick:_,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Jb,{})})}),y.jsx(yn,{text:"Gerador de Imagem",children:y.jsx("button",{onClick:b,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Zc,{})})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(yn,{text:"Baixar Projeto (ZIP)",children:y.jsx("button",{onClick:a,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(zv,{})})}),I?y.jsx(yn,{text:`Sair (${I.user.email})`,children:y.jsx("button",{onClick:Y,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Vv,{})})}):y.jsx(yn,{text:"Login / Registrar",children:y.jsx("button",{onClick:q,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(qb,{})})}),y.jsx(yn,{text:"Configuraes",children:y.jsx("button",{onClick:l,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Bb,{})})})]})]}),y.jsxs("div",{className:"w-64 bg-var-bg-subtle flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center p-2 flex-shrink-0",children:[y.jsx("h2",{className:"text-sm font-bold uppercase text-var-fg-muted tracking-wider",children:V==="files"?"Explorador":V==="environment"?"Ambiente":"Integraes"}),L&&y.jsx("button",{onClick:L,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive lg:hidden",children:y.jsx(Dt,{})})]}),V==="files"&&y.jsx("ul",{className:"mt-2 space-y-1 p-2 overflow-y-auto",children:n.map(U=>y.jsx("li",{children:y.jsx("button",{onClick:()=>r(U.name),onContextMenu:K=>Ee(K,U),className:`w-full text-left px-2 py-1.5 rounded text-sm flex items-center gap-2 transition-colors ${D===U.name?"bg-var-accent/20 text-var-accent":"text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default"}`,children:se===U.name?y.jsx("input",{ref:oe,type:"text",defaultValue:U.name,className:"bg-var-bg-default w-full text-var-fg-default text-sm outline-none ring-1 ring-var-accent",onBlur:K=>Ye(U.name,K.target.value),onKeyDown:K=>{K.key==="Enter"&&Ye(U.name,K.currentTarget.value),K.key==="Escape"&&ue(null)}}):y.jsx("span",{children:U.name})})},U.name))}),V==="environment"&&y.jsx(Xb,{vars:e,onSave:i}),V==="integrations"&&y.jsxs("div",{className:"p-2 space-y-2 mt-2 overflow-y-auto",children:[y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(hl,{className:"w-6 h-6"}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"GitHub"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Importe repositrios para comear rapidamente."}),y.jsx("button",{onClick:c,className:"w-full bg-var-bg-subtle hover:bg-var-bg-default border border-var-border-default text-var-fg-default text-sm font-medium py-1.5 rounded-md transition-colors",children:"Conectar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(Gv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Supabase"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Permita que a IA modifique seu banco de dados."}),y.jsx("button",{onClick:f,className:"w-full bg-green-600/80 hover:bg-green-600 text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Gerenciar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(jv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Stripe"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Integre pagamentos em seu aplicativo."}),y.jsx("button",{onClick:A,className:"w-full bg-[#635BFF]/80 hover:bg-[#635BFF] text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Gerenciar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(Bv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Neon"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Conecte um banco de dados PostgreSQL serverless."}),y.jsx("button",{onClick:N,className:"w-full bg-emerald-500/80 hover:bg-emerald-500 text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Gerenciar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(qv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"OpenStreetMap"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Adicione mapas interativos ao seu projeto."}),y.jsx("button",{onClick:w,className:"w-full bg-blue-500/80 hover:bg-blue-500 text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Informaes"})]})]})]}),Z&&y.jsx(Qb,{...Z,actions:Ie,onClose:()=>Q(null)})]})},Zb=n=>{var i;switch((i=n.split(".").pop())==null?void 0:i.toLowerCase()){case"js":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";case"html":return"html";case"css":return"css";case"json":return"json";case"md":return"markdown";case"py":return"python";case"rb":return"ruby";case"go":return"go";case"rs":return"rust";case"java":return"java";case"cs":return"csharp";case"php":return"php";case"sh":return"shell";case"yml":case"yaml":return"yaml";case"dockerfile":return"dockerfile";case"sql":return"sql";case"graphql":return"graphql";case"vue":return"vue";case"svelte":return"svelte";case"png":case"jpg":case"jpeg":case"gif":case"svg":case"webp":return"image";default:return"plaintext"}},Lc=({children:n,...e})=>y.jsx("a",{...e,className:"text-sm font-medium text-var-fg-muted hover:text-var-fg-default transition-colors cursor-pointer",children:n}),qm=["um clone do Trello com autenticao Supabase...","um site de portflio para um fotgrafo...","um app de lista de tarefas com React e Tailwind CSS...","uma landing page para um app de delivery..."],Bm=({onPromptSubmit:n,onShowPricing:e,onShowProjects:i,onOpenGithubImport:r,onFolderImport:a,session:l,onLoginClick:c,onNewProject:f,onLogout:g})=>{const[h,_]=H.useState(""),[b,x]=H.useState(""),E=H.useRef(0),A=H.useRef(0),N=H.useRef(!1),w=H.useRef(null),D=H.useRef(null);H.useEffect(()=>{const q=()=>{const Y=qm[E.current];let V="",B=120;N.current?(V=Y.substring(0,A.current-1),A.current--,B=75,A.current===0&&(N.current=!1,E.current=(E.current+1)%qm.length,B=500)):(V=Y.substring(0,A.current+1),A.current++,A.current===Y.length&&(N.current=!0,B=2e3)),x(V),w.current=window.setTimeout(q,B)};return w.current=window.setTimeout(q,100),()=>{w.current&&clearTimeout(w.current)}},[]);const L=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),h.trim()&&n(h.trim()))},I=async q=>{const Y=q.target.files;if(!Y||Y.length===0)return;const V=Array.from(Y).map(B=>new Promise((Z,Q)=>{const se=new FileReader,ue=B.type.startsWith("image/");if(B.size>2*1024*1024){console.warn(`Skipping file ${B.name} as it is too large.`),Z(null);return}se.onload=()=>{try{let oe;if(ue){const Ee=se.result;oe=Ee.substring(Ee.indexOf(",")+1)}else oe=se.result;Z({name:B.webkitRelativePath,language:Zb(B.name),content:oe})}catch(oe){Q(oe)}},se.onerror=Q,ue?se.readAsDataURL(B):se.readAsText(B)}));try{const Z=(await Promise.all(V)).filter(Q=>Q!==null);Z.length>0?a(Z):alert("Nenhum arquivo vlido foi encontrado na pasta selecionada ou os arquivos eram muito grandes.")}catch(B){console.error("Failed to import folder:",B),alert("Ocorreu um erro ao importar a pasta. Verifique o console para mais detalhes.")}finally{D.current&&(D.current.value="")}};return y.jsxs("div",{className:"flex flex-col h-screen w-screen bg-var-bg-default text-var-fg-default overflow-hidden font-sans",children:[y.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 p-4 bg-var-bg-default/80 backdrop-blur-sm border-b border-var-border-subtle",children:y.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[y.jsxs("button",{onClick:f,className:"flex items-center gap-2",children:[y.jsx(cs,{className:"w-6 h-6 text-var-accent"}),y.jsxs("span",{className:"text-var-fg-default font-semibold text-lg",children:["codagem",y.jsx("span",{className:"font-light",children:"studio"})]})]}),y.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[y.jsx(Lc,{onClick:q=>{q.preventDefault(),i()},children:"Projetos"}),y.jsx(Lc,{onClick:q=>{q.preventDefault(),e()},children:"Preos"}),y.jsx(Lc,{href:"https://www.linkedin.com/in/pedro-berbis-freire-3b71bb37a/",target:"_blank",children:"LinkedIn"}),l?y.jsx("button",{onClick:g,className:"px-3 py-1.5 text-sm bg-var-bg-interactive text-var-fg-muted rounded-md hover:bg-var-bg-default transition-colors font-medium",children:"Sair"}):y.jsx("button",{onClick:c,className:"px-3 py-1.5 text-sm bg-var-accent text-var-accent-fg rounded-md hover:opacity-90 transition-opacity font-semibold",children:"Login"})]}),y.jsx("div",{className:"flex items-center gap-4 md:hidden",children:l?y.jsxs(y.Fragment,{children:[y.jsx("a",{href:"https://www.linkedin.com/in/pedro-berbis-freire-3b71bb37a/",target:"_blank",rel:"noopener noreferrer",className:"text-var-fg-muted hover:text-var-fg-default transition-colors",children:y.jsx(Ub,{})}),y.jsx("button",{onClick:g,className:"p-1 rounded-md text-var-fg-muted hover:text-var-fg-default transition-colors",children:y.jsx(Vv,{})})]}):y.jsx("button",{onClick:c,className:"px-3 py-1.5 text-sm bg-var-accent text-var-accent-fg rounded-md hover:opacity-90 transition-opacity font-semibold",children:"Login"})})]})}),y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center text-center px-4 relative z-0 animate-fadeIn",children:[y.jsx("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:y.jsx("div",{className:"absolute top-1/2 left-1/2 w-[80vw] h-[80vw] max-w-[800px] max-h-[800px] -translate-x-1/2 -translate-y-1/2 bg-var-accent/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"8s"}})}),y.jsxs("div",{className:"max-w-3xl w-full animate-slideInUp",style:{animationDelay:"100ms"},children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-var-fg-default tracking-tight",children:"Bem vindo"}),y.jsx("p",{className:"mt-4 text-lg text-var-fg-muted",children:"Crie seu novo projeto agora mesmo!"}),y.jsxs("div",{className:"relative mt-8 group",children:[y.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-var-accent to-blue-500 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),y.jsx("textarea",{value:h,onChange:q=>_(q.target.value),onKeyDown:L,placeholder:b,className:"relative w-full h-28 p-4 bg-var-bg-subtle border border-var-border-default rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-var-accent/50 text-var-fg-default placeholder-var-fg-subtle"}),y.jsxs("button",{onClick:()=>n(h.trim()),disabled:!h.trim(),className:"absolute bottom-4 right-4 flex items-center gap-2 px-4 py-2 bg-var-accent text-var-accent-fg rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx(pl,{}),y.jsx("span",{children:"Gerar"})]})]}),y.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-sm",children:[y.jsx("span",{className:"text-var-fg-muted",children:"ou importe de"}),y.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 bg-var-bg-interactive border border-var-border-default rounded-full hover:bg-opacity-80 transition-all text-var-fg-muted hover:text-var-fg-default",children:[y.jsx(hl,{}),y.jsx("span",{children:"GitHub"})]}),y.jsx("input",{type:"file",ref:D,onChange:I,multiple:!0,style:{display:"none"},webkitdirectory:"true",directory:"true"}),y.jsxs("button",{onClick:()=>{var q;return(q=D.current)==null?void 0:q.click()},className:"flex items-center gap-2 px-3 py-1.5 bg-var-bg-interactive border border-var-border-default rounded-full hover:bg-opacity-80 transition-all text-var-fg-muted hover:text-var-fg-default",children:[y.jsx(Fb,{}),y.jsx("span",{children:"Pasta Local"})]})]})]})]})]})},Wb=`
<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"><\/script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-300">
  <div class="flex flex-col items-center justify-center h-screen">
    <svg class="animate-spin h-8 w-8 text-blue-400 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
    <p class="text-lg font-medium">Construindo sua aplicao...</p>
  </div>
</body>
</html>
`,Gm={imports:{react:"https://esm.sh/react@^19.1.0","react/":"https://esm.sh/react@^19.1.0/","react-dom":"https://esm.sh/react-dom@^19.1.1","react-dom/":"https://esm.sh/react-dom@^19.1.1/","@supabase/supabase-js":"https://esm.sh/@supabase/supabase-js@^2.44.4"}},Vm=(n,e)=>{const i=n.split("/");i.pop();const r=e.split("/");for(const a of r)a!=="."&&(a===".."?i.pop():i.push(a));return i.join("/")},eS=({files:n,onError:e,theme:i,envVars:r,initialPath:a})=>{const[l,c]=H.useState(void 0),[f,g]=H.useState(new Map);return H.useEffect(()=>{let h=[];const _=async()=>{var I;if(n.length===0)return{src:void 0,urls:new Map,urlsToRevoke:[]};if(!window.Babel){e("Babel.js no foi carregado.");const q=new Blob([Wb],{type:"text/html"}),Y=URL.createObjectURL(q);return{src:Y,urls:new Map,urlsToRevoke:[Y]}}const b=new Map(n.map(q=>[q.name,q])),x=n.filter(q=>/\.(tsx|ts|jsx|js)$/.test(q.name)),E=n.filter(q=>q.name.endsWith(".css")),A=n.filter(q=>/\.(png|jpe?g|gif|svg|webp)$/i.test(q.name)),N=n.filter(q=>q.name.toLowerCase().endsWith(".html"));let w=[];const D=new Map,L=JSON.parse(JSON.stringify(Gm));try{for(const Z of[...E,...A]){let Q;if(Z.language==="image"){const ue=atob(Z.content),oe=new Array(ue.length);for(let Ie=0;Ie<ue.length;Ie++)oe[Ie]=ue.charCodeAt(Ie);const Ee=new Uint8Array(oe),Ye=`image/${Z.name.split(".").pop()||"png"}`;Q=new Blob([Ee],{type:Ye})}else Q=new Blob([Z.content],{type:"text/css"});const se=URL.createObjectURL(Q);w.push(se),D.set(Z.name,se)}for(const Z of x){let Q=Z.content;const se=/(from\s*|import\s*\()(["'])([^"']+)(["'])/g;Q=Q.replace(se,(Ye,Ie,U,K,de)=>{if(Object.keys(Gm.imports).some($=>K===$||K.startsWith($+"/"))||K.startsWith("http"))return Ye;let ge=K.startsWith(".")?Vm(Z.name,K):K;ge.startsWith("/")&&(ge=ge.substring(1));const R=["",".ts",".tsx",".js",".jsx","/index.ts","/index.tsx","/index.js","/index.jsx"];for(const $ of R)if(b.has(ge+$))return`${Ie}${U}/${ge+$}${de}`;return Ye});const ue=window.Babel.transform(Q,{presets:["react",["typescript",{allExtensions:!0,isTSX:Z.name.endsWith(".tsx")}]],filename:Z.name}).code,oe=new Blob([ue],{type:"application/javascript"}),Ee=URL.createObjectURL(oe);w.push(Ee),L.imports[`/${Z.name}`]=Ee}const q={};for(const Z of N){let Q=Z.content;Q=Q.replace(/(src|href)=["']((?:\.\/|\/)?)([^"']+)["']/g,(oe,Ee,Ye,Ie)=>{const U=Vm(Z.name,Ie);return D.has(U)?`${Ee}="${D.get(U)}"`:b.has(U)&&U.endsWith(".html")?`${Ee}="/${U}"`:oe});const se=`window.process = { env: ${JSON.stringify(r)} };`,ue=`
                    <script>document.documentElement.className = '${i}';<\/script>
                    <script type="importmap">${JSON.stringify(L)}<\/script>
                    <script type="module">import '/${(I=x.find(oe=>oe.name.includes("main")||oe.name.includes("index")))==null?void 0:I.name}';<\/script>
                `;Q=Q.replace("</head>",`${ue}</head>`),q[Z.name]=Q}const Y=new Map;for(const[Z,Q]of Object.entries(q)){const se=new Blob([Q],{type:"text/html"}),ue=URL.createObjectURL(se);w.push(ue),Y.set(`/${Z}`,ue),Z==="index.html"&&Y.set("/",ue)}const V=Y.has(a)?a:"/",B=Y.get(V);if(!B){const Z=`
                <!DOCTYPE html><html lang="pt-BR" class="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></head><body style="margin: 0;"><div style="font-family: 'Inter', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: #c9d1d9; background-color: #0d1117; padding: 2rem; text-align: center; box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: #484f58; margin-bottom: 1rem;"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line></svg><h2 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 0.5rem 0;">Pgina no encontrada</h2><p style="color: #8b949e; max-width: 450px; line-height: 1.5; margin: 0;">O caminho <code>${a}</code> no corresponde a nenhum arquivo HTML no projeto.</p></div></body></html>
                `,Q=new Blob([Z],{type:"text/html"}),se=URL.createObjectURL(Q);return{src:se,urls:new Map,urlsToRevoke:[se]}}return{src:B,urls:Y,urlsToRevoke:w}}catch(q){console.error("Error generating preview:",q);const Y=q instanceof Error?q.message:"Unknown error.";e(Y);const V=new Blob([`<div class="p-4 text-red-400 bg-var-bg-subtle"><pre>Erro ao gerar a visualizao:
${Y}</pre></div>`],{type:"text/html"}),B=URL.createObjectURL(V);return{src:B,urls:new Map,urlsToRevoke:[...w,B]}}};return c(void 0),_().then(b=>{g(b.urls);const x=b.urls.get(a)||b.urls.get("/")||b.src;c(x),h=b.urlsToRevoke}),()=>{h.forEach(b=>URL.revokeObjectURL(b))}},[n,e,i,r]),H.useEffect(()=>{const h=f.get(a)||f.get("/");h&&h!==l&&c(h)},[a,f]),y.jsxs("div",{className:"w-full h-full bg-var-bg-muted flex flex-col",children:[y.jsx("div",{className:"flex items-center p-2 bg-var-bg-subtle border-b border-var-border-muted",children:y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"text",readOnly:!0,value:`http://localhost:3000${a}`,className:"w-full px-2 py-1 text-sm bg-var-bg-input border border-var-border-input rounded"})})}),y.jsxs("div",{className:"flex-1 w-full h-full",children:[l===void 0&&y.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:y.jsx("p",{className:"text-lg font-medium",children:"Construindo sua aplicao..."})}),l&&y.jsx("iframe",{src:l,title:"Project Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",className:"w-full h-full border-0"},l)]})]})},tS=({code:n})=>y.jsx("pre",{className:"p-4 text-sm whitespace-pre-wrap break-words text-var-fg-default",children:y.jsx("code",{className:"font-mono",children:n})}),nS=({projectName:n,onRunLocally:e,theme:i,onThemeChange:r})=>y.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-var-border-default flex-shrink-0",children:[y.jsx("div",{className:"text-sm text-var-fg-muted font-medium",children:n}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>r(i==="dark"?"light":"dark"),className:"p-2 rounded-md text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors","aria-label":"Toggle theme",children:i==="dark"?y.jsx(zb,{className:"w-5 h-5"}):y.jsx(Hb,{className:"w-5 h-5"})}),y.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-var-accent text-var-accent-fg rounded-md hover:opacity-90 transition-opacity font-semibold",children:[y.jsx($v,{}),y.jsx("span",{children:"Executar Local"})]})]})]}),iS=({message:n,onFix:e,onClose:i})=>(H.useEffect(()=>{const r=setTimeout(()=>{i()},8e3);return()=>clearTimeout(r)},[i]),y.jsx("div",{className:"absolute bottom-4 right-4 z-50 w-full max-w-sm animate-slideInUp",children:y.jsx("div",{className:"bg-var-bg-subtle rounded-lg shadow-2xl border border-var-border-default overflow-hidden",children:y.jsx("div",{className:"p-4 border-l-4 border-red-500",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("svg",{className:"w-6 h-6 flex-shrink-0 text-red-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-semibold text-var-fg-default",children:"Erro na Visualizao"}),y.jsx("p",{className:"text-sm text-var-fg-muted mt-1 break-words",children:n}),y.jsx("div",{className:"mt-4 flex gap-2",children:y.jsxs("button",{onClick:e,className:"px-3 py-1 text-xs font-semibold text-white bg-var-accent rounded hover:opacity-90 transition-all flex items-center gap-1.5",children:[y.jsx(pl,{})," Corrigir com IA"]})})]}),y.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-var-bg-interactive text-var-fg-subtle hover:text-var-fg-default flex-shrink-0",children:y.jsx(Dt,{className:"w-4 h-4"})})]})})})})),sS=({children:n,url:e,onUrlChange:i,onRefresh:r})=>{const[a,l]=H.useState(e);H.useEffect(()=>{l(e)},[e]);const c=f=>{f.key==="Enter"&&i(a)};return y.jsxs("div",{className:"w-full h-full bg-var-bg-subtle flex flex-col",children:[y.jsxs("div",{className:"flex-shrink-0 bg-var-bg-muted border-b border-var-border-default p-2 flex items-center gap-2",children:[y.jsxs("div",{className:"flex gap-1.5",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),y.jsxs("div",{className:"flex items-center flex-grow bg-var-bg-default rounded-md px-2 py-1 ml-2",children:[y.jsx(To,{className:"w-4 h-4 text-var-fg-subtle mr-2"}),y.jsx("input",{type:"text",value:a,onChange:f=>l(f.target.value),onKeyDown:c,className:"text-sm text-var-fg-default bg-transparent w-full focus:outline-none"})]}),y.jsx("button",{onClick:r,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Kb,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"flex-grow overflow-auto",children:n})]})},rS=({files:n,activeFile:e,projectName:i,theme:r,onThemeChange:a,onFileSelect:l,onFileDelete:c,onRunLocally:f,codeError:g,onFixCode:h,onClearError:_,onError:b,envVars:x})=>{const[E,A]=H.useState("preview"),[N,w]=H.useState("/"),[D,L]=H.useState(Date.now()),I=n.find(V=>V.name===e),q=(V,B)=>{V.stopPropagation(),window.confirm(`Tem certeza de que deseja excluir "${B}" do projeto?`)&&c(B)},Y=()=>{L(Date.now())};return y.jsxs("div",{className:"flex flex-col h-full bg-var-bg-subtle",children:[y.jsx(nS,{projectName:i,onRunLocally:f,theme:r,onThemeChange:a}),y.jsxs("div",{className:"flex items-center justify-between border-b border-var-border-default bg-var-bg-muted flex-shrink-0",children:[y.jsx("div",{className:"flex-grow flex-shrink overflow-x-auto overflow-y-hidden",children:y.jsx("div",{className:"flex",children:n.map(V=>y.jsxs("button",{onClick:()=>l(V.name),className:`flex items-center px-4 py-2.5 text-sm border-r border-var-border-default relative transition-colors duration-200 ${e===V.name?"text-var-fg-default bg-var-bg-subtle":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:[y.jsx("span",{className:"truncate max-w-xs",children:V.name}),y.jsx("span",{onClick:B=>q(B,V.name),className:"ml-3 p-1 rounded-full hover:bg-var-bg-interactive",children:y.jsx(Dt,{className:"w-3 h-3"})}),e===V.name&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-var-accent"})]},V.name))})}),y.jsxs("div",{className:"p-1 bg-var-bg-default rounded-md m-2 flex-shrink-0",children:[y.jsx("button",{onClick:()=>A("code"),className:`px-3 py-1 text-xs rounded transition-colors ${E==="code"?"bg-var-accent text-var-accent-fg":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:"Cdigo"}),y.jsx("button",{onClick:()=>A("preview"),className:`px-3 py-1 text-xs rounded transition-colors ${E==="preview"?"bg-var-accent text-var-accent-fg":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:"Visualizao"})]})]}),y.jsxs("div",{className:"flex-grow overflow-auto bg-var-bg-subtle relative",children:[E==="code"?I?y.jsx(tS,{code:I.content}):y.jsx("div",{className:"p-4 text-var-fg-muted",children:"Selecione um arquivo para ver seu contedo."}):y.jsx(sS,{url:N,onUrlChange:w,onRefresh:Y,children:y.jsx(eS,{files:n,onError:b,theme:r,envVars:x,initialPath:N},D)}),g&&y.jsx(iS,{message:g,onFix:h,onClose:_})]})]})};var be=(n=>(n.Gemini="Gemini",n.OpenAI="OpenAI",n.DeepSeek="DeepSeek",n.OpenRouter="OpenRouter",n))(be||{});const go=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:be.Gemini},{id:"gpt-4o",name:"GPT-4o",provider:be.OpenAI},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:be.OpenAI},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",provider:be.OpenAI},{id:"deepseek-coder",name:"DeepSeek Coder",provider:be.DeepSeek},{id:"deepseek-chat",name:"DeepSeek Chat",provider:be.DeepSeek},{id:"mistralai/mistral-7b-instruct-free",name:"Mistral 7B (Free)",provider:be.OpenRouter},{id:"google/gemma-7b-it-free",name:"Gemma 7B (Free)",provider:be.OpenRouter},{id:"nousresearch/nous-hermes-2-mixtral-8x7b-dpo",name:"Nous Hermes 2 Mixtral (Free)",provider:be.OpenRouter},{id:"deepseek/deepseek-coder-v2-lite-instruct",name:"DeepSeek Coder V2 (OpenRouter)",provider:be.OpenRouter},{id:"deepseek/deepseek-chat",name:"DeepSeek Chat (OpenRouter)",provider:be.OpenRouter},{id:"z-ai/glm-4.5-air:free",name:"ZAI GLM 4.5 (Free)",provider:be.OpenRouter}],Jv='Ol! Sou seu assistente de codificao de IA. Descreva a aplicao web que voc deseja construir. Por exemplo: "Crie um site de portflio simples com uma pgina inicial, sobre e de contato."',zm="AIzaSyD0433RALd_5FVbs89xn6okQUsZ3QgHejU",oS=({text:n})=>{const e=n.split(/(ia)/gi);return y.jsx("span",{className:"whitespace-pre-wrap",children:e.map((i,r)=>i.toLowerCase()==="ia"?y.jsx("span",{className:"bg-var-accent/30 text-var-accent font-bold p-0.5 rounded-sm",children:i},r):i)})},aS=({markdown:n})=>{const e=n.trim().split(`
`).map(a=>a.trim()).filter(Boolean);if(e.length<2||!e[0].includes("|")||!e[1].includes("-"))return y.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono bg-var-bg-default p-2 rounded-md my-2",children:n});const i=e[0].split("|").map(a=>a.trim()).filter(Boolean),r=e.slice(2).map(a=>a.split("|").map(l=>l.trim()).filter(Boolean));return y.jsx("div",{className:"overflow-x-auto my-2 rounded-lg border border-var-border-default text-xs",children:y.jsxs("table",{className:"w-full text-left text-var-fg-default",children:[y.jsx("thead",{className:"text-xs text-var-fg-muted uppercase bg-var-bg-interactive",children:y.jsx("tr",{children:i.map((a,l)=>y.jsx("th",{scope:"col",className:"px-3 py-2 font-semibold",children:a},l))})}),y.jsx("tbody",{children:r.map((a,l)=>y.jsx("tr",{className:"border-t border-var-border-default bg-var-bg-subtle/50",children:a.map((c,f)=>y.jsx("td",{className:"px-3 py-2 font-mono",children:c==="Criado"?y.jsx("span",{className:"text-green-400 font-semibold",children:c}):c==="Modificado"?y.jsx("span",{className:"text-yellow-400 font-semibold",children:c}):c},f))},l))})]})})},lS=()=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-var-fg-muted rounded-full animate-pulse"}),y.jsx("div",{className:"w-2 h-2 bg-var-fg-muted rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),y.jsx("div",{className:"w-2 h-2 bg-var-fg-muted rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),Hm=({messages:n,onSendMessage:e,isProUser:i,onClose:r})=>{const[a,l]=H.useState(""),[c,f]=H.useState(go[0].id),[g,h]=H.useState([]),_=H.useRef(null),b=H.useRef(null),x=i?Object.values(be):[be.Gemini,be.OpenRouter];H.useEffect(()=>{const w=go.find(D=>D.id===c);if(!w||!x.includes(w.provider)){const D=go.find(L=>x.includes(L.provider));D&&f(D.id)}},[i,c,x]),H.useEffect(()=>{var w;(w=b.current)==null||w.scrollIntoView({behavior:"smooth"})},[n]);const E=w=>{w.target.files&&h(D=>[...D,...Array.from(w.target.files)]),_.current&&(_.current.value="")},A=w=>{h(D=>D.filter(L=>L!==w))},N=async w=>{w.preventDefault();const D=go.find(L=>L.id===c);if(!(!a.trim()&&g.length===0||!D))try{const L=g.map(q=>new Promise((Y,V)=>{const B=new FileReader;B.onload=Z=>{var se;const Q=((se=Z.target)==null?void 0:se.result).split(",")[1];Y({data:Q,mimeType:q.type})},B.onerror=Z=>V(Z),B.readAsDataURL(q)})),I=await Promise.all(L);e(a,D.provider,D.id,I),l(""),h([])}catch(L){console.error("Error processing file attachments:",L)}};return y.jsxs("div",{className:"bg-var-bg-subtle w-full flex flex-col h-full border-l border-var-border-default",children:[y.jsxs("div",{className:"p-4 border-b border-var-border-default flex justify-between items-center flex-shrink-0",children:[y.jsx("h2",{className:"text-lg font-semibold text-var-fg-default",children:"Chat"}),r&&y.jsx("button",{onClick:r,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:y.jsxs("div",{className:"space-y-4",children:[n.map((w,D)=>w.role==="system"?y.jsx("div",{className:"text-xs text-center text-var-fg-subtle italic my-2",children:y.jsx("span",{children:w.content})},D):y.jsxs("div",{className:`flex gap-3 ${w.role==="user"?"justify-end":"justify-start"}`,children:[w.role==="assistant"&&y.jsx(cs,{className:"w-6 h-6 text-var-accent flex-shrink-0 mt-1"}),y.jsx("div",{className:`p-3 rounded-lg max-w-xs md:max-w-md ${w.role==="user"?"bg-var-accent text-var-accent-fg":"bg-var-bg-interactive text-var-fg-default"}`,children:w.isThinking?y.jsxs("div",{className:"flex items-center gap-2",children:[w.content&&w.content!=="Pensando..."&&y.jsx("span",{className:"text-var-fg-default",children:w.content}),y.jsx(lS,{})]}):y.jsxs("div",{className:"prose prose-sm prose-invert max-w-none",children:[w.role==="user"?y.jsx(oS,{text:w.content}):y.jsx("p",{className:"whitespace-pre-wrap m-0",children:w.content}),w.summary&&y.jsx(aS,{markdown:w.summary})]})})]},D)),y.jsx("div",{ref:b})]})}),y.jsx("div",{className:"p-4 border-t border-var-border-default bg-var-bg-subtle",children:y.jsxs("form",{onSubmit:N,children:[y.jsx("div",{className:"mb-2",children:y.jsx("select",{value:c,onChange:w=>f(w.target.value),className:"bg-var-bg-interactive border border-var-border-default rounded-md px-2 py-1.5 text-sm w-full text-var-fg-default focus:outline-none focus:ring-2 focus:ring-var-accent/50",children:x.map(w=>y.jsx("optgroup",{label:w,children:go.filter(D=>D.provider===w).map(D=>y.jsx("option",{value:D.id,children:D.name},D.id))},w))})}),g.length>0&&y.jsx("div",{className:"mb-2 p-2 border border-var-border-default rounded-md bg-var-bg-interactive space-y-2",children:g.map((w,D)=>y.jsxs("div",{className:"flex items-center justify-between text-xs text-var-fg-muted",children:[y.jsx("span",{className:"truncate",children:w.name}),y.jsx("button",{type:"button",onClick:()=>A(w),className:"p-1 rounded-full hover:bg-var-bg-subtle",children:y.jsx(Dt,{className:"w-3 h-3"})})]},D))}),y.jsxs("div",{className:"relative",children:[y.jsx("textarea",{value:a,onChange:w=>l(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),N(w))},placeholder:"Descreva o que voc quer construir ou alterar...",className:"w-full p-2 pr-10 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-muted focus:outline-none focus:ring-2 focus:ring-var-accent/50 resize-none",rows:3}),y.jsx("input",{type:"file",ref:_,onChange:E,multiple:!0,className:"hidden",accept:"image/*,text/*"}),y.jsx("button",{type:"button",onClick:()=>{var w;return(w=_.current)==null?void 0:w.click()},className:"absolute bottom-2.5 right-2.5 p-1 text-var-fg-muted hover:text-var-fg-default rounded-md hover:bg-var-bg-subtle","aria-label":"Anexar arquivo",children:y.jsx(Yb,{})})]}),y.jsxs("button",{type:"submit",className:"w-full mt-2 bg-var-accent hover:opacity-90 text-var-accent-fg font-bold py-2 px-4 rounded-md transition duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",disabled:!a.trim()&&g.length===0||!c,children:[y.jsx(pl,{}),y.jsx("span",{children:"Gerar"})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uS,cS;function dS(){return{geminiUrl:uS,vertexUrl:cS}}function fS(n,e,i,r){var a,l;if(!(n!=null&&n.baseUrl)){const c=dS();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ds{}function re(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function m(n,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in n))if(Array.isArray(i))n[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[f])){const g=n[f];if(Array.isArray(i))for(let h=0;h<g.length;h++){const _=g[h];m(_,e.slice(l+1),i[h])}else for(const h of g)m(h,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in n||(n[f]=[{}]);const g=n[f];m(g[0],e.slice(l+1),i);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[r]=i}function d(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return i;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(r+1),i)):i}else return i}else n=n[a]}return n}catch(r){if(r instanceof TypeError)return i;throw r}}function hS(n,e){for(const[i,r]of Object.entries(e)){const a=i.split("."),l=r.split("."),c=new Set;let f=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){f=g;break}if(f!==-1&&l.length>f)for(let g=f;g<l.length;g++){const h=l[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Wc(n,a,l,0,c)}}function Wc(n,e,i,r,a){if(r>=e.length||typeof n!="object"||n===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),f=n;if(c in f&&Array.isArray(f[c]))for(const g of f[c])Wc(g,e,i,r+1,a)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,f=Object.keys(c).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of f)g[h]=c[h];for(const[h,_]of Object.entries(g)){const b=[];for(const x of i.slice(r))x==="*"?b.push(h):b.push(x);m(c,b,_)}for(const h of f)delete c[h]}}else{const c=n;l in c&&Wc(c[l],e,i,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ed(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(n){const e={},i=d(n,["operationName"]);i!=null&&m(e,["operationName"],i);const r=d(n,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function mS(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],vS(c)),e}function gS(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response"]);return c!=null&&m(e,["response"],yS(c)),e}function vS(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>_S(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function yS(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>bS(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function _S(n){const e={},i=d(n,["video"]);return i!=null&&m(e,["video"],TS(i)),e}function bS(n){const e={},i=d(n,["_self"]);return i!=null&&m(e,["video"],ES(i)),e}function SS(n){const e={},i=d(n,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function xS(n){const e={},i=d(n,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function TS(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Ed(r));const a=d(n,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function ES(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Ed(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $m;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($m||($m={}));var Jm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Jm||(Jm={}));var Fm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Fm||(Fm={}));var Ui;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ui||(Ui={}));var Ym;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ym||(Ym={}));var Km;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Km||(Km={}));var Qm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Qm||(Qm={}));var Xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Xm||(Xm={}));var Zm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Zm||(Zm={}));var Wm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wm||(Wm={}));var eg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eg||(eg={}));var tg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(tg||(tg={}));var ng;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ng||(ng={}));var ig;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ig||(ig={}));var sg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(sg||(sg={}));var rg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rg||(rg={}));var sl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(sl||(sl={}));var og;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(og||(og={}));var ed;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ed||(ed={}));var ag;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ag||(ag={}));var lg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lg||(lg={}));var ug;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(ug||(ug={}));var cg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(cg||(cg={}));var dg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(dg||(dg={}));var fg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fg||(fg={}));var hg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hg||(hg={}));var pg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(pg||(pg={}));var mg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(mg||(mg={}));var gg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(gg||(gg={}));var vg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(vg||(vg={}));var yg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yg||(yg={}));var _g;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_g||(_g={}));var bg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bg||(bg={}));var Sg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sg||(Sg={}));var xg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(xg||(xg={}));var Tg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Tg||(Tg={}));var Eg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Eg||(Eg={}));var wg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(wg||(wg={}));var Cg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Cg||(Cg={}));var Ag;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ag||(Ag={}));var Ng;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ng||(Ng={}));var Rg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Rg||(Rg={}));var Mg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mg||(Mg={}));var Ig;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ig||(Ig={}));var kg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(kg||(kg={}));var Dg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dg||(Dg={}));var Ug;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ug||(Ug={}));var Og;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Og||(Og={}));var cr;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(cr||(cr={}));class td{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class vo{get text(){var e,i,r,a,l,c,f,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",_=!1;const b=[];for(const x of(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[E,A]of Object.entries(x))E!=="text"&&E!=="thought"&&(A!==null||A!==void 0)&&b.push(E);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;_=!0,h+=x.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?h:void 0}get data(){var e,i,r,a,l,c,f,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const _=[];for(const b of(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[x,E]of Object.entries(b))x!=="inlineData"&&(E!==null||E!==void 0)&&_.push(x);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,r,a,l,c,f,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,r,a,l,c,f,g,h;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((_==null?void 0:_.length)!==0)return(h=_==null?void 0:_[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,r,a,l,c,f,g,h;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((_==null?void 0:_.length)!==0)return(h=_==null?void 0:_[0])===null||h===void 0?void 0:h.output}}class Pg{}class Lg{}class wS{}class CS{}class AS{}class NS{}class jg{}class qg{}class Bg{}class RS{}class rl{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const r=new rl;let a;const l=e;return i?a=gS(l):a=mS(l),Object.assign(r,a),r}}class Gg{}class Vg{}class zg{}class MS{}class IS{}class kS{}class Hg{}class DS{get text(){var e,i,r;let a="",l=!1;const c=[];for(const f of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,h]of Object.entries(f))g!=="text"&&g!=="thought"&&h!==null&&c.push(g);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,r;let a="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[f,g]of Object.entries(c))f!=="inlineData"&&g!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class US{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fv(n,e){const i=Pe(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Yv(n){return Array.isArray(n)?n.map(e=>ol(e)):[ol(n)]}function ol(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Kv(n){const e=ol(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qv(n){const e=ol(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $g(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Xv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>$g(e)):[$g(n)]}function nd(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Jg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Fg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function kt(n){if(n==null)throw new Error("ContentUnion is required");return nd(n)?n:{role:"user",parts:Xv(n)}}function wd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=kt(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const i=kt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>kt(i)):[kt(e)]}function fn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Jg(n)||Fg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[kt(n)]}const e=[],i=[],r=nd(n[0]);for(const a of n){const l=nd(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(Jg(a)||Fg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:Xv(i)}),e}function OS(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(Ui).includes(i[0].toUpperCase())?i[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function dr(n){const e={},i=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&OS(n.type,e);for(const[c,f]of Object.entries(n))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ui).includes(f.toUpperCase())?f.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=dr(f);else if(r.includes(c)){const g=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}g.push(dr(h))}e[c]=g}else if(a.includes(c)){const g={};for(const[h,_]of Object.entries(f))g[h]=dr(_);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=f}return e}function Cd(n){return dr(n)}function Ad(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Nd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function vr(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=dr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=dr(e.response));return n}function yr(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function PS(n,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function ei(n,e){if(typeof e!="string")throw new Error("name must be a string");return PS(n,e,"cachedContents")}function Zv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Oi(n){return Ed(n)}function LS(n){return n!=null&&typeof n=="object"&&"name"in n}function jS(n){return n!=null&&typeof n=="object"&&"video"in n}function qS(n){return n!=null&&typeof n=="object"&&"uri"in n}function Wv(n){var e;let i;if(LS(n)&&(i=n.name),!(qS(n)&&(i=n.uri,i===void 0))&&!(jS(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function ey(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function ty(n){for(const e of["models","tunedModels","publisherModels"])if(BS(n,e))return n[e];return[]}function BS(n,e){return n!==null&&typeof n=="object"&&e in n}function GS(n,e={}){const i=n,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function VS(n,e={}){const i=[],r=new Set;for(const a of n){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=GS(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function ny(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function zS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function iy(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function _r(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function sy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(n){const e={},i=d(n,["responsesFile"]);i!=null&&m(e,["fileName"],i);const r=d(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Sx(c))),m(e,["inlinedResponses"],l)}const a=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["inlinedEmbedContentResponses"],l)}return e}function $S(n){const e={},i=d(n,["predictionsFormat"]);i!=null&&m(e,["format"],i);const r=d(n,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const a=d(n,["bigqueryDestination","outputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function JS(n){const e={},i=d(n,["format"]);i!=null&&m(e,["predictionsFormat"],i);const r=d(n,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&m(e,["bigqueryDestination","outputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nl(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["metadata","state"]);a!=null&&m(e,["state"],sy(a));const l=d(n,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&m(e,["endTime"],c);const f=d(n,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const g=d(n,["metadata","model"]);g!=null&&m(e,["model"],g);const h=d(n,["metadata","output"]);return h!=null&&m(e,["dest"],HS(iy(h))),e}function id(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["state"]);a!=null&&m(e,["state"],sy(a));const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["createTime"]);c!=null&&m(e,["createTime"],c);const f=d(n,["startTime"]);f!=null&&m(e,["startTime"],f);const g=d(n,["endTime"]);g!=null&&m(e,["endTime"],g);const h=d(n,["updateTime"]);h!=null&&m(e,["updateTime"],h);const _=d(n,["model"]);_!=null&&m(e,["model"],_);const b=d(n,["inputConfig"]);b!=null&&m(e,["src"],FS(b));const x=d(n,["outputConfig"]);return x!=null&&m(e,["dest"],$S(iy(x))),e}function FS(n){const e={},i=d(n,["instancesFormat"]);i!=null&&m(e,["format"],i);const r=d(n,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const a=d(n,["bigquerySource","inputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function YS(n,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&m(i,["fileName"],r);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>bx(n,c))),m(i,["requests","requests"],l)}return i}function KS(n){const e={},i=d(n,["format"]);i!=null&&m(e,["instancesFormat"],i);const r=d(n,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&m(e,["bigquerySource","inputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function QS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function XS(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function ZS(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function WS(n){const e={},i=d(n,["content"]);i!=null&&m(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],ex(r));const a=d(n,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(n,["urlContextMetadata"]);c!=null&&m(e,["urlContextMetadata"],c);const f=d(n,["avgLogprobs"]);f!=null&&m(e,["avgLogprobs"],f);const g=d(n,["groundingMetadata"]);g!=null&&m(e,["groundingMetadata"],g);const h=d(n,["index"]);h!=null&&m(e,["index"],h);const _=d(n,["logprobsResult"]);_!=null&&m(e,["logprobsResult"],_);const b=d(n,["safetyRatings"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(E=>E)),m(e,["safetyRatings"],x)}return e}function ex(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["citations"],r)}return e}function ry(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Nx(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function tx(n,e){const i={},r=d(n,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function nx(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=d(n,["dest"]);return e!==void 0&&a!=null&&m(e,["outputConfig"],JS(zS(a))),i}function Yg(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["src"]);a!=null&&m(i,["batch","inputConfig"],YS(n,ny(n,a)));const l=d(e,["config"]);return l!=null&&tx(l,i),i}function ix(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["model"],Pe(n,r));const a=d(e,["src"]);a!=null&&m(i,["inputConfig"],KS(ny(n,a)));const l=d(e,["config"]);return l!=null&&nx(l,i),i}function sx(n,e){const i={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),i}function rx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["src"]);a!=null&&m(i,["batch","inputConfig"],fx(n,a));const l=d(e,["config"]);return l!=null&&sx(l,i),i}function ox(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function ax(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function lx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);return l!=null&&m(e,["error"],l),e}function ux(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);return l!=null&&m(e,["error"],l),e}function cx(n,e){const i={},r=d(e,["contents"]);if(r!=null){let l=wd(n,r);Array.isArray(l)&&(l=l.map(c=>c)),m(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(m(i,["_self"],dx(a,i)),hS(i,{"requests[].*":"requests[].request.*"})),i}function dx(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function fx(n,e){const i={},r=d(e,["fileName"]);r!=null&&m(i,["file_name"],r);const a=d(e,["inlinedRequests"]);return a!=null&&m(i,["requests"],cx(n,a)),i}function hx(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function px(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],ry(kt(a)));const l=d(e,["temperature"]);l!=null&&m(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(r,["topP"],c);const f=d(e,["topK"]);f!=null&&m(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(r,["candidateCount"],g);const h=d(e,["maxOutputTokens"]);h!=null&&m(r,["maxOutputTokens"],h);const _=d(e,["stopSequences"]);_!=null&&m(r,["stopSequences"],_);const b=d(e,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const x=d(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const E=d(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(r,["frequencyPenalty"],A);const N=d(e,["seed"]);N!=null&&m(r,["seed"],N);const w=d(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const D=d(e,["responseSchema"]);D!=null&&m(r,["responseSchema"],Cd(D));const L=d(e,["responseJsonSchema"]);if(L!=null&&m(r,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(i!==void 0&&I!=null){let oe=I;Array.isArray(oe)&&(oe=oe.map(Ee=>Rx(Ee))),m(i,["safetySettings"],oe)}const q=d(e,["tools"]);if(i!==void 0&&q!=null){let oe=yr(q);Array.isArray(oe)&&(oe=oe.map(Ee=>Mx(vr(Ee)))),m(i,["tools"],oe)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&m(i,["toolConfig"],Y),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=d(e,["cachedContent"]);i!==void 0&&V!=null&&m(i,["cachedContent"],ei(n,V));const B=d(e,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const Z=d(e,["mediaResolution"]);Z!=null&&m(r,["mediaResolution"],Z);const Q=d(e,["speechConfig"]);if(Q!=null&&m(r,["speechConfig"],Ad(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=d(e,["thinkingConfig"]);se!=null&&m(r,["thinkingConfig"],se);const ue=d(e,["imageConfig"]);return ue!=null&&m(r,["imageConfig"],ue),r}function mx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(h=>WS(h))),m(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function gx(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function vx(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function yx(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function _x(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["request","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let f=fn(a);Array.isArray(f)&&(f=f.map(g=>ry(g))),m(i,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&m(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&m(i,["request","generationConfig"],px(n,c,d(i,["request"],{}))),i}function Sx(n){const e={},i=d(n,["response"]);i!=null&&m(e,["response"],mx(i));const r=d(n,["error"]);return r!=null&&m(e,["error"],r),e}function xx(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);if(e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Tx(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const l=d(n,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),i}function Ex(n){const e={},i=d(n,["config"]);return i!=null&&xx(i,e),e}function wx(n){const e={},i=d(n,["config"]);return i!=null&&Tx(i,e),e}function Cx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>nl(c))),m(e,["batchJobs"],l)}return e}function Ax(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>id(c))),m(e,["batchJobs"],l)}return e}function Nx(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],QS(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],hx(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const h=d(n,["executableCode"]);h!=null&&m(e,["executableCode"],h);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function Rx(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(n,["category"]);i!=null&&m(e,["category"],i);const r=d(n,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Mx(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(_=>_)),m(e,["functionDeclarations"],h)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],_x(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],yx(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var us;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(us||(us={}));class Ao{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ix extends ds{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Ao(us.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=Yg(this.apiClient,e),r=i._url,a=re("{model}:batchGenerateContent",r),f=i.batch.inputConfig.requests,g=f.requests,h=[];for(const _ of g){const b=Object.assign({},_);if(b.systemInstruction){const x=b.systemInstruction;delete b.systemInstruction;const E=b.request;E.systemInstruction=x,b.request=E}h.push(b)}return f.requests=h,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=ix(this.apiClient,e);return f=re("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>id(_))}else{const h=Yg(this.apiClient,e);return f=re("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>nl(_))}}async createEmbeddingsInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=rx(this.apiClient,e);return l=re("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>nl(g))}}async get(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=vx(this.apiClient,e);return f=re("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>id(_))}else{const h=gx(this.apiClient,e);return f=re("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>nl(_))}}async cancel(e){var i,r,a,l;let c="",f={};if(this.apiClient.isVertexAI()){const g=ZS(this.apiClient,e);c=re("batchPredictionJobs/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=XS(this.apiClient,e);c=re("batches/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=wx(e);return f=re("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=Ax(_),x=new Hg;return Object.assign(x,b),x})}else{const h=Ex(e);return f=re("batches",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=Cx(_),x=new Hg;return Object.assign(x,b),x})}}async delete(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=ax(this.apiClient,e);return f=re("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>ux(_))}else{const h=ox(this.apiClient,e);return f=re("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>lx(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Kg(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Wx(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function Dx(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let _=fn(c);Array.isArray(_)&&(_=_.map(b=>Kg(b))),m(e,["contents"],_)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Kg(kt(f)));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>eT(b))),m(e,["tools"],_)}const h=d(n,["toolConfig"]);if(e!==void 0&&h!=null&&m(e,["toolConfig"],h),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Ux(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let b=fn(c);Array.isArray(b)&&(b=b.map(x=>x)),m(e,["contents"],b)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],kt(f));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(x=>tT(x))),m(e,["tools"],b)}const h=d(n,["toolConfig"]);e!==void 0&&h!=null&&m(e,["toolConfig"],h);const _=d(n,["kmsKeyName"]);return e!==void 0&&_!=null&&m(e,["encryption_spec","kmsKeyName"],_),i}function Ox(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["model"],Fv(n,r));const a=d(e,["config"]);return a!=null&&Dx(a,i),i}function Px(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["model"],Fv(n,r));const a=d(e,["config"]);return a!=null&&Ux(a,i),i}function Lx(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function jx(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function qx(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function Bx(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function Gx(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Vx(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&m(e,["description"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["parameters"]);a!=null&&m(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&m(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function zx(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function Hx(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function $x(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function Jx(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Fx(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function Yx(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function Kx(n){const e={},i=d(n,["config"]);return i!=null&&Fx(i,e),e}function Qx(n){const e={},i=d(n,["config"]);return i!=null&&Yx(i,e),e}function Xx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function Zx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function Wx(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],kx(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],Gx(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const h=d(n,["executableCode"]);h!=null&&m(e,["executableCode"],h);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function eT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(_=>_)),m(e,["functionDeclarations"],h)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],Jx(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],$x(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}function tT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(x=>Vx(x))),m(e,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(e,["retrieval"],r);const a=d(n,["googleSearch"]);a!=null&&m(e,["googleSearch"],a);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const c=d(n,["enterpriseWebSearch"]);c!=null&&m(e,["enterpriseWebSearch"],c);const f=d(n,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const g=d(n,["urlContext"]);g!=null&&m(e,["urlContext"],g);const h=d(n,["computerUse"]);h!=null&&m(e,["computerUse"],h);const _=d(n,["codeExecution"]);return _!=null&&m(e,["codeExecution"],_),e}function nT(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),i}function iT(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),i}function sT(n,e){const i={},r=d(e,["name"]);r!=null&&m(i,["_url","name"],ei(n,r));const a=d(e,["config"]);return a!=null&&nT(a,i),i}function rT(n,e){const i={},r=d(e,["name"]);r!=null&&m(i,["_url","name"],ei(n,r));const a=d(e,["config"]);return a!=null&&iT(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends ds{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ao(us.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Px(this.apiClient,e);return f=re("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const h=Ox(this.apiClient,e);return f=re("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async get(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Hx(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const h=zx(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async delete(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=jx(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=Bx(_),x=new Vg;return Object.assign(x,b),x})}else{const h=Lx(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=qx(_),x=new Vg;return Object.assign(x,b),x})}}async update(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=rT(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const h=sT(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Qx(e);return f=re("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=Zx(_),x=new zg;return Object.assign(x,b),x})}else{const h=Kx(e);return f=re("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=Xx(_),x=new zg;return Object.assign(x,b),x})}}}function Qg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(n){return this instanceof Ze?(this.v=n,this):new Ze(n)}function fr(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(A){return Promise.resolve(A).then(E,b)}}function f(E,A){r[E]&&(a[E]=function(N){return new Promise(function(w,D){l.push([E,N,w,D])>1||g(E,N)})},A&&(a[E]=A(a[E])))}function g(E,A){try{h(r[E](A))}catch(N){x(l[0][3],N)}}function h(E){E.value instanceof Ze?Promise.resolve(E.value.v).then(_,b):x(l[0][2],E)}function _(E){g("next",E)}function b(E){g("throw",E)}function x(E,A){E(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function _o(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Qg=="function"?Qg(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(f,g){c=n[l](c),a(f,g,c.done,c.value)})}}function a(l,c,f,g){Promise.resolve(g).then(function(h){l({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:oy(i)}function oy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function lT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xg(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let r=0;for(;r<i;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let l=!0;for(;r<i&&n[r].role==="model";)a.push(n[r]),l&&!oy(n[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class uT{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new cT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class cT{constructor(e,i,r,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),lT(l)}async sendMessage(e){var i;await this.sendPromise;const r=kt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,f;const g=await a,h=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,_=g.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let x=[];_!=null&&(x=(f=_.slice(b))!==null&&f!==void 0?f:[]);const E=h?[h]:[];this.recordHistory(r,E,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=kt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?Xg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var r,a;return fr(this,arguments,function*(){var c,f,g,h;const _=[];try{for(var b=!0,x=_o(e),E;E=yield Ze(x.next()),c=E.done,!c;b=!0){h=E.value,b=!1;const A=h;if(aT(A)){const N=(a=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;N!==void 0&&_.push(N)}yield yield Ze(A)}}catch(A){f={error:A}}finally{try{!b&&!c&&(g=x.return)&&(yield Ze(g.call(x)))}finally{if(f)throw f.error}}this.recordHistory(i,_)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Xg(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ml extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ml.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(n){const e={},i=d(n,["file"]);return i!=null&&m(e,["file"],i),e}function fT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function hT(n){const e={},i=d(n,["name"]);return i!=null&&m(e,["_url","file"],Wv(i)),e}function pT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function mT(n){const e={},i=d(n,["name"]);return i!=null&&m(e,["_url","file"],Wv(i)),e}function gT(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function vT(n){const e={},i=d(n,["config"]);return i!=null&&gT(i,e),e}function yT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _T extends ds{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ao(us.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vT(e);return l=re("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const h=yT(g),_=new MS;return Object.assign(_,h),_})}}async createInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=dT(e);return l=re("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const h=fT(g),_=new IS;return Object.assign(_,h),_})}}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mT(e);return l=re("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=hT(e);return l=re("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const h=pT(g),_=new kS;return Object.assign(_,h),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function il(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function bT(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>OT(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function ST(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xT(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&m(e,["description"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["parameters"]);a!=null&&m(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&m(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function TT(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const r=d(n,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const a=d(n,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const l=d(n,["enableAffectiveDialog"]);l!=null&&m(e,["enableAffectiveDialog"],l);const c=d(n,["frequencyPenalty"]);c!=null&&m(e,["frequencyPenalty"],c);const f=d(n,["logprobs"]);f!=null&&m(e,["logprobs"],f);const g=d(n,["maxOutputTokens"]);g!=null&&m(e,["maxOutputTokens"],g);const h=d(n,["mediaResolution"]);h!=null&&m(e,["mediaResolution"],h);const _=d(n,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const b=d(n,["responseJsonSchema"]);b!=null&&m(e,["responseJsonSchema"],b);const x=d(n,["responseLogprobs"]);x!=null&&m(e,["responseLogprobs"],x);const E=d(n,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const A=d(n,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const N=d(n,["responseSchema"]);N!=null&&m(e,["responseSchema"],N);const w=d(n,["routingConfig"]);w!=null&&m(e,["routingConfig"],w);const D=d(n,["seed"]);D!=null&&m(e,["seed"],D);const L=d(n,["speechConfig"]);L!=null&&m(e,["speechConfig"],ay(L));const I=d(n,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const q=d(n,["temperature"]);q!=null&&m(e,["temperature"],q);const Y=d(n,["thinkingConfig"]);Y!=null&&m(e,["thinkingConfig"],Y);const V=d(n,["topK"]);V!=null&&m(e,["topK"],V);const B=d(n,["topP"]);if(B!=null&&m(e,["topP"],B),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ET(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function wT(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CT(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const h=d(n,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const _=d(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],Nd(b));const x=d(n,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(n,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],bT(kt(A)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let V=yr(N);Array.isArray(V)&&(V=V.map(B=>LT(vr(B)))),m(e,["setup","tools"],V)}const w=d(n,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],PT(w));const D=d(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","inputAudioTranscription"],D);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const I=d(n,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const q=d(n,["contextWindowCompression"]);e!==void 0&&q!=null&&m(e,["setup","contextWindowCompression"],q);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&m(e,["setup","proactivity"],Y),i}function AT(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],TT(r));const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const h=d(n,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const _=d(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],ay(Nd(b)));const x=d(n,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(n,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],kt(A));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let V=yr(N);Array.isArray(V)&&(V=V.map(B=>jT(vr(B)))),m(e,["setup","tools"],V)}const w=d(n,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],w);const D=d(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","inputAudioTranscription"],D);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const I=d(n,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const q=d(n,["contextWindowCompression"]);e!==void 0&&q!=null&&m(e,["setup","contextWindowCompression"],q);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&m(e,["setup","proactivity"],Y),i}function NT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["setup","model"],Pe(n,r));const a=d(e,["config"]);return a!=null&&m(i,["config"],CT(a,i)),i}function RT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["setup","model"],Pe(n,r));const a=d(e,["config"]);return a!=null&&m(i,["config"],AT(a,i)),i}function MT(n){const e={},i=d(n,["musicGenerationConfig"]);return i!=null&&m(e,["musicGenerationConfig"],i),e}function IT(n){const e={},i=d(n,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["weightedPrompts"],r)}return e}function kT(n){const e={},i=d(n,["media"]);if(i!=null){let h=Yv(i);Array.isArray(h)&&(h=h.map(_=>il(_))),m(e,["mediaChunks"],h)}const r=d(n,["audio"]);r!=null&&m(e,["audio"],il(Qv(r)));const a=d(n,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&m(e,["video"],il(Kv(l)));const c=d(n,["text"]);c!=null&&m(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&m(e,["activityStart"],f);const g=d(n,["activityEnd"]);return g!=null&&m(e,["activityEnd"],g),e}function DT(n){const e={},i=d(n,["media"]);if(i!=null){let h=Yv(i);Array.isArray(h)&&(h=h.map(_=>_)),m(e,["mediaChunks"],h)}const r=d(n,["audio"]);r!=null&&m(e,["audio"],Qv(r));const a=d(n,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&m(e,["video"],Kv(l));const c=d(n,["text"]);c!=null&&m(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&m(e,["activityStart"],f);const g=d(n,["activityEnd"]);return g!=null&&m(e,["activityEnd"],g),e}function UT(n){const e={},i=d(n,["setupComplete"]);i!=null&&m(e,["setupComplete"],i);const r=d(n,["serverContent"]);r!=null&&m(e,["serverContent"],r);const a=d(n,["toolCall"]);a!=null&&m(e,["toolCall"],a);const l=d(n,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&m(e,["usageMetadata"],qT(c));const f=d(n,["goAway"]);f!=null&&m(e,["goAway"],f);const g=d(n,["sessionResumptionUpdate"]);return g!=null&&m(e,["sessionResumptionUpdate"],g),e}function OT(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],il(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],ST(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const h=d(n,["executableCode"]);h!=null&&m(e,["executableCode"],h);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function PT(n){const e={},i=d(n,["handle"]);if(i!=null&&m(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ay(n){const e={},i=d(n,["voiceConfig"]);if(i!=null&&m(e,["voiceConfig"],i),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(n,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function LT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(_=>_)),m(e,["functionDeclarations"],h)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],wT(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],ET(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}function jT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(x=>xT(x))),m(e,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(e,["retrieval"],r);const a=d(n,["googleSearch"]);a!=null&&m(e,["googleSearch"],a);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const c=d(n,["enterpriseWebSearch"]);c!=null&&m(e,["enterpriseWebSearch"],c);const f=d(n,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const g=d(n,["urlContext"]);g!=null&&m(e,["urlContext"],g);const h=d(n,["computerUse"]);h!=null&&m(e,["computerUse"],h);const _=d(n,["codeExecution"]);return _!=null&&m(e,["codeExecution"],_),e}function qT(n){const e={},i=d(n,["promptTokenCount"]);i!=null&&m(e,["promptTokenCount"],i);const r=d(n,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const a=d(n,["candidatesTokenCount"]);a!=null&&m(e,["responseTokenCount"],a);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&m(e,["thoughtsTokenCount"],c);const f=d(n,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const g=d(n,["promptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["promptTokensDetails"],E)}const h=d(n,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["cacheTokensDetails"],E)}const _=d(n,["candidatesTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["responseTokensDetails"],E)}const b=d(n,["toolUsePromptTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(A=>A)),m(e,["toolUsePromptTokensDetails"],E)}const x=d(n,["trafficType"]);return x!=null&&m(e,["trafficType"],x),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function GT(n){const e={},i=d(n,["content"]);i!=null&&m(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],VT(r));const a=d(n,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(n,["urlContextMetadata"]);c!=null&&m(e,["urlContextMetadata"],c);const f=d(n,["avgLogprobs"]);f!=null&&m(e,["avgLogprobs"],f);const g=d(n,["groundingMetadata"]);g!=null&&m(e,["groundingMetadata"],g);const h=d(n,["index"]);h!=null&&m(e,["index"],h);const _=d(n,["logprobsResult"]);_!=null&&m(e,["logprobsResult"],_);const b=d(n,["safetyRatings"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(E=>E)),m(e,["safetyRatings"],x)}return e}function VT(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["citations"],r)}return e}function zT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let l=fn(a);Array.isArray(l)&&(l=l.map(c=>c)),m(i,["contents"],l)}return i}function HT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["tokensInfo"],a)}return e}function $T(n){const e={},i=d(n,["values"]);i!=null&&m(e,["values"],i);const r=d(n,["statistics"]);return r!=null&&m(e,["statistics"],JT(r)),e}function JT(n){const e={},i=d(n,["truncated"]);i!=null&&m(e,["truncated"],i);const r=d(n,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function gl(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>XE(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function FT(n){const e={},i=d(n,["controlType"]);i!=null&&m(e,["controlType"],i);const r=d(n,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function YT(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function KT(n,e){const i={},r=d(n,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],kt(r));const a=d(n,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>fy(f))),m(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],jE(l)),i}function QT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>gl(f))),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&YT(l),i}function XT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&KT(l,i),i}function ZT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const a=d(n,["cachedContentTokenCount"]);return a!=null&&m(e,["cachedContentTokenCount"],a),e}function WT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function eE(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Pe(n,r)),i}function tE(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Pe(n,r)),i}function nE(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function iE(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function sE(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const g=d(n,["seed"]);e!==void 0&&g!=null&&m(e,["parameters","seed"],g);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const x=d(n,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const E=d(n,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const A=d(n,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&m(e,["parameters","outputOptions","compressionQuality"],N);const w=d(n,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const D=d(n,["labels"]);e!==void 0&&D!=null&&m(e,["labels"],D);const L=d(n,["editMode"]);e!==void 0&&L!=null&&m(e,["parameters","editMode"],L);const I=d(n,["baseSteps"]);return e!==void 0&&I!=null&&m(e,["parameters","editConfig","baseSteps"],I),i}function rE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>iw(g))),m(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&sE(c,i),i}function oE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>vl(l))),m(e,["generatedImages"],a)}return e}function aE(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function lE(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&m(e,["instances[]","title"],a);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&m(e,["instances[]","mimeType"],c);const f=d(n,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),i}function uE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let f=wd(n,a);Array.isArray(f)&&(f=f.map(g=>g)),m(i,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&aE(l,i);const c=d(e,["model"]);return c!==void 0&&m(i,["requests[]","model"],Pe(n,c)),i}function cE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let c=wd(n,a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&lE(l,i),i}function dE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function fE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>$T(c))),m(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function hE(n){const e={},i=d(n,["endpoint"]);i!=null&&m(e,["name"],i);const r=d(n,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function pE(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function mE(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&m(e,["description"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["parameters"]);a!=null&&m(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&m(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function gE(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],gl(kt(a)));const l=d(e,["temperature"]);l!=null&&m(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(r,["topP"],c);const f=d(e,["topK"]);f!=null&&m(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(r,["candidateCount"],g);const h=d(e,["maxOutputTokens"]);h!=null&&m(r,["maxOutputTokens"],h);const _=d(e,["stopSequences"]);_!=null&&m(r,["stopSequences"],_);const b=d(e,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const x=d(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const E=d(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(r,["frequencyPenalty"],A);const N=d(e,["seed"]);N!=null&&m(r,["seed"],N);const w=d(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const D=d(e,["responseSchema"]);D!=null&&m(r,["responseSchema"],Cd(D));const L=d(e,["responseJsonSchema"]);if(L!=null&&m(r,["responseJsonSchema"],L),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(i!==void 0&&I!=null){let oe=I;Array.isArray(oe)&&(oe=oe.map(Ee=>sw(Ee))),m(i,["safetySettings"],oe)}const q=d(e,["tools"]);if(i!==void 0&&q!=null){let oe=yr(q);Array.isArray(oe)&&(oe=oe.map(Ee=>cw(vr(Ee)))),m(i,["tools"],oe)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&m(i,["toolConfig"],Y),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=d(e,["cachedContent"]);i!==void 0&&V!=null&&m(i,["cachedContent"],ei(n,V));const B=d(e,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const Z=d(e,["mediaResolution"]);Z!=null&&m(r,["mediaResolution"],Z);const Q=d(e,["speechConfig"]);if(Q!=null&&m(r,["speechConfig"],Ad(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=d(e,["thinkingConfig"]);se!=null&&m(r,["thinkingConfig"],se);const ue=d(e,["imageConfig"]);return ue!=null&&m(r,["imageConfig"],ue),r}function vE(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],kt(a));const l=d(e,["temperature"]);l!=null&&m(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(r,["topP"],c);const f=d(e,["topK"]);f!=null&&m(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(r,["candidateCount"],g);const h=d(e,["maxOutputTokens"]);h!=null&&m(r,["maxOutputTokens"],h);const _=d(e,["stopSequences"]);_!=null&&m(r,["stopSequences"],_);const b=d(e,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const x=d(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const E=d(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&m(r,["frequencyPenalty"],A);const N=d(e,["seed"]);N!=null&&m(r,["seed"],N);const w=d(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const D=d(e,["responseSchema"]);D!=null&&m(r,["responseSchema"],Cd(D));const L=d(e,["responseJsonSchema"]);L!=null&&m(r,["responseJsonSchema"],L);const I=d(e,["routingConfig"]);I!=null&&m(r,["routingConfig"],I);const q=d(e,["modelSelectionConfig"]);q!=null&&m(r,["modelConfig"],q);const Y=d(e,["safetySettings"]);if(i!==void 0&&Y!=null){let U=Y;Array.isArray(U)&&(U=U.map(K=>K)),m(i,["safetySettings"],U)}const V=d(e,["tools"]);if(i!==void 0&&V!=null){let U=yr(V);Array.isArray(U)&&(U=U.map(K=>fy(vr(K)))),m(i,["tools"],U)}const B=d(e,["toolConfig"]);i!==void 0&&B!=null&&m(i,["toolConfig"],B);const Z=d(e,["labels"]);i!==void 0&&Z!=null&&m(i,["labels"],Z);const Q=d(e,["cachedContent"]);i!==void 0&&Q!=null&&m(i,["cachedContent"],ei(n,Q));const se=d(e,["responseModalities"]);se!=null&&m(r,["responseModalities"],se);const ue=d(e,["mediaResolution"]);ue!=null&&m(r,["mediaResolution"],ue);const oe=d(e,["speechConfig"]);oe!=null&&m(r,["speechConfig"],dy(Ad(oe)));const Ee=d(e,["audioTimestamp"]);Ee!=null&&m(r,["audioTimestamp"],Ee);const Ye=d(e,["thinkingConfig"]);Ye!=null&&m(r,["thinkingConfig"],Ye);const Ie=d(e,["imageConfig"]);return Ie!=null&&m(r,["imageConfig"],Ie),r}function Zg(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>gl(f))),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(i,["generationConfig"],gE(n,l,i)),i}function Wg(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(i,["generationConfig"],vE(n,l,i)),i}function ev(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(h=>GT(h))),m(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function tv(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(_=>_)),m(e,["candidates"],h)}const a=d(n,["createTime"]);a!=null&&m(e,["createTime"],a);const l=d(n,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&m(e,["promptFeedback"],c);const f=d(n,["responseId"]);f!=null&&m(e,["responseId"],f);const g=d(n,["usageMetadata"]);return g!=null&&m(e,["usageMetadata"],g),e}function yE(n,e){const i={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const f=d(n,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const g=d(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const h=d(n,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const _=d(n,["language"]);e!==void 0&&_!=null&&m(e,["parameters","language"],_);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const x=d(n,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(n,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function _E(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const g=d(n,["seed"]);e!==void 0&&g!=null&&m(e,["parameters","seed"],g);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&m(e,["parameters","safetySetting"],h);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const x=d(n,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const E=d(n,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const A=d(n,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&m(e,["parameters","outputOptions","compressionQuality"],N);const w=d(n,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const D=d(n,["labels"]);e!==void 0&&D!=null&&m(e,["labels"],D);const L=d(n,["imageSize"]);e!==void 0&&L!=null&&m(e,["parameters","sampleImageSize"],L);const I=d(n,["enhancePrompt"]);return e!==void 0&&I!=null&&m(e,["parameters","enhancePrompt"],I),i}function bE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&yE(l,i),i}function SE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&_E(l,i),i}function xE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>UE(c))),m(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],uy(a)),e}function TE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>vl(c))),m(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],cy(a)),e}function EE(n,e){const i={},r=d(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(n,["durationSeconds"]);if(e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const f=d(n,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(n,["negativePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","negativePrompt"],g);const h=d(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=d(n,["lastFrame"]);e!==void 0&&_!=null&&m(e,["instances[0]","lastFrame"],yl(_));const b=d(n,["referenceImages"]);if(e!==void 0&&b!=null){let x=b;Array.isArray(x)&&(x=x.map(E=>Tw(E))),m(e,["instances[0]","referenceImages"],x)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function wE(n,e){const i={},r=d(n,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const l=d(n,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&m(e,["parameters","durationSeconds"],c);const f=d(n,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const g=d(n,["aspectRatio"]);e!==void 0&&g!=null&&m(e,["parameters","aspectRatio"],g);const h=d(n,["resolution"]);e!==void 0&&h!=null&&m(e,["parameters","resolution"],h);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const b=d(n,["pubsubTopic"]);e!==void 0&&b!=null&&m(e,["parameters","pubsubTopic"],b);const x=d(n,["negativePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","negativePrompt"],x);const E=d(n,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const A=d(n,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const N=d(n,["lastFrame"]);e!==void 0&&N!=null&&m(e,["instances[0]","lastFrame"],xn(N));const w=d(n,["referenceImages"]);if(e!==void 0&&w!=null){let I=w;Array.isArray(I)&&(I=I.map(q=>Ew(q))),m(e,["instances[0]","referenceImages"],I)}const D=d(n,["mask"]);e!==void 0&&D!=null&&m(e,["instances[0]","mask"],xw(D));const L=d(n,["compressionQuality"]);return e!==void 0&&L!=null&&m(e,["parameters","compressionQuality"],L),i}function CE(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],ME(c)),e}function AE(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response"]);return c!=null&&m(e,["response"],IE(c)),e}function NE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&m(i,["instances[0]","image"],yl(l));const c=d(e,["video"]);c!=null&&m(i,["instances[0]","video"],hy(c));const f=d(e,["source"]);f!=null&&kE(f,i);const g=d(e,["config"]);return g!=null&&EE(g,i),i}function RE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&m(i,["instances[0]","image"],xn(l));const c=d(e,["video"]);c!=null&&m(i,["instances[0]","video"],py(c));const f=d(e,["source"]);f!=null&&DE(f,i);const g=d(e,["config"]);return g!=null&&wE(g,i),i}function ME(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>PE(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function IE(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>LE(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function kE(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],yl(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],hy(l)),i}function DE(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],xn(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],py(l)),i}function UE(n){const e={},i=d(n,["_self"]);i!=null&&m(e,["image"],zE(i));const r=d(n,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const a=d(n,["_self"]);return a!=null&&m(e,["safetyAttributes"],uy(a)),e}function vl(n){const e={},i=d(n,["_self"]);i!=null&&m(e,["image"],ly(i));const r=d(n,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const a=d(n,["_self"]);a!=null&&m(e,["safetyAttributes"],cy(a));const l=d(n,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function OE(n){const e={},i=d(n,["_self"]);i!=null&&m(e,["mask"],ly(i));const r=d(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["labels"],a)}return e}function PE(n){const e={},i=d(n,["video"]);return i!=null&&m(e,["video"],bw(i)),e}function LE(n){const e={},i=d(n,["_self"]);return i!=null&&m(e,["video"],Sw(i)),e}function jE(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const r=d(n,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const a=d(n,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const l=d(n,["enableAffectiveDialog"]);l!=null&&m(e,["enableAffectiveDialog"],l);const c=d(n,["frequencyPenalty"]);c!=null&&m(e,["frequencyPenalty"],c);const f=d(n,["logprobs"]);f!=null&&m(e,["logprobs"],f);const g=d(n,["maxOutputTokens"]);g!=null&&m(e,["maxOutputTokens"],g);const h=d(n,["mediaResolution"]);h!=null&&m(e,["mediaResolution"],h);const _=d(n,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const b=d(n,["responseJsonSchema"]);b!=null&&m(e,["responseJsonSchema"],b);const x=d(n,["responseLogprobs"]);x!=null&&m(e,["responseLogprobs"],x);const E=d(n,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const A=d(n,["responseModalities"]);A!=null&&m(e,["responseModalities"],A);const N=d(n,["responseSchema"]);N!=null&&m(e,["responseSchema"],N);const w=d(n,["routingConfig"]);w!=null&&m(e,["routingConfig"],w);const D=d(n,["seed"]);D!=null&&m(e,["seed"],D);const L=d(n,["speechConfig"]);L!=null&&m(e,["speechConfig"],dy(L));const I=d(n,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const q=d(n,["temperature"]);q!=null&&m(e,["temperature"],q);const Y=d(n,["thinkingConfig"]);Y!=null&&m(e,["thinkingConfig"],Y);const V=d(n,["topK"]);V!=null&&m(e,["topK"],V);const B=d(n,["topP"]);if(B!=null&&m(e,["topP"],B),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qE(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Pe(n,r)),i}function BE(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Pe(n,r)),i}function GE(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function VE(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function zE(n){const e={},i=d(n,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Oi(i));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ly(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function yl(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(n,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Oi(i));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xn(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const r=d(n,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function HE(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&m(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&m(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&m(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&m(i,["_url","models_url"],ey(n,f)),r}function $E(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&m(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&m(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&m(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&m(i,["_url","models_url"],ey(n,f)),r}function JE(n,e){const i={},r=d(e,["config"]);return r!=null&&HE(n,r,i),i}function FE(n,e){const i={},r=d(e,["config"]);return r!=null&&$E(n,r,i),i}function YE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=ty(a);Array.isArray(l)&&(l=l.map(c=>sd(c))),m(e,["models"],l)}return e}function KE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=ty(a);Array.isArray(l)&&(l=l.map(c=>rd(c))),m(e,["models"],l)}return e}function QE(n){const e={},i=d(n,["maskMode"]);i!=null&&m(e,["maskMode"],i);const r=d(n,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const a=d(n,["maskDilation"]);return a!=null&&m(e,["dilation"],a),e}function sd(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);a!=null&&m(e,["description"],a);const l=d(n,["version"]);l!=null&&m(e,["version"],l);const c=d(n,["_self"]);c!=null&&m(e,["tunedModelInfo"],dw(c));const f=d(n,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const g=d(n,["outputTokenLimit"]);g!=null&&m(e,["outputTokenLimit"],g);const h=d(n,["supportedGenerationMethods"]);return h!=null&&m(e,["supportedActions"],h),e}function rd(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);a!=null&&m(e,["description"],a);const l=d(n,["versionId"]);l!=null&&m(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(x=>hE(x))),m(e,["endpoints"],b)}const f=d(n,["labels"]);f!=null&&m(e,["labels"],f);const g=d(n,["_self"]);g!=null&&m(e,["tunedModelInfo"],fw(g));const h=d(n,["defaultCheckpointId"]);h!=null&&m(e,["defaultCheckpointId"],h);const _=d(n,["checkpoints"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(x=>x)),m(e,["checkpoints"],b)}return e}function XE(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],BT(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],pE(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const h=d(n,["executableCode"]);h!=null&&m(e,["executableCode"],h);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function ZE(n){const e={},i=d(n,["productImage"]);return i!=null&&m(e,["image"],xn(i)),e}function WE(n,e){const i={},r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=d(n,["baseSteps"]);e!==void 0&&a!=null&&m(e,["parameters","editConfig","baseSteps"],a);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=d(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const h=d(n,["addWatermark"]);e!==void 0&&h!=null&&m(e,["parameters","addWatermark"],h);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const b=d(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const x=d(n,["enhancePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","enhancePrompt"],x);const E=d(n,["labels"]);return e!==void 0&&E!=null&&m(e,["labels"],E),i}function ew(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["source"]);a!=null&&nw(a,i);const l=d(e,["config"]);return l!=null&&WE(l,i),i}function tw(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>vl(a))),m(e,["generatedImages"],r)}return e}function nw(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["personImage"]);e!==void 0&&a!=null&&m(e,["instances[0]","personImage","image"],xn(a));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>ZE(f))),m(e,["instances[0]","productImages"],c)}return i}function iw(n){const e={},i=d(n,["referenceImage"]);i!=null&&m(e,["referenceImage"],xn(i));const r=d(n,["referenceId"]);r!=null&&m(e,["referenceId"],r);const a=d(n,["referenceType"]);a!=null&&m(e,["referenceType"],a);const l=d(n,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],QE(l));const c=d(n,["controlImageConfig"]);c!=null&&m(e,["controlImageConfig"],FT(c));const f=d(n,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const g=d(n,["subjectImageConfig"]);return g!=null&&m(e,["subjectImageConfig"],g),e}function uy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function cy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function sw(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(n,["category"]);i!=null&&m(e,["category"],i);const r=d(n,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function rw(n){const e={},i=d(n,["image"]);return i!=null&&m(e,["image"],xn(i)),e}function ow(n,e){const i={},r=d(n,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const a=d(n,["maxPredictions"]);e!==void 0&&a!=null&&m(e,["parameters","maxPredictions"],a);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&m(e,["parameters","maskDilation"],c);const f=d(n,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const g=d(n,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),i}function aw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["source"]);a!=null&&uw(a,i);const l=d(e,["config"]);return l!=null&&ow(l,i),i}function lw(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>OE(a))),m(e,["generatedMasks"],r)}return e}function uw(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],xn(a));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],rw(l)),i}function dy(n){const e={},i=d(n,["voiceConfig"]);if(i!=null&&m(e,["voiceConfig"],i),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(n,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function cw(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(_=>_)),m(e,["functionDeclarations"],h)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],VE(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],GE(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}function fy(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(x=>mE(x))),m(e,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(e,["retrieval"],r);const a=d(n,["googleSearch"]);a!=null&&m(e,["googleSearch"],a);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const c=d(n,["enterpriseWebSearch"]);c!=null&&m(e,["enterpriseWebSearch"],c);const f=d(n,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const g=d(n,["urlContext"]);g!=null&&m(e,["urlContext"],g);const h=d(n,["computerUse"]);h!=null&&m(e,["computerUse"],h);const _=d(n,["codeExecution"]);return _!=null&&m(e,["codeExecution"],_),e}function dw(n){const e={},i=d(n,["baseModel"]);i!=null&&m(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&m(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function fw(n){const e={},i=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&m(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function hw(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),i}function pw(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),i}function mw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","name"],Pe(n,r));const a=d(e,["config"]);return a!=null&&hw(a,i),i}function gw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["config"]);return a!=null&&pw(a,i),i}function vw(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=d(n,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const l=d(n,["outputMimeType"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","mimeType"],l);const c=d(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","compressionQuality"],c);const f=d(n,["enhanceInputImage"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],f);const g=d(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const h=d(n,["labels"]);e!==void 0&&h!=null&&m(e,["labels"],h);const _=d(n,["numberOfImages"]);e!==void 0&&_!=null&&m(e,["parameters","sampleCount"],_);const b=d(n,["mode"]);return e!==void 0&&b!=null&&m(e,["parameters","mode"],b),i}function yw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Pe(n,r));const a=d(e,["image"]);a!=null&&m(i,["instances[0]","image"],xn(a));const l=d(e,["upscaleFactor"]);l!=null&&m(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&vw(c,i),i}function _w(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>vl(l))),m(e,["generatedImages"],a)}return e}function bw(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Oi(r));const a=d(n,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function Sw(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function xw(n){const e={},i=d(n,["image"]);i!=null&&m(e,["_self"],xn(i));const r=d(n,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Tw(n){const e={},i=d(n,["image"]);i!=null&&m(e,["image"],yl(i));const r=d(n,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Ew(n){const e={},i=d(n,["image"]);i!=null&&m(e,["image"],xn(i));const r=d(n,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function hy(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["uri"],i);const r=d(n,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["encoding"],a),e}function py(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["gcsUri"],i);const r=d(n,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ww="Content-Type",Cw="X-Server-Timeout",Aw="User-Agent",od="x-goog-api-client",Nw="1.27.0",Rw=`google-genai-sdk/${Nw}`,Mw="v1beta1",Iw="v1beta",nv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class kw{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Mw,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Iw,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>l.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&Dw(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await iv(a),new td(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await iv(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return fr(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:f,value:g}=yield Ze(a.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=l.decode(g,{stream:!0});try{const b=JSON.parse(h);if("error"in b){const x=JSON.parse(JSON.stringify(b.error)),E=x.status,A=x.code,N=`got status: ${E}. ${JSON.stringify(b)}`;if(A>=400&&A<600)throw new ml({message:N,status:A})}}catch(b){if(b.name==="ApiError")throw b}c+=h;let _=c.match(nv);for(;_;){const b=_[1];try{const x=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ze(new td(x)),c=c.slice(_[0].length),_=c.match(nv)}catch(x){throw new Error(`exception parsing stream chunk ${b}. ${x}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=Rw+" "+this.clientOptions.userAgentExtra;return e[Aw]=i,e[od]=i,e[ww]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))r.append(a,l);e.timeout&&e.timeout>0&&r.append(Cw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const f=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const g=await this.fetchUploadUrl(a,i);return l.upload(e,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var r;let a={};i!=null&&i.httpOptions?a=i.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},c=await this.request({path:re("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=c==null?void 0:c.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function iv(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new ml({message:a,status:i}):new Error(a)}}function Dw(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const f=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const h=c[g],_=f[g];h&&typeof h=="object"&&!Array.isArray(h)&&_&&typeof _=="object"&&!Array.isArray(_)?f[g]=r(_,h):(_&&h&&typeof _!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof _}, New type: ${typeof h}. Overwriting.`),f[g]=h)}return f}const a=r(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uw="mcp_used/unknown";let Ow=!1;function my(n){for(const e of n)if(Pw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ow}function gy(n){var e;const i=(e=n[od])!==null&&e!==void 0?e:"";n[od]=(i+` ${Uw}`).trimStart()}function Pw(n){return n!==null&&typeof n=="object"&&n instanceof Rd}function Lw(n,e=100){return fr(this,arguments,function*(){let r,a=0;for(;a<e;){const l=yield Ze(n.listTools({cursor:r}));for(const c of l.tools)yield yield Ze(c),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class Rd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Rd(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const _ of this.mcpClients)try{for(var f=!0,g=(i=void 0,_o(Lw(_))),h;h=await g.next(),e=h.done,!e;f=!0){a=h.value,f=!1;const b=a;c.push(b);const x=b.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=_}}catch(b){i={error:b}}finally{try{!f&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),VS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jw(n,e,i){const r=new US;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(r,a),e(r)}class qw{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=Vw(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const _=new Promise(I=>{h=I}),b=e.callbacks,x=function(){h({})},E=this.apiClient,A={onopen:x,onmessage:I=>{jw(E,b.onmessage,I)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},N=this.webSocketFactory.create(g,Gw(c),A);N.connect(),await _;const L={setup:{model:Pe(this.apiClient,e.model)}};return N.send(JSON.stringify(L)),new Bw(N,this.apiClient)}}class Bw{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=IT(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=MT(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(cr.PLAY)}pause(){this.sendPlaybackControl(cr.PAUSE)}stop(){this.sendPlaybackControl(cr.STOP)}resetContext(){this.sendPlaybackControl(cr.RESET_CONTEXT)}close(){this.conn.close()}}function Gw(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function Vw(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Hw(n,e,i){const r=new DS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(n.isVertexAI()){const c=UT(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class $w{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new qw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let _;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&my(e.config.tools)&&gy(b);const x=Kw(b);if(this.apiClient.isVertexAI())_=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,_);else{const Q=this.apiClient.getApiKey();let se="BidiGenerateContent",ue="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ue="access_token"),_=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ue}=${Q}`}let E=()=>{};const A=new Promise(Q=>{E=Q}),N=e.callbacks,w=function(){var Q;(Q=N==null?void 0:N.onopen)===null||Q===void 0||Q.call(N),E({})},D=this.apiClient,L={onopen:w,onmessage:Q=>{Hw(D,N.onmessage,Q)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(Q){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(Q){}},I=this.webSocketFactory.create(_,Yw(x),L);I.connect(),await A;let q=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const Q=this.apiClient.getProject(),se=this.apiClient.getLocation();q=`projects/${Q}/locations/${se}/`+q}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[sl.AUDIO]}:e.config.responseModalities=[sl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],B=[];for(const Q of V)if(this.isCallableTool(Q)){const se=Q;B.push(await se.tool())}else B.push(Q);B.length>0&&(e.config.tools=B);const Z={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=RT(this.apiClient,Z):Y=NT(this.apiClient,Z),delete Y.config,I.send(JSON.stringify(Y)),new Fw(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Jw={turnComplete:!0};class Fw{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=fn(i.turns),e.isVertexAI()||(r=r.map(a=>gl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(zw)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Jw),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:DT(e)}:i={realtimeInput:kT(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Yw(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function Kw(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sv=10;function rv(n){var e,i,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(hr(c)){a=!0;break}if(!a)return!0;const l=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function hr(n){return"callTool"in n&&typeof n.callTool=="function"}function Qw(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>hr(a)))!==null&&r!==void 0?r:!1}function Xw(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>!hr(a)))!==null&&r!==void 0?r:!1}function ov(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zw extends ds{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,l,c,f;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Qw(i)||rv(i.config))return await this.generateContentInternal(g);if(Xw(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,_;const b=fn(g.contents),x=(l=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:sv;let E=0;for(;E<x&&(h=await this.generateContentInternal(g),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,N=[];for(const w of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(hr(w)){const L=await w.callTool(h.functionCalls);N.push(...L)}E++,_={role:"user",parts:N},g.contents=fn(g.contents),g.contents.push(A),g.contents.push(_),ov(g.config)&&(b.push(A),b.push(_))}return ov(g.config)&&(h.automaticFunctionCallingHistory=b),h},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),rv(i.config)){const r=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let l;const c=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},f}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Ao(us.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var r,a,l,c,f,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(f=i.source)===null||f===void 0?void 0:f.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>hr(g)?await g.tool():g)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&my(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),gy(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var i,r,a;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(hr(c)){const f=c,g=await f.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,f)}}return l}async processAfcStream(e){var i,r,a;const l=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:sv;let c=!1,f=0;const g=await this.initAfcToolsMap(e);return(function(h,_,b){var x,E;return fr(this,arguments,function*(){for(var A,N,w,D;f<l;){c&&(f++,c=!1);const Y=yield Ze(h.processParamsMaybeAddMcpUsage(b)),V=yield Ze(h.generateContentStreamInternal(Y)),B=[],Z=[];try{for(var L=!0,I=(N=void 0,_o(V)),q;q=yield Ze(I.next()),A=q.done,!A;L=!0){D=q.value,L=!1;const Q=D;if(yield yield Ze(Q),Q.candidates&&(!((x=Q.candidates[0])===null||x===void 0)&&x.content)){Z.push(Q.candidates[0].content);for(const se of(E=Q.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(f<l&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(se.functionCall.name)){const ue=yield Ze(_.get(se.functionCall.name).callTool([se.functionCall]));B.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(Q){N={error:Q}}finally{try{!L&&!A&&(w=I.return)&&(yield Ze(w.call(I)))}finally{if(N)throw N.error}}if(B.length>0){c=!0;const Q=new vo;Q.candidates=[{content:{role:"user",parts:B}}],yield yield Ze(Q);const se=[];se.push(...Z),se.push({role:"user",parts:B});const ue=fn(b.contents).concat(se);b.contents=ue}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Wg(this.apiClient,e);return f=re("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=tv(_),x=new vo;return Object.assign(x,b),x})}else{const h=Zg(this.apiClient,e);return f=re("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=ev(_),x=new vo;return Object.assign(x,b),x})}}async generateContentStreamInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=Wg(this.apiClient,e);return f=re("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(b){return fr(this,arguments,function*(){var x,E,A,N;try{for(var w=!0,D=_o(b),L;L=yield Ze(D.next()),x=L.done,!x;w=!0){N=L.value,w=!1;const I=N,q=tv(yield Ze(I.json()));q.sdkHttpResponse={headers:I.headers};const Y=new vo;Object.assign(Y,q),yield yield Ze(Y)}}catch(I){E={error:I}}finally{try{!w&&!x&&(A=D.return)&&(yield Ze(A.call(D)))}finally{if(E)throw E.error}}})})}else{const h=Zg(this.apiClient,e);return f=re("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return fr(this,arguments,function*(){var x,E,A,N;try{for(var w=!0,D=_o(b),L;L=yield Ze(D.next()),x=L.done,!x;w=!0){N=L.value,w=!1;const I=N,q=ev(yield Ze(I.json()));q.sdkHttpResponse={headers:I.headers};const Y=new vo;Object.assign(Y,q),yield yield Ze(Y)}}catch(I){E={error:I}}finally{try{!w&&!x&&(A=D.return)&&(yield Ze(A.call(D)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=cE(this.apiClient,e);return f=re("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=fE(_),x=new Pg;return Object.assign(x,b),x})}else{const h=uE(this.apiClient,e);return f=re("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=dE(_),x=new Pg;return Object.assign(x,b),x})}}async generateImagesInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=SE(this.apiClient,e);return f=re("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=TE(_),x=new Lg;return Object.assign(x,b),x})}else{const h=bE(this.apiClient,e);return f=re("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=xE(_),x=new Lg;return Object.assign(x,b),x})}}async editImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=rE(this.apiClient,e);return l=re("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const h=oE(g),_=new wS;return Object.assign(_,h),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=yw(this.apiClient,e);return l=re("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const h=_w(g),_=new CS;return Object.assign(_,h),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=ew(this.apiClient,e);return l=re("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const h=tw(g),_=new AS;return Object.assign(_,h),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=aw(this.apiClient,e);return l=re("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const h=lw(g),_=new NS;return Object.assign(_,h),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=BE(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>rd(_))}else{const h=qE(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>sd(_))}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=FE(this.apiClient,e);return f=re("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=KE(_),x=new jg;return Object.assign(x,b),x})}else{const h=JE(this.apiClient,e);return f=re("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=YE(_),x=new jg;return Object.assign(x,b),x})}}async update(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=gw(this.apiClient,e);return f=re("{model}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>rd(_))}else{const h=mw(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>sd(_))}}async delete(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=tE(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=iE(_),x=new qg;return Object.assign(x,b),x})}else{const h=eE(this.apiClient,e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=nE(_),x=new qg;return Object.assign(x,b),x})}}async countTokens(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=XT(this.apiClient,e);return f=re("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=WT(_),x=new Bg;return Object.assign(x,b),x})}else{const h=QT(this.apiClient,e);return f=re("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=ZT(_),x=new Bg;return Object.assign(x,b),x})}}async computeTokens(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=zT(this.apiClient,e);return l=re("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const h=HT(g),_=new RS;return Object.assign(_,h),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=RE(this.apiClient,e);return f=re("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const b=AE(_),x=new rl;return Object.assign(x,b),x})}else{const h=NE(this.apiClient,e);return f=re("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const b=CE(_),x=new rl;return Object.assign(x,b),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ww extends ds{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=xS(e);return f=re("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c}else{const h=SS(e);return f=re("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=pS(e);return l=re("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function tC(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>uC(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function nC(n,e,i){const r={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&m(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&m(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&m(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&m(i,["bidiGenerateContentSetup"],lC(n,f));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&m(i,["fieldMask"],g),r}function iC(n,e){const i={},r=d(e,["config"]);return r!=null&&m(i,["config"],nC(n,r,i)),i}function sC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function oC(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function aC(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const h=d(n,["mediaResolution"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","mediaResolution"],h);const _=d(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],Nd(b));const x=d(n,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(n,["systemInstruction"]);e!==void 0&&A!=null&&m(e,["setup","systemInstruction"],tC(kt(A)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let V=yr(N);Array.isArray(V)&&(V=V.map(B=>dC(vr(B)))),m(e,["setup","tools"],V)}const w=d(n,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],cC(w));const D=d(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&m(e,["setup","inputAudioTranscription"],D);const L=d(n,["outputAudioTranscription"]);e!==void 0&&L!=null&&m(e,["setup","outputAudioTranscription"],L);const I=d(n,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const q=d(n,["contextWindowCompression"]);e!==void 0&&q!=null&&m(e,["setup","contextWindowCompression"],q);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&m(e,["setup","proactivity"],Y),i}function lC(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["setup","model"],Pe(n,r));const a=d(e,["config"]);return a!=null&&m(i,["config"],aC(a,i)),i}function uC(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],eC(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],sC(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const h=d(n,["executableCode"]);h!=null&&m(e,["executableCode"],h);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function cC(n){const e={},i=d(n,["handle"]);if(i!=null&&m(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dC(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(_=>_)),m(e,["functionDeclarations"],h)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],oC(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],rC(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=n[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function hC(n,e){let i=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,i=l):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const l=fC(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(h=>c.includes(h)?`generationConfig.${h}`:h));const g=[];l&&g.push(l),f.length>0&&g.push(...f),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class pC extends ds{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=iC(this.apiClient,e);l=re("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const g=hC(f,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function gC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function vC(n,e,i){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&m(e,["displayName"],a),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(n,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const g=d(n,["learningRate"]);if(e!==void 0&&g!=null&&m(e,["tuningTask","hyperparameters","learningRate"],g),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function yC(n,e,i){const r={},a=d(n,["validationDataset"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec"],DC(a));const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&m(e,["description"],c);const f=d(n,["epochCount"]);e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],f);const g=d(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const h=d(n,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h);const _=d(n,["adapterSize"]);if(e!==void 0&&_!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_),d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(n,["labels"]);return e!==void 0&&b!=null&&m(e,["labels"],b),r}function _C(n,e){const i={},r=d(n,["baseModel"]);r!=null&&m(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&m(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&m(i,["tuningTask","trainingData"],MC(l));const c=d(n,["config"]);return c!=null&&vC(c,i),i}function bC(n,e){const i={},r=d(n,["baseModel"]);r!=null&&m(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&m(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&IC(l,i);const c=d(n,["config"]);return c!=null&&yC(c,i),i}function SC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function xC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function TC(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),r}function EC(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),r}function wC(n,e){const i={},r=d(n,["config"]);return r!=null&&TC(r,i),i}function CC(n,e){const i={},r=d(n,["config"]);return r!=null&&EC(r,i),i}function AC(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&m(i,["nextPageToken"],a);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>vy(f))),m(i,["tuningJobs"],c)}return i}function NC(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&m(i,["nextPageToken"],a);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>ad(f))),m(i,["tuningJobs"],c)}return i}function RC(n,e){const i={},r=d(n,["name"]);r!=null&&m(i,["model"],r);const a=d(n,["name"]);return a!=null&&m(i,["endpoint"],a),i}function MC(n,e){const i={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),m(i,["examples","examples"],a)}return i}function IC(n,e,i){const r={},a=d(n,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a);const l=d(n,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],l),d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function vy(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&m(i,["name"],a);const l=d(n,["state"]);l!=null&&m(i,["state"],Zv(l));const c=d(n,["createTime"]);c!=null&&m(i,["createTime"],c);const f=d(n,["tuningTask","startTime"]);f!=null&&m(i,["startTime"],f);const g=d(n,["tuningTask","completeTime"]);g!=null&&m(i,["endTime"],g);const h=d(n,["updateTime"]);h!=null&&m(i,["updateTime"],h);const _=d(n,["description"]);_!=null&&m(i,["description"],_);const b=d(n,["baseModel"]);b!=null&&m(i,["baseModel"],b);const x=d(n,["_self"]);return x!=null&&m(i,["tunedModel"],RC(x)),i}function ad(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&m(i,["name"],a);const l=d(n,["state"]);l!=null&&m(i,["state"],Zv(l));const c=d(n,["createTime"]);c!=null&&m(i,["createTime"],c);const f=d(n,["startTime"]);f!=null&&m(i,["startTime"],f);const g=d(n,["endTime"]);g!=null&&m(i,["endTime"],g);const h=d(n,["updateTime"]);h!=null&&m(i,["updateTime"],h);const _=d(n,["error"]);_!=null&&m(i,["error"],_);const b=d(n,["description"]);b!=null&&m(i,["description"],b);const x=d(n,["baseModel"]);x!=null&&m(i,["baseModel"],x);const E=d(n,["tunedModel"]);E!=null&&m(i,["tunedModel"],E);const A=d(n,["preTunedModel"]);A!=null&&m(i,["preTunedModel"],A);const N=d(n,["supervisedTuningSpec"]);N!=null&&m(i,["supervisedTuningSpec"],N);const w=d(n,["tuningDataStats"]);w!=null&&m(i,["tuningDataStats"],w);const D=d(n,["encryptionSpec"]);D!=null&&m(i,["encryptionSpec"],D);const L=d(n,["partnerModelTuningSpec"]);L!=null&&m(i,["partnerModelTuningSpec"],L);const I=d(n,["customBaseModel"]);I!=null&&m(i,["customBaseModel"],I);const q=d(n,["experiment"]);q!=null&&m(i,["experiment"],q);const Y=d(n,["labels"]);Y!=null&&m(i,["labels"],Y);const V=d(n,["outputUri"]);V!=null&&m(i,["outputUri"],V);const B=d(n,["pipelineJob"]);B!=null&&m(i,["pipelineJob"],B);const Z=d(n,["serviceAccount"]);Z!=null&&m(i,["serviceAccount"],Z);const Q=d(n,["tunedModelDisplayName"]);Q!=null&&m(i,["tunedModelDisplayName"],Q);const se=d(n,["veoTuningSpec"]);return se!=null&&m(i,["veoTuningSpec"],se),i}function kC(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&m(i,["name"],a);const l=d(n,["metadata"]);l!=null&&m(i,["metadata"],l);const c=d(n,["done"]);c!=null&&m(i,["done"],c);const f=d(n,["error"]);return f!=null&&m(i,["error"],f),i}function DC(n,e){const i={},r=d(n,["gcsUri"]);r!=null&&m(i,["validationDatasetUri"],r);const a=d(n,["vertexDatasetResource"]);return a!=null&&m(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends ds{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Ao(us.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:ed.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=xC(e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>ad(_))}else{const h=SC(e);return f=re("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>vy(_))}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const h=CC(e);return f=re("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=NC(_),x=new Gg;return Object.assign(x,b),x})}else{const h=wC(e);return f=re("tunedModels",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:_.headers},x})),c.then(_=>{const b=AC(_),x=new Gg;return Object.assign(x,b),x})}}async cancel(e){var i,r,a,l;let c="",f={};if(this.apiClient.isVertexAI()){const g=gC(e);c=re("{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=mC(e);c=re("{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=bC(e);return l=re("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>ad(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_C(e);return l=re("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(h=>{const _=h;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>kC(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const PC=1024*1024*8,LC=3,jC=1e3,qC=2,jc="x-goog-upload-status";async function BC(n,e,i){var r,a,l;let c=0,f=0,g=new td(new Response),h="upload";for(c=n.size;f<c;){const b=Math.min(PC,c-f),x=n.slice(f,f+b);f+b>=c&&(h+=", finalize");let E=0,A=jC;for(;E<LC&&(g=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(f),"Content-Length":String(b)}}}),!(!((r=g==null?void 0:g.headers)===null||r===void 0)&&r[jc]));)E++,await VC(A),A=A*qC;if(f+=b,((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[jc])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const _=await(g==null?void 0:g.json());if(((l=g==null?void 0:g.headers)===null||l===void 0?void 0:l[jc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return _.file}async function GC(n){return{size:n.size,type:n.type}}function VC(n){return new Promise(e=>setTimeout(e,n))}class zC{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BC(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC{create(e,i,r){return new $C(e,i,r)}}class $C{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const av="x-goog-api-key";class JC{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(av)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(av,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC="gl-node/";class _l{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=fS(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new JC(this.apiKey);this.apiClient=new kw({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:FC+"web",uploader:new zC,downloader:new OC}),this.models=new Zw(this.apiClient),this.live=new $w(this.apiClient,a,new HC),this.batches=new Ix(this.apiClient),this.chats=new uT(this.models,this.apiClient),this.caches=new oT(this.apiClient),this.files=new _T(this.apiClient),this.operations=new Ww(this.apiClient),this.authTokens=new pC(this.apiClient),this.tunings=new UC(this.apiClient)}}const YC=async n=>{if(!n)return{success:!1,message:"A chave no pode estar em branco."};try{return(await new _l({apiKey:n}).models.generateContent({model:"gemini-1.5-flash",contents:'diga "ok"'})).text.trim().toLowerCase()==="ok"?{success:!0,message:"Conexo bem-sucedida!"}:{success:!1,message:"A chave  vlida, mas a resposta foi inesperada."}}catch(e){return console.error("API Key test failed",e),{success:!1,message:`Falha na conexo: ${e.message}`}}},KC=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(i.gemini_api_key||""),[c,f]=H.useState(i.github_access_token||""),[g,h]=H.useState(i.openrouter_api_key||""),[_,b]=H.useState({status:"idle",message:""});if(H.useEffect(()=>{n&&(l(i.gemini_api_key||""),f(i.github_access_token||""),h(i.openrouter_api_key||""),b({status:"idle",message:""}))},[n,i]),!n)return null;const x=async()=>{b({status:"testing",message:"Testando..."});const A=await YC(a);A.success?b({status:"success",message:A.message}):b({status:"error",message:A.message})},E=()=>{r({gemini_api_key:a,github_access_token:c,openrouter_api_key:g}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-md p-6 border border-var-border-default animate-slideInUp",onClick:A=>A.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-var-fg-default",children:"Configuraes"}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"space-y-4 text-var-fg-default",children:[y.jsxs("div",{className:"p-4 bg-var-bg-interactive rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(To,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Chave de API do Gemini"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Sua chave de API do Google Gemini  necessria. Ela  armazenada com segurana no seu perfil."}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"password",value:a,onChange:A=>{l(A.target.value),b({status:"idle",message:""})},placeholder:"Cole sua chave de API aqui",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"}),y.jsx("button",{onClick:x,disabled:_.status==="testing"||!a,className:"px-3 py-2 text-xs font-medium text-var-fg-default bg-var-bg-interactive border border-var-border-default rounded-md hover:bg-var-bg-default disabled:opacity-50 disabled:cursor-wait",children:_.status==="testing"?"...":"Testar"})]}),_.message&&y.jsx("p",{className:`text-xs mt-2 ${_.status==="success"?"text-green-400":_.status==="error"?"text-red-400":"text-var-fg-muted"}`,children:_.message})]}),y.jsxs("div",{className:"p-4 bg-var-bg-interactive rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(To,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Chave de API da OpenRouter"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Sua chave de API da OpenRouter  necessria para usar seus modelos gratuitos. Ela  armazenada com segurana no seu perfil."}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("input",{type:"password",value:g,onChange:A=>h(A.target.value),placeholder:"Cole sua chave de API aqui (sk-or-...)",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})})]}),y.jsxs("div",{className:"p-4 bg-var-bg-interactive rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(hl,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Token de Acesso do GitHub"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Fornea um token para importar repositrios privados e aumentar os limites da API."}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("input",{type:"password",value:c,onChange:A=>f(A.target.value),placeholder:"Cole seu token aqui (ex: ghp_...)",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})}),y.jsxs("p",{className:"text-xs text-var-fg-muted mt-2",children:["O token precisa ter escopo de ",y.jsx("code",{className:"bg-var-bg-default px-1 py-0.5 rounded-sm text-xs font-mono",children:"repo"}),"."]})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:E,className:"px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-var-bg-subtle focus:ring-var-accent",children:"Salvar e Fechar"})})]})})},QC=({isOpen:n,onClose:e,onSave:i})=>{const[r,a]=H.useState("");if(!n)return null;const l=()=>{r.trim()?(i(r.trim()),e()):alert("Por favor, insira uma chave de API.")};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-md p-6 border border-var-border-default",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(To,{})," Chave de API do Gemini"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"space-y-4 text-var-fg-muted",children:[y.jsx("p",{className:"text-sm",children:"Para comear a gerar cdigo com o Gemini, por favor, insira sua chave de API do Google AI Studio. Sua chave ser salva com segurana em seu perfil."}),y.jsx("div",{children:y.jsx("input",{type:"password",value:r,onChange:c=>a(c.target.value),placeholder:"Cole sua chave de API aqui",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:l,disabled:!r.trim(),className:"px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-var-bg-subtle focus:ring-var-accent flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Chave"})})]})})},XC=({isOpen:n,onClose:e,onSave:i})=>{const[r,a]=H.useState("");if(!n)return null;const l=()=>{r.trim()?(i(r.trim()),e()):alert("Por favor, insira uma chave de API.")};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-md p-6 border border-var-border-default",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(To,{})," Chave de API da OpenRouter"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"space-y-4 text-var-fg-muted",children:[y.jsx("p",{className:"text-sm",children:"Para usar os modelos gratuitos da OpenRouter, por favor, insira sua chave de API. Voc pode obter uma gratuitamente no site da OpenRouter. Sua chave ser salva com segurana em seu perfil."}),y.jsx("div",{children:y.jsx("input",{type:"password",value:r,onChange:c=>a(c.target.value),placeholder:"Cole sua chave de API aqui (sk-or-...)",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:l,disabled:!r.trim(),className:"px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-var-bg-subtle focus:ring-var-accent flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Chave"})})]})})},ZC="pk_test_51RkYig2KmkAgJHb0Qb3OdzzJcbdW0fCJgdEAcxADul4kywAM2bZUiQI4F83IMfQimm0m9W9C8MQeWXo6JkIyFRYL00CnMwa0IF";let qc=null;const WC=()=>typeof window.Stripe>"u"?(console.error("Stripe.js has not loaded. Please check your internet connection and script tag."),null):(qc||(qc=window.Stripe(ZC)),qc),eA=async n=>{const e=WC();if(!e){alert("O Stripe no est disponvel. Por favor, verifique sua conexo.");return}const i=`${window.location.origin.replace(/\/$/,"")}${window.location.pathname}`,{error:r}=await e.redirectToCheckout({lineItems:[{price:n,quantity:1}],mode:"subscription",successUrl:`${i}?payment=success&session_id={CHECKOUT_SESSION_ID}`,cancelUrl:i});if(r)throw console.warn("Error redirecting to Stripe Checkout:",r),alert(`O pagamento falhou: ${r.message}`),r},Bc=({title:n,price:e,description:i,features:r,isFeatured:a,onClick:l,isLoading:c,buttonText:f="Comear"})=>y.jsxs("div",{className:`flex flex-col p-8 rounded-2xl border ${a?"bg-var-bg-interactive border-var-accent":"bg-var-bg-subtle border-var-border-default"}`,children:[y.jsx("h3",{className:"text-xl font-semibold text-var-fg-default",children:n}),y.jsx("p",{className:"mt-2 text-var-fg-muted",children:i}),y.jsxs("div",{className:"mt-6",children:[y.jsx("span",{className:"text-5xl font-bold text-var-fg-default",children:e}),y.jsx("span",{className:"text-var-fg-muted",children:e!=="Grtis"&&" / ms"})]}),y.jsx("ul",{className:"mt-8 space-y-4 text-var-fg-default flex-grow",children:r.map((g,h)=>y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx("svg",{className:"w-5 h-5 text-var-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),y.jsx("span",{children:g})]},h))}),y.jsx("button",{onClick:l,disabled:c,className:`w-full mt-8 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-wait ${a?"bg-var-accent text-var-accent-fg hover:opacity-90":"bg-var-bg-interactive text-var-fg-default hover:bg-var-bg-default"}`,children:c?"Processando...":f})]}),tA=({onBack:n,onNewProject:e})=>{const[i,r]=H.useState(null),a=async(l,c)=>{r(c);try{await eA(l)}catch(f){console.error("Stripe checkout error:",f),r(null)}};return y.jsxs("div",{className:"flex flex-col min-h-screen w-screen bg-var-bg-default text-var-fg-default overflow-y-auto font-sans",children:[y.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 p-4",children:y.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[y.jsxs("button",{onClick:e,className:"flex items-center gap-2",children:[y.jsx(cs,{className:"w-6 h-6 text-var-fg-default"}),y.jsxs("span",{className:"text-var-fg-default font-bold",children:["codagem",y.jsx("span",{className:"font-light",children:"studio"})]})]}),y.jsx("button",{onClick:n,className:"text-sm text-var-fg-muted hover:text-var-fg-default transition-colors",children:" Voltar"})]})}),y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center text-center px-4 pt-24 pb-12",children:[y.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-var-fg-default tracking-tight",children:"Encontre o plano certo para voc"}),y.jsx("p",{className:"mt-4 text-lg text-var-fg-muted max-w-2xl",children:"Comece de graa e expanda conforme voc cresce. Todos os planos incluem acesso aos nossos poderosos recursos de gerao de cdigo por IA."}),y.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl w-full text-left",children:[y.jsx(Bc,{title:"Hobby",price:"Grtis",description:"Para projetos pessoais e explorao.",features:["Acesso aos modelos Gemini (requer sua chave de API)","Acesso a modelos gratuitos da OpenRouter (requer sua chave)","Geraes ilimitadas com sua chave","Suporte da comunidade","Baixar projetos como ZIP"],onClick:n,isLoading:i==="Hobby",buttonText:"Continuar com Grtis"}),y.jsx(Bc,{title:"Pro",price:"$20",description:"Para profissionais e equipes pequenas.",features:["Tudo do Hobby, e mais:","Acesso a todos os modelos de IA (OpenAI, DeepSeek)","Nossas chaves de API gerenciadas para voc","Suporte prioritrio","Integrao com GitHub"],isFeatured:!0,onClick:()=>a("price_1OuP5A2eZvKYlo2Ce2C20s2k","Pro"),isLoading:i==="Pro",buttonText:"Atualizar para Pro"}),y.jsx(Bc,{title:"Enterprise",price:"Custom",description:"Para grandes organizaes com necessidades especficas.",features:["Tudo do Pro, e mais:","Opes de implantao local (On-premise)","Ajuste fino de modelos personalizados","Gerente de contas dedicado","SSO SAML"],onClick:()=>window.location.href="mailto:sales@codegen.studio",isLoading:i==="Enterprise",buttonText:"Contatar Vendas"})]})]})]})},nA=({projects:n,onLoadProject:e,onDeleteProject:i,onBack:r,onNewProject:a})=>{const l=(c,f)=>{c.stopPropagation(),window.confirm("Tem certeza de que deseja excluir este projeto? Esta ao no pode ser desfeita.")&&i(f)};return y.jsxs("div",{className:"flex flex-col min-h-screen w-screen bg-var-bg-default text-var-fg-default overflow-y-auto font-sans",children:[y.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 p-4",children:y.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[y.jsxs("button",{onClick:a,className:"flex items-center gap-2",children:[y.jsx(cs,{className:"w-6 h-6 text-var-accent"}),y.jsxs("span",{className:"text-var-fg-default font-semibold text-lg",children:["codagem",y.jsx("span",{className:"font-light",children:"studio"})]})]}),y.jsx("button",{onClick:r,className:"text-sm text-var-fg-muted hover:text-var-fg-default transition-colors",children:" Voltar"})]})}),y.jsxs("main",{className:"flex-1 flex flex-col items-center px-4 pt-24 pb-12",children:[y.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-var-fg-default tracking-tight",children:"Meus Projetos"}),y.jsx("p",{className:"mt-4 text-lg text-var-fg-muted max-w-2xl",children:"Carregue um projeto salvo para continuar trabalhando ou exclua projetos antigos."}),y.jsx("div",{className:"mt-12 w-full max-w-4xl",children:n.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.sort((c,f)=>new Date(f.updated_at).getTime()-new Date(c.updated_at).getTime()).map(c=>y.jsxs("div",{onClick:()=>e(c.id),className:"group relative flex flex-col justify-between bg-var-bg-subtle p-6 rounded-lg border border-var-border-default hover:border-var-accent transition-all cursor-pointer shadow-lg hover:shadow-var-accent/10",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-var-fg-default truncate group-hover:text-var-accent",children:c.name}),y.jsxs("p",{className:"text-sm text-var-fg-muted mt-1",children:["Atualizado em: ",new Date(c.updated_at).toLocaleString()]})]}),y.jsx("button",{onClick:f=>l(f,c.id),className:"absolute top-4 right-4 p-1.5 rounded-full text-var-fg-subtle bg-var-bg-interactive opacity-0 group-hover:opacity-100 hover:bg-red-500/20 hover:text-red-400 transition-all","aria-label":"Excluir projeto",children:y.jsx(Td,{className:"w-4 h-4"})})]},c.id))}):y.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-var-border-default rounded-lg",children:[y.jsx("h2",{className:"text-xl font-semibold text-var-fg-muted",children:"Nenhum projeto salvo encontrado."}),y.jsx("p",{className:"text-var-fg-subtle mt-2",children:"Use o cone de salvar na barra lateral do editor para salvar seu trabalho."})]})})]})]})},iA=n=>{var i;switch((i=n.split(".").pop())==null?void 0:i.toLowerCase()){case"js":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";case"html":return"html";case"css":return"css";case"json":return"json";case"md":return"markdown";case"py":return"python";case"rb":return"ruby";case"go":return"go";case"rs":return"rust";case"java":return"java";case"cs":return"csharp";case"php":return"php";case"sh":return"shell";case"yml":case"yaml":return"yaml";case"dockerfile":return"dockerfile";case"sql":return"sql";case"graphql":return"graphql";case"vue":return"vue";case"svelte":return"svelte";default:return"plaintext"}},sA=({isOpen:n,onClose:e,onImport:i,githubToken:r,onOpenSettings:a})=>{const[l,c]=H.useState([]),[f,g]=H.useState(""),[h,_]=H.useState(!1),[b,x]=H.useState(null),[E,A]=H.useState(!1),[N,w]=H.useState(null),[D,L]=H.useState(null);H.useEffect(()=>{const V=async()=>{if(r){_(!0),x(null),c([]);try{const B=await fetch("https://api.github.com/user/repos?sort=updated&direction=desc&per_page=100",{headers:{Authorization:`Bearer ${r}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(!B.ok)throw B.status===401?new Error("Token do GitHub invlido ou expirado. Verifique-o nas configuraes."):new Error(`No foi possvel buscar repositrios. Status: ${B.status}`);const Z=await B.json();c(Z)}catch(B){const Z=B instanceof Error?B.message:"Ocorreu um erro desconhecido.";x(Z)}finally{_(!1)}}};n&&(g(""),w(null),L(null),V())},[n,r]);const I=async V=>{if(w(null),L(V.full_name),!r){w("Token de acesso do GitHub no encontrado. Por favor, adicione seu token nas configuraes.");return}A(!0);try{const B={Authorization:`Bearer ${r}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"},Z={owner:V.owner.login,repo:V.name},Q=await fetch(`https://api.github.com/repos/${Z.owner}/${Z.repo}`,{headers:B});if(!Q.ok)throw Q.status===404?new Error("Repositrio no encontrado. Verifique a URL e se o token tem acesso a ele."):Q.status===401?new Error("Token do GitHub invlido ou expirado."):new Error(`No foi possvel buscar os metadados do repositrio. Status: ${Q.status}`);const ue=(await Q.json()).default_branch,oe=await fetch(`https://api.github.com/repos/${Z.owner}/${Z.repo}/branches/${ue}`,{headers:B});if(!oe.ok)throw new Error(`No foi possvel buscar a branch padro '${ue}'.`);const Ye=(await oe.json()).commit.commit.tree.sha,Ie=await fetch(`https://api.github.com/repos/${Z.owner}/${Z.repo}/git/trees/${Ye}?recursive=1`,{headers:B});if(!Ie.ok)throw new Error("No foi possvel buscar a rvore de arquivos do repositrio.");const de=(await Ie.json()).tree.filter(ge=>ge.type==="blob"&&ge.size<1e6).map(async ge=>{const R=await fetch(ge.url,{headers:B});if(!R.ok)return console.warn(`Skipping file ${ge.path} due to fetch error.`),null;const $=await R.json();if($.encoding!=="base64")return console.warn(`Skipping file ${ge.path} due to unsupported encoding: ${$.encoding}`),null;let te;try{const X=atob($.content),pe=new Uint8Array(X.length);for(let me=0;me<X.length;me++)pe[me]=X.charCodeAt(me);te=new TextDecoder("utf-8").decode(pe)}catch{return console.warn(`Skipping file ${ge.path} due to decoding error (likely a binary file).`),null}return{name:ge.path,language:iA(ge.path),content:te}}),Re=(await Promise.all(de)).filter(ge=>ge!==null);i(Re)}catch(B){const Z=B instanceof Error?B.message:"Ocorreu um erro desconhecido.";w(`Falha ao importar repositrio: ${Z}`)}finally{A(!1),L(null)}},q=l.filter(V=>V.full_name.toLowerCase().includes(f.toLowerCase()));if(!n)return null;const Y=()=>E?y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-var-fg-muted",children:[y.jsxs("svg",{className:"animate-spin h-8 w-8 text-var-accent mb-4",xmlns:"http://www.w.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsxs("p",{children:["Importando ",y.jsx("span",{className:"font-bold text-var-fg-default",children:D}),"..."]}),y.jsx("p",{className:"text-sm text-var-fg-subtle",children:"Isso pode levar alguns instantes."})]}):r?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"my-4",children:y.jsx("input",{type:"text",value:f,onChange:V=>g(V.target.value),placeholder:"Buscar em seus repositrios...",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})}),h&&y.jsxs("div",{className:"flex items-center justify-center h-64 text-var-fg-muted",children:[y.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Buscando repositrios..."]}),b&&y.jsx("p",{className:"text-red-400 text-sm py-4 text-center",children:b}),!h&&!b&&y.jsx("div",{className:"max-h-80 overflow-y-auto border border-var-border-default rounded-md bg-var-bg-muted",children:q.length>0?y.jsx("ul",{children:q.map(V=>y.jsx("li",{className:"border-b border-var-border-default last:border-b-0",children:y.jsxs("button",{onClick:()=>I(V),className:"w-full text-left p-3 hover:bg-var-accent/10 transition-colors duration-150",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("p",{className:"font-semibold text-var-fg-default",children:V.full_name}),y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${V.private?"bg-red-900 text-red-200":"bg-green-900 text-green-200"}`,children:V.private?"Privado":"Pblico"})]}),y.jsx("p",{className:"text-sm text-var-fg-muted mt-1 truncate",children:V.description})]})},V.id))}):y.jsx("p",{className:"text-var-fg-subtle text-center p-8",children:"Nenhum repositrio encontrado."})})]}):y.jsxs("div",{className:"p-3 bg-yellow-900/50 border border-yellow-700/50 rounded-lg text-sm text-yellow-200 mt-4",children:["Nenhum token de acesso do GitHub foi encontrado. Por favor, ",y.jsx("button",{onClick:a,className:"underline font-bold hover:text-white",children:"adicione um nas configuraes"})," para ver e importar seus repositrios."]});return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center",onClick:E?void 0:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-2xl p-6 border border-var-border-default",onClick:V=>V.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(hl,{})," Importar do GitHub"]}),y.jsx("button",{onClick:E?void 0:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive disabled:opacity-50",disabled:E,children:y.jsx(Dt,{})})]}),Y(),N&&y.jsx("p",{className:"text-red-400 text-sm mt-4 text-center",children:N})]})})},rA=({isOpen:n,onClose:e,onDownload:i,projectName:r})=>{if(!n)return null;const a=()=>{i(),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:l=>l.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx($v,{})," Executar Projeto Localmente"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"text-var-fg-muted space-y-4 text-sm",children:[y.jsx("p",{children:"Para visualizar seu projeto em um ambiente de desenvolvimento local, siga estas etapas:"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-3 bg-var-bg-interactive p-4 rounded-lg border border-var-border-default",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Baixe o projeto:"})," Clique no boto abaixo para baixar os arquivos do projeto como um arquivo ZIP.",y.jsxs("button",{onClick:a,className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 transition-opacity",children:[y.jsx(zv,{})," Baixar ",r,".zip"]})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Descompacte o arquivo:"})," Extraia o contedo do arquivo ZIP para uma pasta em seu computador."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Abra o terminal:"})," Navegue at a pasta do projeto descompactado usando seu terminal ou prompt de comando."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Inicie um servidor local:"})," Se voc tiver o Node.js instalado, o comando mais fcil :",y.jsx("pre",{className:"bg-var-bg-muted p-2 rounded-md mt-1 text-xs font-mono",children:y.jsx("code",{children:"npx serve"})}),y.jsx("p",{className:"text-xs text-var-fg-subtle mt-1",children:"Se voc no tem o `serve`, pode instal-lo com `npm install -g serve` ou usar outro servidor local como o `Live Server` do VS Code."})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Visualize no navegador:"})," Abra seu navegador e acesse o endereo fornecido pelo servidor, geralmente"," ",y.jsx("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer",className:"text-var-accent hover:underline",children:"http://localhost:3000"}),"."]})]})]})]})})};var ld=function(n,e){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},ld(n,e)};function yy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ld(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var al=function(){return al=Object.assign||function(e){for(var i,r=1,a=arguments.length;r<a;r++){i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},al.apply(this,arguments)};function br(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(i[r[a]]=n[r[a]]);return i}function _y(n,e,i,r){var a=arguments.length,l=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,i,r);else for(var f=n.length-1;f>=0;f--)(c=n[f])&&(l=(a<3?c(l):a>3?c(e,i,l):c(e,i))||l);return a>3&&l&&Object.defineProperty(e,i,l),l}function by(n,e){return function(i,r){e(i,r,n)}}function Sy(n,e,i,r,a,l){function c(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var f=r.kind,g=f==="getter"?"get":f==="setter"?"set":"value",h=!e&&n?r.static?n:n.prototype:null,_=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),b,x=!1,E=i.length-1;E>=0;E--){var A={};for(var N in r)A[N]=N==="access"?{}:r[N];for(var N in r.access)A.access[N]=r.access[N];A.addInitializer=function(D){if(x)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(D||null))};var w=(0,i[E])(f==="accessor"?{get:_.get,set:_.set}:_[g],A);if(f==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(b=c(w.get))&&(_.get=b),(b=c(w.set))&&(_.set=b),(b=c(w.init))&&a.unshift(b)}else(b=c(w))&&(f==="field"?a.unshift(b):_[g]=b)}h&&Object.defineProperty(h,r.name,_),x=!0}function xy(n,e,i){for(var r=arguments.length>2,a=0;a<e.length;a++)i=r?e[a].call(n,i):e[a].call(n);return r?i:void 0}function Ty(n){return typeof n=="symbol"?n:"".concat(n)}function Ey(n,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function wy(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function le(n,e,i,r){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function f(_){try{h(r.next(_))}catch(b){c(b)}}function g(_){try{h(r.throw(_))}catch(b){c(b)}}function h(_){_.done?l(_.value):a(_.value).then(f,g)}h((r=r.apply(n,e||[])).next())})}function Cy(n,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(_){return g([h,_])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(i=0)),i;)try{if(r=1,a&&(l=h[0]&2?a.return:h[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,h[1])).done)return l;switch(a=0,l&&(h=[h[0]&2,l.value]),h[0]){case 0:case 1:l=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,a=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(h[0]===6||h[0]===2)){i=0;continue}if(h[0]===3&&(!l||h[1]>l[0]&&h[1]<l[3])){i.label=h[1];break}if(h[0]===6&&i.label<l[1]){i.label=l[1],l=h;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(h);break}l[2]&&i.ops.pop(),i.trys.pop();continue}h=e.call(n,i)}catch(_){h=[6,_],a=0}finally{r=l=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var bl=Object.create?(function(n,e,i,r){r===void 0&&(r=i);var a=Object.getOwnPropertyDescriptor(e,i);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(n,r,a)}):(function(n,e,i,r){r===void 0&&(r=i),n[r]=e[i]});function Ay(n,e){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&bl(e,n,i)}function ll(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Md(n,e){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var r=i.call(n),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(f){c={error:f}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return l}function Ny(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Md(arguments[e]));return n}function Ry(){for(var n=0,e=0,i=arguments.length;e<i;e++)n+=arguments[e].length;for(var r=Array(n),a=0,e=0;e<i;e++)for(var l=arguments[e],c=0,f=l.length;c<f;c++,a++)r[a]=l[c];return r}function My(n,e,i){if(i||arguments.length===2)for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}function mr(n){return this instanceof mr?(this.v=n,this):new mr(n)}function Iy(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(A){return Promise.resolve(A).then(E,b)}}function f(E,A){r[E]&&(a[E]=function(N){return new Promise(function(w,D){l.push([E,N,w,D])>1||g(E,N)})},A&&(a[E]=A(a[E])))}function g(E,A){try{h(r[E](A))}catch(N){x(l[0][3],N)}}function h(E){E.value instanceof mr?Promise.resolve(E.value.v).then(_,b):x(l[0][2],E)}function _(E){g("next",E)}function b(E){g("throw",E)}function x(E,A){E(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function ky(n){var e,i;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,l){e[a]=n[a]?function(c){return(i=!i)?{value:mr(n[a](c)),done:!1}:l?l(c):c}:l}}function Dy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof ll=="function"?ll(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(f,g){c=n[l](c),a(f,g,c.done,c.value)})}}function a(l,c,f,g){Promise.resolve(g).then(function(h){l({value:h,done:f})},c)}}function Uy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var oA=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},ud=function(n){return ud=Object.getOwnPropertyNames||function(e){var i=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[i.length]=r);return i},ud(n)};function Oy(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=ud(n),r=0;r<i.length;r++)i[r]!=="default"&&bl(e,n,i[r]);return oA(e,n),e}function Py(n){return n&&n.__esModule?n:{default:n}}function Ly(n,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(n):r?r.value:e.get(n)}function jy(n,e,i,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,i):a?a.value=i:e.set(n,i),i}function qy(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function By(n,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:r,async:i})}else i&&n.stack.push({async:!0});return e}var aA=typeof SuppressedError=="function"?SuppressedError:function(n,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Gy(n){function e(l){n.error=n.hasError?new aA(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var i,r=0;function a(){for(;i=n.stack.pop();)try{if(!i.async&&r===1)return r=0,n.stack.push(i),Promise.resolve().then(a);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else r|=1}catch(c){e(c)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function Vy(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,a,l,c){return r?e?".jsx":".js":a&&(!l||!c)?i:a+l+"."+c.toLowerCase()+"js"}):n}const lA={__extends:yy,__assign:al,__rest:br,__decorate:_y,__param:by,__esDecorate:Sy,__runInitializers:xy,__propKey:Ty,__setFunctionName:Ey,__metadata:wy,__awaiter:le,__generator:Cy,__createBinding:bl,__exportStar:Ay,__values:ll,__read:Md,__spread:Ny,__spreadArrays:Ry,__spreadArray:My,__await:mr,__asyncGenerator:Iy,__asyncDelegator:ky,__asyncValues:Dy,__makeTemplateObject:Uy,__importStar:Oy,__importDefault:Py,__classPrivateFieldGet:Ly,__classPrivateFieldSet:jy,__classPrivateFieldIn:qy,__addDisposableResource:By,__disposeResources:Gy,__rewriteRelativeImportExtension:Vy},uA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:By,get __assign(){return al},__asyncDelegator:ky,__asyncGenerator:Iy,__asyncValues:Dy,__await:mr,__awaiter:le,__classPrivateFieldGet:Ly,__classPrivateFieldIn:qy,__classPrivateFieldSet:jy,__createBinding:bl,__decorate:_y,__disposeResources:Gy,__esDecorate:Sy,__exportStar:Ay,__extends:yy,__generator:Cy,__importDefault:Py,__importStar:Oy,__makeTemplateObject:Uy,__metadata:wy,__param:by,__propKey:Ty,__read:Md,__rest:br,__rewriteRelativeImportExtension:Vy,__runInitializers:xy,__setFunctionName:Ey,__spread:Ny,__spreadArray:My,__spreadArrays:Ry,__values:ll,default:lA},Symbol.toStringTag,{value:"Module"})),cA="modulepreload",dA=function(n){return"/"+n},lv={},Sr=function(e,i,r){let a=Promise.resolve();if(i&&i.length>0){let c=function(h){return Promise.all(h.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=c(i.map(h=>{if(h=dA(h),h in lv)return;lv[h]=!0;const _=h.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":cA,_||(x.as="script"),x.crossOrigin="",x.href=h,g&&x.setAttribute("nonce",g),document.head.appendChild(x),_)return new Promise((E,A)=>{x.addEventListener("load",E),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},fA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class Id extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class uv extends Id{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cv extends Id{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dv extends Id{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(cd||(cd={}));class hA{constructor(e,{headers:i={},customFetch:r,region:a=cd.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=fA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(i,r={}){var a;try{const{headers:l,method:c,body:f,signal:g}=r;let h={},{region:_}=r;_||(_=this.region);const b=new URL(`${this.url}/${i}`);_&&_!=="any"&&(h["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let x;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(h["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(h["Content-Type"]="application/json",x=JSON.stringify(f)):x=f;const E=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:x,signal:g}).catch(D=>{throw D.name==="AbortError"?D:new uv(D)}),A=E.headers.get("x-relay-error");if(A&&A==="true")throw new cv(E);if(!E.ok)throw new dv(E);let N=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return N==="application/json"?w=yield E.json():N==="application/octet-stream"||N==="application/pdf"?w=yield E.blob():N==="text/event-stream"?w=E:N==="multipart/form-data"?w=yield E.formData():w=yield E.text(),{data:w,error:null,response:E}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new uv(l)}:{data:null,error:l,response:l instanceof dv||l instanceof cv?l.context:void 0}}})}}var It={};const xr=Lv(uA);var Fa={},Ya={},Ka={},Qa={},Xa={},pA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gr=pA();const mA=gr.fetch,zy=gr.fetch.bind(gr),Hy=gr.Headers,gA=gr.Request,vA=gr.Response,fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hy,Request:gA,Response:vA,default:zy,fetch:mA},Symbol.toStringTag,{value:"Module"})),yA=Lv(fs);var Za={},fv;function $y(){if(fv)return Za;fv=1,Object.defineProperty(Za,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Za.default=n,Za}var hv;function Jy(){if(hv)return Xa;hv=1,Object.defineProperty(Xa,"__esModule",{value:!0});const n=xr,e=n.__importDefault(yA),i=n.__importDefault($y());class r{constructor(l){var c,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var _,b,x,E;let A=null,N=null,w=null,D=h.status,L=h.statusText;if(h.ok){if(this.method!=="HEAD"){const V=await h.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((_=this.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?N=V:N=JSON.parse(V))}const q=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),Y=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");q&&Y&&Y.length>1&&(w=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(A={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,w=null,D=406,L="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const q=await h.text();try{A=JSON.parse(q),Array.isArray(A)&&h.status===404&&(N=[],A=null,D=200,L="OK")}catch{h.status===404&&q===""?(D=204,L="No Content"):A={message:q}}if(A&&this.isMaybeSingle&&(!((E=A==null?void 0:A.details)===null||E===void 0)&&E.includes("0 rows"))&&(A=null,D=200,L="OK"),A&&this.shouldThrowOnError)throw new i.default(A)}return{error:A,data:N,count:w,status:D,statusText:L}});return this.shouldThrowOnError||(g=g.catch(h=>{var _,b,x;return{error:{message:`${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(b=h==null?void 0:h.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(x=h==null?void 0:h.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return Xa.default=r,Xa}var pv;function Fy(){if(pv)return Qa;pv=1,Object.defineProperty(Qa,"__esModule",{value:!0});const e=xr.__importDefault(Jy());class i extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:f,referencedTable:g=f}={}){const h=g?`${g}.order`:"order",_=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${_?`${_},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:f=c}={}){const g=typeof f>"u"?"offset":`${f}.offset`,h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(h,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:f=!1,wal:g=!1,format:h="text"}={}){var _;const b=[a?"analyze":null,l?"verbose":null,c?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),x=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${x}"; options=${b};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Qa.default=i,Qa}var mv;function kd(){if(mv)return Ka;mv=1,Object.defineProperty(Ka,"__esModule",{value:!0});const e=xr.__importDefault(Fy()),i=new RegExp("[,()]");class r extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const f=Array.from(new Set(c)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:f,type:g}={}){let h="";g==="plain"?h="pl":g==="phrase"?h="ph":g==="websearch"&&(h="w");const _=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${h}fts${_}.${c}`),this}match(l){return Object.entries(l).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(l,c,f){return this.url.searchParams.append(l,`not.${c}.${f}`),this}or(l,{foreignTable:c,referencedTable:f=c}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,c,f){return this.url.searchParams.append(l,`${c}.${f}`),this}}return Ka.default=r,Ka}var gv;function Yy(){if(gv)return Ya;gv=1,Object.defineProperty(Ya,"__esModule",{value:!0});const e=xr.__importDefault(kd());class i{constructor(a,{headers:l={},schema:c,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=f}select(a,l){const{head:c=!1,count:f}=l??{},g=c?"HEAD":"GET";let h=!1;const _=(a??"*").split("").map(b=>/\s/.test(b)&&!h?"":(b==='"'&&(h=!h),b)).join("");return this.url.searchParams.set("select",_),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(h.length>0){const _=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:f,defaultToNull:g=!0}={}){var h;const _="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const b=a.reduce((x,E)=>x.concat(Object.keys(E)),[]);if(b.length>0){const x=[...new Set(b)].map(E=>`"${E}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:l}={}){var c;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ya.default=i,Ya}var vv;function _A(){if(vv)return Fa;vv=1,Object.defineProperty(Fa,"__esModule",{value:!0});const n=xr,e=n.__importDefault(Yy()),i=n.__importDefault(kd());class r{constructor(l,{headers:c={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=f,this.fetch=g}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:g=!1,count:h}={}){var _;let b;const x=new URL(`${this.url}/rpc/${l}`);let E;f||g?(b=f?"HEAD":"GET",Object.entries(c).filter(([N,w])=>w!==void 0).map(([N,w])=>[N,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([N,w])=>{x.searchParams.append(N,w)})):(b="POST",E=c);const A=new Headers(this.headers);return h&&A.set("Prefer",`count=${h}`),new i.default({method:b,url:x,headers:A,schema:this.schemaName,body:E,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Fa.default=r,Fa}var yv;function bA(){if(yv)return It;yv=1,Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const n=xr,e=n.__importDefault(_A());It.PostgrestClient=e.default;const i=n.__importDefault(Yy());It.PostgrestQueryBuilder=i.default;const r=n.__importDefault(kd());It.PostgrestFilterBuilder=r.default;const a=n.__importDefault(Fy());It.PostgrestTransformBuilder=a.default;const l=n.__importDefault(Jy());It.PostgrestBuilder=l.default;const c=n.__importDefault($y());return It.PostgrestError=c.default,It.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},It}var Ky=bA();const Qy=Sd(Ky),SA=xb({__proto__:null,default:Qy},[Ky]),{PostgrestClient:xA,PostgrestQueryBuilder:iR,PostgrestFilterBuilder:sR,PostgrestTransformBuilder:rR,PostgrestBuilder:oR,PostgrestError:aR}=Qy||SA;class TA{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const EA="2.77.0",wA=`realtime-js/${EA}`,CA="1.0.0",dd=1e4,AA=1e3,NA=100;var bo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(bo||(bo={}));var _t;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(_t||(_t={}));var Sn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Sn||(Sn={}));var fd;(function(n){n.websocket="websocket"})(fd||(fd={}));var os;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(os||(os={}));class RA{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const a=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const f=r.decode(e.slice(c,c+a));c=c+a;const g=r.decode(e.slice(c,c+l));c=c+l;const h=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:f,event:g,payload:h}}}class Xy{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Fe||(Fe={}));const _v=(n,e,i={})=>{var r;const a=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=MA(c,n,e,a),l),{}):{}},MA=(n,e,i,r)=>{const a=e.find(f=>f.name===n),l=a==null?void 0:a.type,c=i[n];return l&&!r.includes(l)?Zy(l,c):hd(c)},Zy=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return UA(e,i)}switch(n){case Fe.bool:return IA(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return kA(e);case Fe.json:case Fe.jsonb:return DA(e);case Fe.timestamp:return OA(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return hd(e);default:return hd(e)}},hd=n=>n,IA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},DA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},UA=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>Zy(e,f))}return n},OA=n=>typeof n=="string"?n.replace(" ","T"):n,Wy=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Gc{constructor(e,i,r={},a=dd){this.channel=e,this.event=i,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(bv||(bv={}));class So{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=So.syncState(this.state,a,l,c),this.pendingDiffs.forEach(g=>{this.state=So.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=So.syncDiff(this.state,a,l,c),f())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,a){const l=this.cloneDeep(e),c=this.transformState(i),f={},g={};return this.map(l,(h,_)=>{c[h]||(g[h]=_)}),this.map(c,(h,_)=>{const b=l[h];if(b){const x=_.map(w=>w.presence_ref),E=b.map(w=>w.presence_ref),A=_.filter(w=>E.indexOf(w.presence_ref)<0),N=b.filter(w=>x.indexOf(w.presence_ref)<0);A.length>0&&(f[h]=A),N.length>0&&(g[h]=N)}else f[h]=_}),this.syncDiff(l,{joins:f,leaves:g},r,a)}static syncDiff(e,i,r,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(f,g)=>{var h;const _=(h=e[f])!==null&&h!==void 0?h:[];if(e[f]=this.cloneDeep(g),_.length>0){const b=e[f].map(E=>E.presence_ref),x=_.filter(E=>b.indexOf(E.presence_ref)<0);e[f].unshift(...x)}r(f,_,g)}),this.map(c,(f,g)=>{let h=e[f];if(!h)return;const _=g.map(b=>b.presence_ref);h=h.filter(b=>_.indexOf(b.presence_ref)<0),e[f]=h,a(f,h,g),h.length===0&&delete e[f]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const a=e[r];return"metas"in a?i[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Sv||(Sv={}));var xo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(xo||(xo={}));var Wn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Wn||(Wn={}));class Dd{constructor(e,i={config:{}},r){var a,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Gc(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new Xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new So(this),this.broadcastEndpointURL=Wy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:c,presence:f,private:g}}=this.params,h=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&a!==void 0?a:[],_=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},x={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:h,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Wn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Wn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket.setAuth(),E===void 0){e==null||e(Wn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,w=(A=N==null?void 0:N.length)!==null&&A!==void 0?A:0,D=[];for(let L=0;L<w;L++){const I=N[L],{filter:{event:q,schema:Y,table:V,filter:B}}=I,Z=E&&E[L];if(Z&&Z.event===q&&Z.schema===Y&&Z.table===V&&Z.filter===B)D.push(Object.assign(Object.assign({},I),{id:Z.id}));else{this.unsubscribe(),this.state=_t.errored,e==null||e(Wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(Wn.SUBSCRIBED);return}}).receive("error",E=>{this.state=_t.errored,e==null||e(Wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===_t.joined&&e===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const h=await f.json();g=h.error||h.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,g;const h=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Gc(this,Sn.leave,{},e),r.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Gc(this,e,i,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>NA){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var a,l;const c=e.toLocaleLowerCase(),{close:f,error:g,leave:h,join:_}=Sn;if(r&&[f,g,h,_].indexOf(c)>=0&&r!==this._joinRef())return;let x=this._onMessage(c,i,r);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var A,N,w;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((w=(N=E.filter)===null||N===void 0?void 0:N.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(E=>E.callback(x,r)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var A,N,w,D,L,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const q=E.id,Y=(A=E.filter)===null||A===void 0?void 0:A.event;return q&&((N=i.ids)===null||N===void 0?void 0:N.includes(q))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((w=i.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const q=(L=(D=E==null?void 0:E.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return q==="*"||q===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:N,table:w,commit_timestamp:D,type:L,errors:I}=A;x=Object.assign(Object.assign({},{schema:N,table:w,commit_timestamp:D,eventType:L,new:{},old:{},errors:I}),this._getPayloadRecords(A))}E.callback(x,r)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Dd.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=_v(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=_v(e.columns,e.old_record)),i}}const Vc=()=>{},Wa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PA=[1e3,2e3,5e3,1e4],LA=1e4,jA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qA{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dd,this.transport=null,this.heartbeatIntervalMs=Wa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vc,this.ref=0,this.reconnectTimer=null,this.logger=Vc,this.conn=null,this.sendBuffer=[],this.serializer=new RA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Sr(async()=>{const{default:f}=await Promise.resolve().then(()=>fs);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${fd.websocket}`,this.httpEndpoint=Wy(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:CA}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bo.connecting:return os.Connecting;case bo.open:return os.Open;case bo.closing:return os.Closing;default:return os.Closed}}isConnected(){return this.connectionState()===os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new Dd(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:a,ref:l}=e,c=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${i} ${r} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AA,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Wa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:c}=i,f=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${r} ${a} ${f}`.trim(),l),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${r}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([jA],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const a={access_token:i,version:wA};i&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Sn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Xy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,a,l,c,f,g,h,_;if(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:dd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Wa.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:Vc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(b=>PA[b-1]||LA),this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((b,x)=>x(JSON.stringify(b))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ud extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function it(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class BA extends Ud{constructor(e,i,r){super(e),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pd extends Ud{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const Od=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},GA=()=>le(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sr(()=>Promise.resolve().then(()=>fs),void 0)).Response:Response}),md=n=>{if(Array.isArray(n))return n.map(i=>md(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=md(r)}),e},VA=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},zc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),zA=(n,e,i)=>le(void 0,void 0,void 0,function*(){const r=yield GA();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(a=>{const l=n.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new BA(zc(a),l,c))}).catch(a=>{e(new pd(zc(a),a))}):e(new pd(zc(n),n))}),HA=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?a:(VA(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),i))};function No(n,e,i,r,a,l){return le(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(i,HA(e,r,a,l)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>zA(g,f,r))})})}function Eo(n,e,i,r){return le(this,void 0,void 0,function*(){return No(n,"GET",e,i,r)})}function bn(n,e,i,r,a){return le(this,void 0,void 0,function*(){return No(n,"POST",e,r,a,i)})}function gd(n,e,i,r,a){return le(this,void 0,void 0,function*(){return No(n,"PUT",e,r,a,i)})}function $A(n,e,i,r){return le(this,void 0,void 0,function*(){return No(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function Pd(n,e,i,r,a){return le(this,void 0,void 0,function*(){return No(n,"DELETE",e,r,a,i)})}class JA{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}})}}var e0;class FA{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[e0]="BlobDownloadBuilder",this.promise=null}asStream(){return new JA(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(it(e))return{data:null,error:e};throw e}})}}e0=Symbol.toStringTag;const YA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KA{constructor(e,i={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=r,this.fetch=Od(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,r,a){return le(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},xv),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(f=Object.assign(Object.assign({},f),a.headers));const h=this._removeEmptyFolders(i),_=this._getFinalPath(h),b=yield(e=="PUT"?gd:bn)(this.fetch,`${this.url}/object/${_}`,l,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(it(l))return{data:null,error:l};throw l}})}upload(e,i,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,a){return le(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",i);try{let g;const h=Object.assign({upsert:xv.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",h.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",h.cacheControl)):(g=r,_["cache-control"]=`max-age=${h.cacheControl}`,_["content-type"]=h.contentType);const b=yield gd(this.fetch,f.toString(),g,{headers:_});return{data:{path:l,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(it(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const l=yield bn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(this.url+l.url),f=c.searchParams.get("token");if(!f)throw new Ud("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}update(e,i,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return le(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}copy(e,i,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,r){return le(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield bn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,r){return le(this,void 0,void 0,function*(){try{const a=yield bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}download(e,i){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>Eo(this.fetch,`${this.url}/${a}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new FA(g,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield Eo(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:md(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}exists(e){return le(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield $A(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r)&&r instanceof pd){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),a=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const f=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&a.push(g);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${h}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}list(e,i,r){return le(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},YA),i),{prefix:e||""});return{data:yield bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}listV2(e,i){return le(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield bn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const t0="2.77.0",n0={"X-Client-Info":`storage-js/${t0}`};class QA{constructor(e,i={},r,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n0),i),this.fetch=Od(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield Eo(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}createBucket(e){return le(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield bn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(it(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return le(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(it(r))return{data:null,error:r};throw r}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class XA{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n0),i),this.fetch=Od(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const r=i.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Eo(this.fetch,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(it(i))return{data:null,error:i};throw i}})}}const Ld={"X-Client-Info":`storage-js/${t0}`,"Content-Type":"application/json"};class i0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Hc extends i0{constructor(e,i,r){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ZA extends i0{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var Tv;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Tv||(Tv={}));const jd=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},WA=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ev=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),e1=(n,e,i)=>le(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(i!=null&&i.noResolveJson)){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const f=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new Hc(Ev(c),a,f))}).catch(()=>{const c=a+"",f=l.statusText||`HTTP ${a} error`;e(new Hc(f,a,c))});else{const c=a+"",f=l.statusText||`HTTP ${a} error`;e(new Hc(f,a,c))}}else e(new ZA(Ev(n),n))}),t1=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(WA(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),i)):a};function n1(n,e,i,r,a,l){return le(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(i,t1(e,r,a,l)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const h=g.headers.get("content-type");return!h||!h.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>e1(g,f,r))})})}function Zt(n,e,i,r,a){return le(this,void 0,void 0,function*(){return n1(n,"POST",e,r,a,i)})}class i1{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ld),i),this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}getIndex(e,i){return le(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return le(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class s1{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ld),i),this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Zt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}}class r1{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ld),i),this.fetch=jd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield Zt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}}class o1 extends r1{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new a1(this.url,this.headers,e,this.fetch)}}class a1 extends i1{constructor(e,i,r,a){super(e,i,a),this.vectorBucketName=r}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new l1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class l1 extends s1{constructor(e,i,r,a,l){super(e,i,l),this.vectorBucketName=r,this.indexName=a}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class u1 extends QA{constructor(e,i={},r,a){super(e,i,r,a)}from(e){return new KA(this.url,this.headers,e,this.fetch)}get vectors(){return new o1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new XA(this.url+"/iceberg",this.headers,this.fetch)}}const c1="2.77.0";let yo="";typeof Deno<"u"?yo="deno":typeof document<"u"?yo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yo="react-native":yo="node";const d1={"X-Client-Info":`supabase-js-${yo}/${c1}`},f1={headers:d1},h1={schema:"public"},p1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m1={},g1=n=>{let e;return n?e=n:typeof fetch>"u"?e=zy:e=fetch,(...i)=>e(...i)},v1=()=>typeof Headers>"u"?Hy:Headers,y1=(n,e,i)=>{const r=g1(i),a=v1();return async(l,c)=>{var f;const g=(f=await e())!==null&&f!==void 0?f:n;let h=new a(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${g}`),r(l,Object.assign(Object.assign({},c),{headers:h}))}};function _1(n){return n.endsWith("/")?n:n+"/"}function b1(n,e){var i,r;const{db:a,auth:l,realtime:c,global:f}=n,{db:g,auth:h,realtime:_,global:b}=e,x={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},h),l),realtime:Object.assign(Object.assign({},_),c),storage:{},global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function S1(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const s0="2.77.0",lr=30*1e3,vd=3,$c=vd*lr,x1="http://localhost:9999",T1="supabase.auth.token",E1={"X-Client-Info":`gotrue-js/${s0}`},yd="X-Supabase-Api-Version",r0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C1=600*1e3;class wo extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function fe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class A1 extends wo{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function N1(n){return fe(n)&&n.name==="AuthApiError"}class as extends wo{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Pi extends wo{constructor(e,i,r,a){super(e,r,a),this.name=i,this.status=r}}class ki extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R1(n){return fe(n)&&n.name==="AuthSessionMissingError"}class ir extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class el extends Pi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tl extends Pi{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M1(n){return fe(n)&&n.name==="AuthImplicitGrantRedirectError"}class wv extends Pi{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _d extends Pi{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Jc(n){return fe(n)&&n.name==="AuthRetryableFetchError"}class Cv extends Pi{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class bd extends Pi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),I1=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Av.length;e+=1)n[Av[e].charCodeAt(0)]=-2;for(let e=0;e<ul.length;e+=1)n[ul[e].charCodeAt(0)]=e;return n})();function Nv(n,e,i){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(ul[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(ul[r]),e.queuedBits-=6}}function o0(n,e,i){const r=I1[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Rv(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{U1(c,r,i)};for(let c=0;c<n.length;c+=1)o0(n.charCodeAt(c),a,l);return e.join("")}function k1(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function D1(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}k1(r,e)}}function U1(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function pr(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)o0(n.charCodeAt(a),i,r);return new Uint8Array(e)}function O1(n){const e=[];return D1(n,i=>e.push(i)),new Uint8Array(e)}function ls(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};return n.forEach(a=>Nv(a,i,r)),Nv(null,i,r),e.join("")}function P1(n){return Math.round(Date.now()/1e3)+n}function L1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},a0=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function j1(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((r,a)=>{e[a]=r}),e}const l0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},q1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ur=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},ss=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ii=async(n,e)=>{await n.removeItem(e)};class Sl{constructor(){this.promise=new Sl.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Sl.promiseConstructor=Promise;function Fc(n){const e=n.split(".");if(e.length!==3)throw new bd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!w1.test(e[r]))throw new bd("JWT not in base64url format");return{header:JSON.parse(Rv(e[0])),payload:JSON.parse(Rv(e[1])),signature:pr(e[2]),raw:{header:e[0],payload:e[1]}}}async function B1(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function G1(n,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function V1(n){return("0"+n.toString(16)).substr(-2)}function z1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,V1).join("")}async function H1(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function $1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await H1(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(n,e,i=!1){const r=z1();let a=r;i&&(a+="/PASSWORD_RECOVERY"),await ur(n,`${e}-code-verifier`,a);const l=await $1(r);return[l,r===l?"plain":"s256"]}const J1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F1(n){const e=n.headers.get(yd);if(!e||!e.match(J1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Y1(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function K1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rr(n){if(!Q1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yc(){const n={};return new Proxy(n,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mv(n){return JSON.parse(JSON.stringify(n))}const rs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),X1=[502,503,504];async function Iv(n){var e;if(!q1(n))throw new _d(rs(n),0);if(X1.includes(n.status))throw new _d(rs(n),n.status);let i;try{i=await n.json()}catch(l){throw new as(rs(l),l)}let r;const a=F1(n);if(a&&a.getTime()>=r0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Cv(rs(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ki}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Cv(rs(i),n.status,i.weak_password.reasons);throw new A1(rs(i),n.status||500,r)}const Z1=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),i))};async function _e(n,e,i,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[yd]||(l[yd]=r0["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await W1(n,e,i+f,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function W1(n,e,i,r,a,l){const c=Z1(e,r,a,l);let f;try{f=await n(i,Object.assign({},c))}catch(g){throw console.error(g),new _d(rs(g),0)}if(f.ok||await Iv(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(g){await Iv(g)}}function _n(n){var e;let i=null;nN(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=P1(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function kv(n){const e=_n(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Di(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function eN(n){return{data:n,error:null}}function tN(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l}=n,c=br(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function Dv(n){return n}function nN(n){return n.access_token&&n.refresh_token&&n.expires_in}const Kc=["global","local","others"];class iN{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=l0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Kc[0]){if(Kc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kc.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Di})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=br(e,["options"]),a=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tN,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(fe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Di})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,a,l,c,f,g;try{const h={nextPage:null,lastPage:0,total:0},_=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Dv});if(_.error)throw _.error;const b=await _.json(),x=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(A.split(";")[1].split("=")[1]);h[`${w}Page`]=N}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(fe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){rr(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Di})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){rr(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Di})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){rr(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Di})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rr(e.userId);try{const{data:i,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:r}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _deleteFactor(e){rr(e.userId),rr(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,a,l,c,f,g;try{const h={nextPage:null,lastPage:0,total:0},_=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Dv});if(_.error)throw _.error;const b=await _.json(),x=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(A.split(";")[1].split("=")[1]);h[`${w}Page`]=N}),h.total=parseInt(x)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(fe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}}function Uv(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}const or={debug:!!(globalThis&&a0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sN extends u0{}async function rN(n,e,i){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await i()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new sN(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(or.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function oN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function aN(n){return parseInt(n,16)}function lN(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function uN(n){var e;const{chainId:i,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:g,resources:h,scheme:_,uri:b,version:x}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=c0(n.address),A=_?`${_}://${r}`:r,N=n.statement?`${n.statement}
`:"",w=`${A} wants you to sign in with your Ethereum account:
${E}

${N}`;let D=`URI: ${b}
Version: ${x}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(D+=`
Expiration Time: ${a.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),g&&(D+=`
Request ID: ${g}`),h){let L=`
Resources:`;for(const I of h){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);L+=`
- ${I}`}D+=L}return`${w}
${D}`}class vt extends Error{constructor({message:e,code:i,cause:r,name:a}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class cl extends vt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function cN({error:n,options:e}){var i,r,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new vt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(d0(c)){if(l.rp.id!==c)return new vt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function dN({error:n,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new vt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(d0(r)){if(i.rpId!==r)return new vt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class fN{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const hN=new fN;function pN(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:i,excludeCredentials:r}=n,a=br(n,["challenge","user","excludeCredentials"]),l=pr(e).buffer,c=Object.assign(Object.assign({},i),{id:pr(i.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:c});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const h=r[g];f.excludeCredentials[g]=Object.assign(Object.assign({},h),{id:pr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return f}function mN(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:i}=n,r=br(n,["challenge","allowCredentials"]),a=pr(e).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:pr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function gN(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:ls(new Uint8Array(n.response.attestationObject)),clientDataJSON:ls(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function vN(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,r=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ls(new Uint8Array(a.authenticatorData)),clientDataJSON:ls(new Uint8Array(a.clientDataJSON)),signature:ls(new Uint8Array(a.signature)),userHandle:a.userHandle?ls(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function d0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ov(){var n,e;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yN(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",e)}:{data:null,error:new cl("Empty credential response",e)}}catch(e){return{data:null,error:cN({error:e,options:n})}}}async function _N(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",e)}:{data:null,error:new cl("Empty credential response",e)}}catch(e){return{data:null,error:dN({error:e,options:n})}}}const bN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},SN={userVerification:"preferred",hints:["security-key"]};function dl(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const f=r[l];e(f)?r[l]=dl(f,c):r[l]=dl(c)}else r[l]=c}return r}function xN(n,e){return dl(bN,n,e||{})}function TN(n,e){return dl(SN,n,e||{})}class EN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:a},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:f};const g=a??hN.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=xN(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:b}=await yN({publicKey:h,signal:g});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const h=TN(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:b}=await _N(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:g}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(c){return fe(c)?{data:null,error:c}:{data:null,error:new as("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!i)return{data:null,error:new wo("rpId is required for WebAuthn authentication")};try{if(!Ov())return{data:null,error:new as("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:a},{request:l});if(!c)return{data:null,error:f};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:r,credential_response:g.credential_response}})}catch(c){return fe(c)?{data:null,error:c}:{data:null,error:new as("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!i)return{data:null,error:new wo("rpId is required for WebAuthn registration")};try{if(!Ov())return{data:null,error:new as("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:f};const{data:g,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:a},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:h}}catch(c){return fe(c)?{data:null,error:c}:{data:null,error:new as("Unexpected error in register",c)}}}}oN();const wN={url:x1,storageKey:T1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pv(n,e,i){return await i()}const ar={};class Co{get jwks(){var e,i;return(i=(e=ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{cachedAt:e})}constructor(e){var i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Co.nextInstanceID,Co.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},wN),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new iN({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=l0(a.fetch),this.lock=a.lock||Pv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=rN:this.lock=Pv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EN(this)},this.persistSession?(a.storage?this.storage=a.storage:a0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${s0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=j1(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),M1(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return fe(i)?{error:i}:{error:new as("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,a;try{const l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:_n}),{data:c,error:f}=l;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var i,r,a;try{let l;if("email"in e){const{email:_,password:b,options:x}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await sr(this.storage,this.storageKey)),l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:_,password:b,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:E,code_challenge_method:A},xform:_n})}else if("phone"in e){const{phone:_,password:b,options:x}=e;l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:_n})}else throw new el("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:f}=e;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kv})}else if("phone"in e){const{phone:l,password:c,options:f}=e;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kv})}else throw new el("You must provide either an email or phone number and a password");const{data:r,error:a}=i;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ir}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,a,l,c,f,g,h,_,b,x;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:N,wallet:w,statement:D,options:L}=e;let I;if(Qt())if(typeof w=="object")I=w;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")I=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=w}const q=new URL((i=L==null?void 0:L.url)!==null&&i!==void 0?i:window.location.href),Y=await I.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=c0(Y[0]);let B=(r=L==null?void 0:L.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const Q=await I.request({method:"eth_chainId"});B=aN(Q)}const Z={domain:q.host,address:V,statement:D,uri:q.href,version:"1",chainId:B,nonce:(a=L==null?void 0:L.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L==null?void 0:L.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(_=L==null?void 0:L.signInWithEthereum)===null||_===void 0?void 0:_.resources};E=uN(Z),A=await I.request({method:"personal_sign",params:[lN(E),V]})}try{const{data:N,error:w}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_n});if(w)throw w;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ir}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:w})}catch(N){if(fe(N))return{data:{user:null,session:null},error:N};throw N}}async signInWithSolana(e){var i,r,a,l,c,f,g,h,_,b,x,E;let A,N;if("message"in e)A=e.message,N=e.signature;else{const{chain:w,wallet:D,statement:L,options:I}=e;let q;if(Qt())if(typeof D=="object")q=D;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))q=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=D}const Y=new URL((i=I==null?void 0:I.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in q&&q.signIn){const V=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),L?{statement:L}:null));let B;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")B=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)B=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)A=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),N=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${Y.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(a=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((b=(_=I==null?void 0:I.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const V=await q.signMessage(new TextEncoder().encode(A),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=V}}try{const{data:w,error:D}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ls(N)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:_n});if(D)throw D;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ir}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:D})}catch(w){if(fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const i=await ss(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(i??"").split("/");try{const{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_n});if(await Ii(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ir}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(fe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:a,access_token:l,nonce:c}=e,f=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:_n}),{data:g,error:h}=f;return h?{data:{user:null,session:null},error:h}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ir}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:h})}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,a,l,c;try{if("email"in e){const{email:f,options:g}=e;let h=null,_=null;this.flowType==="pkce"&&([h,_]=await sr(this.storage,this.storageKey));const{error:b}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:f,options:g}=e,{data:h,error:_}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:_}}throw new el("You must provide either an email or phone number.")}catch(f){if(fe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var i,r;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:f}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:_n});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,h=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:h,session:g},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var i,r,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await sr(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:eN})}catch(l){if(fe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new ki;const{error:a}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:c}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:c,error:f}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new el("You must provide either an email or phone number and a type")}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<$c:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await ss(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Yc()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,h,_)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,h,_))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Di}):await this._useSession(async i=>{var r,a,l;const{data:c,error:f}=i;if(f)throw f;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Di})})}catch(i){if(fe(i))return R1(i)&&(await this._removeSession(),await Ii(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new ki;const c=a.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await sr(this.storage,this.storageKey));const{data:h,error:_}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:c.access_token,xform:Di});if(_)throw _;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ki;const i=Date.now()/1e3;let r=i,a=!0,l=null;const{payload:c}=Fc(e.access_token);if(c.exp&&(r=c.exp,a=r<=i),a){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(fe(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:f}=i;if(f)throw f;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ki;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!Qt())throw new tl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new wv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wv("No code detected.");const{data:L,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:f,expires_at:g,token_type:h}=e;if(!l||!f||!c||!h)throw new tl("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(f);let x=_+b;g&&(x=parseInt(g));const E=x-_;E*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const A=x-b;_-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,_):_-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,_);const{data:N,error:w}=await this._getUser(l);if(w)throw w;const D={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:b,expires_at:x,refresh_token:c,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(r){if(fe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return{error:l};const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(N1(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await Ii(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=L1(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await sr(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(fe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:a}=await this._useSession(async l=>{var c,f,g,h,_;const{data:b,error:x}=l;if(x)throw x;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",E,{headers:this.headers,jwt:(_=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return Qt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(fe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:f,token:g,access_token:h,nonce:_}=e,b=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:g,access_token:h,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_n}),{data:x,error:E}=b;return E?{data:{user:null,session:null},error:E}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new ir}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:E})}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)throw c;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await G1(async a=>(a>0&&await B1(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_n})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Jc(l)&&Date.now()+c-r<lr})}catch(r){if(this._debug(i,"error",r),fe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),Qt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await ss(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ur(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Yc()}else if(a&&!a.user&&!a.user){const c=await ss(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Ii(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,a)):a.user=Yc()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<$c;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${$c}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Jc(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ki;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),fe(l)){const c={data:null,error:l};return Jc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await ur(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=Mv(a);await ur(this.storage,this.storageKey,l)}else{const a=Mv(i);await ur(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ii(this.storage,this.storageKey),await Ii(this.storage,this.storageKey+"-code-verifier"),await Ii(this.storage,this.storageKey+"-user"),this.userStorage&&await Ii(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${lr}ms, refresh threshold is ${vd} ticks`),a<=vd&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof u0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const a=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await sr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;return l?{data:null,error:l}:await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:h}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gN(e.webauthn.credential_response):vN(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(i){if(fe(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return{data:null,error:l};const c=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:pN(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:mN(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(fe(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Fc(a.access_token);let f=null;c.aal&&(f=c.aal);let g=f;((r=(i=a.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const _=c.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(f=>f.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+C1>a)return r;const{data:l,error:c}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:E,error:A}=await this.getSession();if(A||!E.session)return{data:null,error:A};r=E.session.access_token}const{header:a,payload:l,signature:c,raw:{header:f,payload:g}}=Fc(r);i!=null&&i.allowExpired||Y1(l.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!h){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:l,header:a,signature:c},error:null}}const _=K1(a.alg),b=await crypto.subtle.importKey("jwk",h,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,c,O1(`${f}.${g}`)))throw new bd("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}Co.nextInstanceID=0;const CN=Co;class AN extends CN{constructor(e){super(e)}}class NN{constructor(e,i,r){var a,l,c;this.supabaseUrl=e,this.supabaseKey=i;const f=S1(e);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,h={db:h1,realtime:m1,auth:Object.assign(Object.assign({},p1),{storageKey:g}),global:f1},_=b1(r??{},h);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=y1(i,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new xA(new URL("rest/v1",f).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new u1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new hA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,i;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,userStorage:l,storageKey:c,flowType:f,lock:g,debug:h},_,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AN({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),_),storageKey:c,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,userStorage:l,flowType:f,lock:g,debug:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RN=(n,e,i)=>new NN(n,e,i);function MN(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}MN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IN="https://oggabkywjtcghojhzepn.supabase.co",kN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nZ2Fia3l3anRjZ2hvamh6ZXBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxNjIwNjIsImV4cCI6MjA3MTczODA2Mn0.x2eABhTnCuYMzLfl0Jzmn_BtXANW08rXlniikaLVsvU",dn=RN(IN,kN),DN=({isOpen:n,onClose:e})=>{const[i,r]=H.useState(!0),[a,l]=H.useState(""),[c,f]=H.useState(""),[g,h]=H.useState(!1),[_,b]=H.useState(null),[x,E]=H.useState(null),A=async w=>{w.preventDefault(),h(!0),b(null),E(null);try{if(i){const{error:D}=await dn.auth.signInWithPassword({email:a,password:c});if(D)throw D;e()}else{const{error:D}=await dn.auth.signUp({email:a,password:c});if(D)throw D;E("Verifique seu e-mail para o link de confirmao!")}}catch(D){b(D.error_description||D.message)}finally{h(!1)}},N=async()=>{h(!0),b(null);const{error:w}=await dn.auth.signInWithOAuth({provider:"google"});w&&(b(w.message),h(!1))};return fl.useEffect(()=>{n&&(l(""),f(""),b(null),E(null),h(!1),r(!0))},[n]),n?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-sm p-8 border border-var-border-default animate-slideInUp relative",onClick:w=>w.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-center flex-col items-center mb-6",children:[y.jsx(cs,{className:"w-10 h-10 text-var-accent mb-2"}),y.jsx("h2",{className:"text-2xl font-bold text-var-fg-default",children:i?"Bem-vindo de volta":"Crie sua conta"}),y.jsx("p",{className:"text-sm text-var-fg-muted",children:i?"Faa login para continuar.":"Comece a construir seus projetos."})]}),y.jsxs("form",{onSubmit:A,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Email"}),y.jsx("input",{id:"email",type:"email",value:a,onChange:w=>l(w.target.value),required:!0,className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Senha"}),y.jsx("input",{id:"password",type:"password",value:c,onChange:w=>f(w.target.value),required:!0,minLength:6,className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})]}),_&&y.jsx("p",{className:"text-sm text-red-400",children:_}),x&&y.jsx("p",{className:"text-sm text-green-400",children:x}),y.jsx("button",{type:"submit",disabled:g,className:"w-full py-2.5 px-4 bg-var-accent text-var-accent-fg font-semibold rounded-md hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-wait",children:g?"Processando...":i?"Login":"Registrar"})]}),y.jsxs("div",{className:"relative my-4",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("span",{className:"w-full border-t border-var-border-default"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-var-bg-subtle px-2 text-var-fg-muted",children:"OU"})})]}),y.jsxs("button",{type:"button",onClick:N,disabled:g,className:"w-full flex items-center justify-center gap-3 py-2.5 px-4 bg-var-bg-interactive border border-var-border-default text-var-fg-default font-semibold rounded-md hover:bg-var-bg-default transition-colors disabled:opacity-50",children:[y.jsx(Ob,{}),"Continuar com Google"]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-sm text-var-fg-muted",children:[i?"No tem uma conta?":"J tem uma conta?"," ",y.jsx("button",{onClick:()=>{r(!i),b(null),E(null)},className:"font-semibold text-var-accent hover:underline",children:i?"Registre-se":"Faa Login"})]})}),y.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]})}):null},UN=(n,e)=>{const i=n.map(a=>`
--- FILE: ${a.name} ---
\`\`\`${a.language}
${a.content}
\`\`\`
`).join(`
`),r=Object.keys(e).length>0?`The following environment variables are available to the project via 'process.env.VARIABLE_NAME':
${JSON.stringify(e,null,2)}`:"No environment variables are currently set.";return`You are an expert senior full-stack engineer specializing in creating complete, functional, and aesthetically pleasing web applications.
- Your primary goal is to generate all necessary code files based on the user's prompt. You are proficient in a wide range of web technologies including HTML, CSS, JavaScript, TypeScript, React, Vue, Svelte, Node.js, and more.
- Always generate complete, runnable code. Do not use placeholders like "// your code here".
- For standard web projects, create an 'index.html', a CSS file for styles (e.g., 'style.css'), and a JavaScript file for logic (e.g., 'script.js').
- For React projects, use functional components, TypeScript (.tsx), and hooks.
- For styling, you can use Tailwind CSS via CDN in index.html or generate separate CSS files, whichever is more appropriate for the user's request.
- The file structure should be logical (e.g., components/, services/, assets/).
- If a 'services/supabase.ts' file exists, it means the project is integrated with Supabase. You have the ability to execute SQL queries on the user's Supabase database.
- SPECIAL COMMAND: If the user's prompt includes the word "ia" (Portuguese for "AI"), you must integrate a client-side Gemini AI feature into the project. To do this:
  - 1. Create a new file 'services/gemini.ts'. This file should initialize the GoogleGenAI client and export a function to call the Gemini model.
  - 2. The API key for this service MUST be read from an environment variable named 'GEMINI_API_KEY' (e.g., 'process.env.GEMINI_API_KEY').
  - 3. In your JSON response, you MUST include the 'environmentVariables' field and create a key named 'GEMINI_API_KEY'. Set its value to an empty string (e.g., "GEMINI_API_KEY": ""). The application will automatically populate it with the user's key.
  - 4. Update the application's UI and logic files to import and use the new Gemini service, creating the AI feature requested by the user.
- INTEGRATION - STRIPE: If the user asks to add payments or mentions Stripe, integrate it.
  - 1. Add 'https://js.stripe.com/v3/' script tag to index.html.
  - 2. Create a component to handle the checkout flow using Stripe.js.
  - 3. You MUST include 'STRIPE_PUBLIC_KEY' and 'STRIPE_SECRET_KEY' in the 'environmentVariables' field of your JSON response. The application will automatically populate them from user settings. Use 'process.env.STRIPE_PUBLIC_KEY' in the frontend code.
- INTEGRATION - NEON DB: If the user asks for a backend with a database or mentions Neon, you can use it.
  - 1. Explain that you will generate placeholder backend code that uses a PostgreSQL database.
  - 2. You MUST include 'NEON_CONNECTION_STRING' in the 'environmentVariables' field of your JSON response. The application will populate it.
  - 3. Generate example backend code (e.g., a simple Express server as a file) that uses a library like 'pg' to connect to the database using 'process.env.NEON_CONNECTION_STRING'.
- INTEGRATION - MAPS: If the user asks for a map, integrate OpenStreetMap using the Leaflet.js library.
  - 1. Add Leaflet CSS and JS links to index.html.
  - 2. Create a component that initializes a map centered on a default location.
- IMPORTANT: You MUST begin your response with a short, single-line "thought" process message explaining what you are about to do, in Portuguese. For example: "Entendido. Criando um aplicativo de lista de tarefas com React e Tailwind." After this line, you MUST add a separator '---' on a new line. Then, begin the main JSON response.
- You MUST respond with a single, valid JSON object and nothing else. Do not wrap the JSON in markdown backticks or any other text. The JSON object must contain the "message" and "files" keys, and can optionally contain "summary", "environmentVariables", and "supabaseAdminAction".
  - "message": (string) A friendly, conversational message to the user, in Portuguese.
  - "files": (array) An array of file objects. Each file object must have "name", "language", and "content".
  - "summary": (string, optional) A markdown string summarizing the files created or updated.
  - "environmentVariables": (object, optional) An object of environment variables to set. To delete a variable, set its value to null.
  - "supabaseAdminAction": (object, optional) To execute a database modification (e.g., create a table), provide an object with a "query" key containing the SQL statement to execute. Example: { "query": "CREATE TABLE posts (id bigint primary key, title text);" }. Use this ONLY for database schema or data manipulation.

Current project files:
${i.length>0?i:"Nenhum arquivo existe ainda."}

${r}
`},ON=async(n,e,i,r,a,l,c)=>{try{const f=new _l({apiKey:l}),g=UN(e,i),h=[{text:n}];c&&c.length>0&&c.forEach(x=>{h.push({inlineData:{data:x.data,mimeType:x.mimeType}})});const _=await f.models.generateContentStream({model:a,contents:{parts:h},config:{systemInstruction:g}});let b="";for await(const x of _){const E=x.text;E&&(b+=E,r(E))}return b}catch(f){console.error("Error calling Gemini API:",f);const g=f instanceof Error?f.message:"An unknown error occurred.";return JSON.stringify({message:`Ocorreu um erro ao chamar a API do Gemini: ${g}. Por favor, verifique sua chave de API e a conexo com a internet.`,files:e})}},PN=async(n,e)=>{try{const i=new _l({apiKey:e}),r=`Gere um nome de projeto criativo e curto de duas palavras (em PascalCase, sem espaos, como 'QuantumQuill') para o seguinte conceito: "${n}". Responda APENAS com o nome e nada mais.`;return(await i.models.generateContent({model:"gemini-2.0-flash",contents:r})).text.trim().replace(/[^a-zA-Z0-9]/g,"")||"NovoProjeto"}catch(i){return console.error("Error generating project name:",i),"NovoProjeto"}},LN=async(n,e,i,r)=>{try{return(await new _l({apiKey:e}).models.generateImages({model:"imagen-4.0-generate-001",prompt:n,config:{numberOfImages:i,outputMimeType:"image/png",aspectRatio:r}})).generatedImages.map(c=>c.image.imageBytes)}catch(a){throw console.error("Error calling Imagen API:",a),a}},jN=["1:1","16:9","9:16","4:3","3:4"],qN=({isOpen:n,onClose:e,onSaveImage:i,apiKey:r,onOpenApiKeyModal:a})=>{const[l,c]=H.useState(""),[f,g]=H.useState(1),[h,_]=H.useState("1:1"),[b,x]=H.useState(!1),[E,A]=H.useState(null),[N,w]=H.useState([]);fl.useEffect(()=>{n&&(c(""),w([]),A(null),x(!1))},[n]);const D=async()=>{if(!r){A("Chave de API do Gemini no encontrada. Por favor, adicione uma nas configuraes."),a();return}if(!l.trim()){A("Por favor, insira um prompt para gerar a imagem.");return}x(!0),A(null),w([]);try{const I=await LN(l,r,f,h);w(I)}catch(I){const q=I instanceof Error?I.message:"Ocorreu um erro desconhecido.";A(`Falha ao gerar imagens: ${q}`)}finally{x(!1)}},L=I=>{const Y=`${l.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").substring(0,30)||"generated"}-${Date.now()}.png`;i(I,Y)};return n?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-4xl p-6 border border-var-border-default animate-slideInUp flex flex-col max-h-[90vh]",onClick:I=>I.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(Zc,{})," Gerador de Imagem AI"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"flex-grow flex gap-6 overflow-hidden",children:[y.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Prompt"}),y.jsx("textarea",{value:l,onChange:I=>c(I.target.value),placeholder:"Ex: Um rob fofo segurando um skate vermelho, estilo de arte digital.",className:"w-full p-2 h-32 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50 resize-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-muted mb-1",children:"N de Imagens"}),y.jsx("input",{type:"number",min:"1",max:"4",value:f,onChange:I=>g(parseInt(I.target.value)),className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Proporo"}),y.jsx("select",{value:h,onChange:I=>_(I.target.value),className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default",children:jN.map(I=>y.jsx("option",{value:I,children:I},I))})]}),y.jsxs("button",{onClick:D,disabled:b,className:"w-full mt-auto flex items-center justify-center gap-2 px-4 py-2.5 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-wait",children:[y.jsx(pl,{})," ",b?"Gerando...":"Gerar Imagens"]}),E&&y.jsx("p",{className:"text-red-400 text-xs text-center mt-2",children:E})]}),y.jsxs("div",{className:"w-2/3 bg-var-bg-muted rounded-lg p-4 overflow-y-auto",children:[b&&y.jsx("div",{className:"flex items-center justify-center h-full text-var-fg-muted",children:y.jsxs("svg",{className:"animate-spin h-8 w-8",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!b&&N.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-var-fg-muted",children:[y.jsx(Zc,{}),y.jsx("p",{className:"mt-2",children:"Suas imagens geradas aparecero aqui."})]}),!b&&N.length>0&&y.jsx("div",{className:`grid gap-4 ${f>1?"grid-cols-2":"grid-cols-1"}`,children:N.map((I,q)=>y.jsxs("div",{className:"group relative",children:[y.jsx("img",{src:`data:image/png;base64,${I}`,alt:`Generated image ${q+1}`,className:"rounded-md w-full h-full object-contain"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:y.jsxs("button",{onClick:()=>L(I),className:"flex items-center gap-2 px-4 py-2 bg-var-accent text-var-accent-fg rounded-lg font-semibold hover:opacity-90",children:[y.jsx(Hv,{})," Salvar no Projeto"]})})]},q))})]})]})]})}):null},BN=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(i.supabase_project_url||""),[c,f]=H.useState(i.supabase_anon_key||""),[g,h]=H.useState(i.supabase_service_key||"");if(H.useEffect(()=>{n&&(l(i.supabase_project_url||""),f(i.supabase_anon_key||""),h(i.supabase_service_key||""))},[n,i]),!n)return null;const _=()=>{r({supabase_project_url:a,supabase_anon_key:c,supabase_service_key:g}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:b=>b.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(Gv,{})," Gerenciar Integrao Supabase"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("p",{className:"text-var-fg-muted text-sm mb-4",children:"Fornea as credenciais do seu projeto Supabase para permitir que a IA interaja com seu banco de dados. Voc pode encontr-las em seu Painel Supabase em Configuraes do Projeto > API."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-default mb-1",children:"URL do Projeto"}),y.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),placeholder:"https://seu-projeto-ref.supabase.co",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-default mb-1",children:"Chave Anon (Pblica)"}),y.jsx("input",{type:"password",value:c,onChange:b=>f(b.target.value),placeholder:"Sua chave pblica anon",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),y.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-700/50 rounded-lg",children:[y.jsx("label",{className:"block text-sm font-medium text-red-200 mb-1",children:"Chave Service Role (Secreta)"}),y.jsx("p",{className:"text-xs text-red-300/80 mb-2",children:"Esta chave concede acesso de administrador total ao seu banco de dados. Manuseie com cuidado. Ela ser armazenada com segurana no seu perfil."}),y.jsx("input",{type:"password",value:g,onChange:b=>h(b.target.value),placeholder:"Sua chave secreta service_role",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-red-500/50"})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:_,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none flex items-center gap-2",children:"Salvar Credenciais"})})]})})},GN=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(""),[c,f]=H.useState("");if(H.useEffect(()=>{n&&(l(i.stripe_public_key||""),f(i.stripe_secret_key||""))},[n,i]),!n)return null;const g=()=>{r({stripe_public_key:a,stripe_secret_key:c}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:h=>h.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(jv,{})," Gerenciar Integrao Stripe"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("p",{className:"text-var-fg-muted text-sm mb-4",children:"Fornea suas chaves de API do Stripe para permitir que a IA gere funcionalidades de pagamento. Voc pode encontr-las em seu Painel do Stripe para Desenvolvedores > Chaves de API."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-default mb-1",children:"Chave Publicvel"}),y.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value),placeholder:"pk_test_...",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-[#635BFF]/50"})]}),y.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-700/50 rounded-lg",children:[y.jsx("label",{className:"block text-sm font-medium text-red-200 mb-1",children:"Chave Secreta"}),y.jsx("p",{className:"text-xs text-red-300/80 mb-2",children:"Esta chave concede acesso total  sua conta Stripe. Manuseie com cuidado. Ela ser armazenada com segurana em seu perfil."}),y.jsx("input",{type:"password",value:c,onChange:h=>f(h.target.value),placeholder:"sk_test_...",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-red-500/50"})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:g,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-[#635BFF] hover:opacity-90 focus:outline-none flex items-center gap-2",children:"Salvar Chaves do Stripe"})})]})})},VN=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState("");if(H.useEffect(()=>{n&&l(i.neon_connection_string||"")},[n,i]),!n)return null;const c=()=>{r({neon_connection_string:a}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:f=>f.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(Bv,{})," Gerenciar Integrao Neon"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("p",{className:"text-var-fg-muted text-sm mb-4",children:"Fornea a string de conexo do seu banco de dados Neon (Postgres) para permitir que a IA gere cdigo de backend que interaja com ele. Voc pode encontr-la no painel do seu projeto Neon."}),y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-700/50 rounded-lg",children:[y.jsx("label",{className:"block text-sm font-medium text-red-200 mb-1",children:"String de Conexo"}),y.jsx("p",{className:"text-xs text-red-300/80 mb-2",children:"Esta string contm suas credenciais de banco de dados. Manuseie com cuidado. Ela ser armazenada com segurana em seu perfil."}),y.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"postgresql://user:password@host:port/dbname",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-red-500/50 font-mono text-xs"})]})}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:c,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none flex items-center gap-2",children:"Salvar String de Conexo"})})]})})},zN=({isOpen:n,onClose:e})=>n?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:i=>i.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(qv,{})," Integrao com OpenStreetMap"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"text-var-fg-muted space-y-4 text-sm",children:[y.jsxs("p",{children:["A integrao com o OpenStreetMap  feita atravs de bibliotecas de frontend como a ",y.jsx("a",{href:"https://leafletjs.com/",target:"_blank",rel:"noopener noreferrer",className:"text-var-accent hover:underline",children:"Leaflet.js"}),"."]}),y.jsx("p",{children:"No  necessria nenhuma configurao de chave de API aqui. A IA j sabe como gerar o cdigo necessrio para adicionar um mapa ao seu projeto."}),y.jsxs("div",{className:"bg-var-bg-interactive p-4 rounded-lg border border-var-border-default",children:[y.jsx("h3",{className:"font-semibold text-var-fg-default mb-2",children:"Como usar:"}),y.jsx("p",{children:"Simplesmente pea  IA no chat. Por exemplo:"}),y.jsx("code",{className:"block bg-var-bg-muted p-2 rounded-md mt-2 text-xs font-mono text-var-fg-default",children:`"Adicione uma pgina de 'Contato' com um mapa mostrando o endereo da nossa empresa."`})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Entendi"})})]})}):null,HN=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(""),[c,f]=H.useState("");H.useEffect(()=>{n&&(l(i.google_cloud_project_id||""),f(i.google_cloud_service_account_key||""))},[n,i]);const g=()=>{r({google_cloud_project_id:a,google_cloud_service_account_key:c}),e()};return n?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Google Cloud Platform Integration"}),y.jsx("p",{className:"mb-4",children:"Connect your Google Cloud project to enable powerful backend services. You can find this information in your GCP console."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"gcp-project-id",className:"block text-sm font-medium text-gray-700",children:"Google Cloud Project ID"}),y.jsx("input",{type:"text",id:"gcp-project-id",value:a,onChange:h=>l(h.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"my-gcp-project-12345"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"gcp-sa-key",className:"block text-sm font-medium text-gray-700",children:"Service Account Key (JSON)"}),y.jsx("textarea",{id:"gcp-sa-key",rows:8,value:c,onChange:h=>f(h.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:`{
  "type": "service_account",
  "project_id": "...",
  "private_key_id": "...",
  "..."
}`})]})]}),y.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),y.jsx("button",{onClick:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})]})]})}):null},$N=async n=>{if(typeof JSZip>"u")throw new Error("A biblioteca JSZip no foi carregada.");const e=new JSZip;return n.forEach(i=>{e.file(i.name,i.content)}),e.generateAsync({type:"blob"})},JN=async(n,e="ai-codegen-project")=>{try{const i=await $N(n),r=document.createElement("a");r.href=URL.createObjectURL(i),r.download=`${e}.zip`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}catch(i){console.error("Error creating zip file:",i);const r=i instanceof Error?i.message:"Ocorreu um erro desconhecido ao criar o arquivo zip.";alert(r)}},FN=async(n,e,i,r)=>{try{const a=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n,existingFiles:e,provider:be.OpenAI,model:r})});if(!a.ok||!a.body){const g=await a.text();throw new Error(g||`HTTP error! status: ${a.status}`)}const l=a.body.getReader(),c=new TextDecoder;let f="";for(;;){const{done:g,value:h}=await l.read();if(g)break;const _=c.decode(h,{stream:!0});f+=_,i(_)}return f}catch(a){console.error("Error calling backend proxy for OpenAI:",a);const l=a instanceof Error?a.message:"An unknown error occurred.",c=JSON.stringify({message:`Ocorreu um erro: ${l}. Por favor, verifique o console do backend para mais detalhes.`,files:e});return i(c),c}},YN=async(n,e,i,r)=>{var a;try{const l=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n,existingFiles:e,provider:be.DeepSeek,model:r})});if(!l.ok||!l.body){const h=await l.text();try{const _=JSON.parse(h);throw new Error(((a=_.error)==null?void 0:a.message)||`HTTP error! status: ${l.status}`)}catch(_){throw console.error("Failed to parse error JSON:",_),new Error(`Erro da API DeepSeek: ${h}`)}}const c=l.body.getReader(),f=new TextDecoder;let g="";for(;;){const{done:h,value:_}=await c.read();if(h)break;const b=f.decode(_,{stream:!0});g+=b,i(b)}return g}catch(l){console.error("Error calling backend proxy for DeepSeek:",l);const c=l instanceof Error?l.message:"An unknown error occurred.",f=JSON.stringify({message:`Ocorreu um erro: ${c}. Por favor, verifique o console do backend para mais detalhes.`,files:e});return i(f),f}},KN=(n,e)=>{const i=n.map(a=>`
--- FILE: ${a.name} ---
\`\`\`${a.language}
${a.content}
\`\`\`
`).join(`
`),r=Object.keys(e).length>0?`The following environment variables are available to the project via 'process.env.VARIABLE_NAME':
${JSON.stringify(e,null,2)}`:"No environment variables are currently set.";return`You are an expert senior full-stack engineer specializing in creating complete, functional, and aesthetically pleasing web applications.
- Your primary goal is to generate all necessary code files based on the user's prompt. You are proficient in a wide range of web technologies including HTML, CSS, JavaScript, TypeScript, React, Vue, Svelte, Node.js, and more.
- Always generate complete, runnable code. Do not use placeholders like "// your code here".
- For standard web projects, create an 'index.html', a CSS file for styles (e.g., 'style.css'), and a JavaScript file for logic (e.g., 'script.js').
- For React projects, use functional components, TypeScript (.tsx), and hooks.
- For styling, you can use Tailwind CSS via CDN in index.html or generate separate CSS files, whichever is more appropriate for the user's request.
- The file structure should be logical (e.g., components/, services/, assets/).
- If a 'services/supabase.ts' file exists, it means the project is integrated with Supabase. You have the ability to execute SQL queries on the user's Supabase database.
- You MUST respond with a single, valid JSON object and nothing else. Do not wrap the JSON in markdown backticks or any other text. The JSON object must contain the "message" and "files" keys, and can optionally contain "summary", "environmentVariables", and "supabaseAdminAction".
  - "message": (string) A friendly, conversational message to the user, in Portuguese.
  - "files": (array) An array of file objects. Each file object must have "name", "language", and "content".
  - "summary": (string, optional) A markdown string summarizing the files created or updated.
  - "environmentVariables": (object, optional) An object of environment variables to set. To delete a variable, set its value to null.
  - "supabaseAdminAction": (object, optional) To execute a database modification (e.g., create a table), provide an object with a "query" key containing the SQL statement to execute. Example: { "query": "CREATE TABLE posts (id bigint primary key, title text);" }. Use this ONLY for database schema or data manipulation.

Current project files:
${i.length>0?i:"Nenhum arquivo existe ainda."}

${r}
`},QN=async(n,e,i,r,a,l)=>{var f;const c=KN(e,i);try{const g=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"HTTP-Referer":"https://codagem.studio","X-Title":"Codagem Studio"},body:JSON.stringify({model:l,messages:[{role:"system",content:c},{role:"user",content:n}],temperature:.1,top_p:.9,response_format:{type:"json_object"},stream:!0})});if(!g.ok||!g.body){const x=await g.text();try{const E=JSON.parse(x);throw new Error(((f=E.error)==null?void 0:f.message)||`HTTP error! status: ${g.status}`)}catch(E){throw console.error("Failed to parse error JSON:",E),new Error(`Erro na API OpenRouter: ${x}`)}}const h=g.body.getReader(),_=new TextDecoder;let b="";for(;;){const{done:x,value:E}=await h.read();if(x)break;const N=_.decode(E,{stream:!0}).split(`
`).filter(w=>w.trim()!=="");for(const w of N)if(w.startsWith("data: ")){const D=w.substring(6);if(D==="[DONE]")break;try{const L=JSON.parse(D);if(L.choices&&L.choices[0].delta&&L.choices[0].delta.content){const I=L.choices[0].delta.content;b+=I,r(I)}}catch(L){console.error("Error parsing stream data chunk:",w,L)}}}return b}catch(g){console.error("Error generating code with OpenRouter:",g);const h=g instanceof Error?g.message:"An unknown error occurred.";return JSON.stringify({message:`Ocorreu um erro: ${h}. Por favor, verifique sua chave OpenRouter e a conexo com a internet.`,files:e})}};function XN(n,e){const i=e instanceof Function?e():e;if(typeof window>"u"||typeof window.localStorage>"u")return i;try{const r=localStorage.getItem(n);if(r){const a=JSON.parse(r);return a===null?i:Array.isArray(i)?Array.isArray(a)?a.filter(l=>l!=null):i:typeof i=="object"&&i!==null?typeof a=="object"&&a!==null&&!Array.isArray(a)?{...i,...a}:i:a}}catch(r){return console.error(`Error reading localStorage key "${n}":`,r),i}return i}function Qc(n,e){const[i,r]=H.useState(()=>XN(n,e));return H.useEffect(()=>{if(typeof window>"u"||typeof window.localStorage>"u"){console.warn(`localStorage is not available. State for key "${n}" will not be persisted.`);return}try{localStorage.setItem(n,JSON.stringify(i))}catch(a){console.error(`Error writing to localStorage key "${n}":`,a)}},[n,i]),[i,r]}be.Gemini,be.OpenAI,be.OpenAI,be.OpenAI,be.DeepSeek,be.DeepSeek,be.OpenRouter,be.OpenRouter,be.OpenRouter,be.OpenRouter,be.OpenRouter,be.OpenRouter;const ZN=({onToggleSidebar:n,onToggleChat:e,projectName:i,session:r})=>y.jsxs("div",{className:"lg:hidden flex justify-between items-center p-2 bg-var-bg-subtle border-b border-var-border-default flex-shrink-0",children:[y.jsx("button",{onClick:n,className:"p-2 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Gb,{})}),y.jsx("h1",{className:"text-sm font-semibold text-var-fg-default truncate",children:i}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("button",{onClick:e,className:"p-2 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Vb,{})})})]}),WN=({projectName:n,generatingFile:e})=>{const[i,r]=H.useState(45);return H.useEffect(()=>{const a=setInterval(()=>{r(l=>l>10?l-1:l>2?l-.5:1)},1e3);return()=>{clearInterval(a)}},[]),y.jsxs("div",{className:"absolute inset-0 bg-var-bg-default/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center text-var-fg-default animate-fadeIn",children:[y.jsx(cs,{className:"w-12 h-12 text-var-accent animate-pulse",style:{animationDuration:"2s"}}),y.jsx("h2",{className:"mt-4 text-2xl font-bold",children:"Gerando seu novo projeto..."}),y.jsx("p",{className:"text-lg text-var-fg-muted",children:n}),y.jsxs("div",{className:"mt-8 text-center space-y-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-var-fg-subtle",children:"Criando arquivo:"}),y.jsx("p",{className:"text-base font-mono text-var-fg-default bg-var-bg-subtle px-3 py-1.5 rounded-md inline-block min-w-[220px] text-center transition-all duration-300",children:e})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-var-fg-subtle",children:"Tempo estimado restante:"}),y.jsxs("p",{className:"text-base font-semibold text-var-fg-default",children:[Math.ceil(i)," segundos"]})]})]})]})},eR=n=>{const e=n.indexOf("{"),i=n.lastIndexOf("}");if(e===-1||i===-1||i<e)throw console.error("Could not find valid JSON object delimiters {} in AI response:",n),new Error("No foi encontrado nenhum objeto JSON vlido na resposta da IA. A resposta pode estar incompleta ou em um formato inesperado.");const r=n.substring(e,i+1);try{return JSON.parse(r)}catch(a){console.error("Failed to parse extracted JSON:",a),console.error("Extracted JSON string:",r);const l=a instanceof Error?a.message:"Erro de anlise desconhecido.";throw new Error(`A resposta da IA continha um JSON malformado. Detalhes: ${l}`)}},Xc={files:[],activeFile:null,chatMessages:[{role:"assistant",content:Jv}],projectName:"NovoProjeto",envVars:{},currentProjectId:null},tR=()=>{var Ss,oi,Do,Er,wr;const[n,e]=Qc("codegen-studio-project",Xc),{files:i,activeFile:r,chatMessages:a,projectName:l,envVars:c,currentProjectId:f}=n,[g,h]=H.useState([]),[_,b]=H.useState(),[x,E]=H.useState(!1),[A,N]=H.useState(!1),[w,D]=H.useState(!1),[L,I]=H.useState(!1),[q,Y]=H.useState(!1),[V,B]=H.useState(!1),[Z,Q]=H.useState(!1),[se,ue]=H.useState(!1),[oe,Ee]=H.useState(!1),[Ye,Ie]=H.useState(!1),[U,K]=H.useState(!1),[de,Re]=H.useState(!1),[ge,R]=H.useState(!1),[$,te]=H.useState(!1),[X,pe]=H.useState(null),[me,ke]=Qc("is-pro-user",!1),[ft,tt]=Qc("theme","dark"),[Rn,Tn]=H.useState(null),[hs,Mn]=H.useState(!1),[In,ti]=H.useState("Preparando..."),[ni,ii]=H.useState(null),[Li,ps]=H.useState({provider:be.Gemini,model:"gemini-2.0-flash"}),[ji,qi]=H.useState(0);H.useEffect(()=>{const W=new Date().toDateString(),ee=localStorage.getItem("dailyUsage");localStorage.getItem("dailyUsageDate")===W&&ee?qi(parseInt(ee,10)):(qi(0),localStorage.setItem("dailyUsage","0"),localStorage.setItem("dailyUsageDate",W))},[]),H.useEffect(()=>{localStorage.setItem("dailyUsage",ji.toString())},[ji]);const[Te,Ro]=H.useState(null),[Nt,Mo]=H.useState(!0),[ms,gs]=H.useState(null),Rt=window.location.protocol.startsWith("http"),Wt=(X==null?void 0:X.gemini_api_key)||zm;H.useEffect(()=>{document.documentElement.className=ft},[ft]);const vs=H.useCallback(async W=>{try{const{data:ee,error:ne}=await dn.from("profiles").select("*").eq("id",W.id).single();if(ne&&ne.code!=="PGRST116")throw ne;pe(ee);const{data:ve,error:nt}=await dn.from("projects").select("*").eq("user_id",W.id);if(nt)throw nt;h(ve||[])}catch(ee){console.error("Error fetching user data:",ee)}},[]);H.useEffect(()=>{const W=async()=>{const{data:{session:ne}}=await dn.auth.getSession();Ro(ne),ne!=null&&ne.user&&await vs(ne.user),Mo(!1)};Mo(!0),W();const{data:{subscription:ee}}=dn.auth.onAuthStateChange(async(ne,ve)=>{Ro(ve),ve!=null&&ve.user?(await vs(ve.user),ms&&(ms(),gs(null))):(pe(null),h([]))});return()=>{ee.unsubscribe()}},[vs,ms]);const En=H.useCallback(()=>{const W=()=>{if(e(Xc),ii(null),b("welcome"),E(!1),N(!1),Rt){const ee=new URL(window.location.href);ee.searchParams.delete("projectId"),window.history.pushState({path:ee.href},"",ee.href)}};n.files.length>0?window.confirm("Tem certeza de que deseja iniciar um novo projeto? Seu trabalho local atual ser perdido.")&&W():W()},[n,Rt,e]),ys=H.useCallback(async()=>{const{error:W}=await dn.auth.signOut();if(W){alert(`Erro ao tentar sair: ${W.message}`);return}if(e(Xc),b("welcome"),Rt){const ee=new URL(window.location.href);ee.searchParams.delete("projectId"),window.history.pushState({path:ee.href},"",ee.href)}},[e,Rt]),kn=H.useCallback((W,ee=!0)=>{var ve,nt;if(ee&&n.files.length>0&&!window.confirm("Carregar este projeto substituir seu trabalho local atual. Deseja continuar?"))return;const ne=g.find(De=>De.id===W);if(ne){if(e({files:ne.files,projectName:ne.name,chatMessages:ne.chat_history,envVars:ne.env_vars||{},currentProjectId:ne.id,activeFile:((ve=ne.files.find(De=>De.name.includes("html")))==null?void 0:ve.name)||((nt=ne.files[0])==null?void 0:nt.name)||null}),Rt){const De=new URL(window.location.href);De.searchParams.set("projectId",String(ne.id)),window.history.pushState({path:De.href},"",De.href)}ii(null),Mn(!1),b("editor")}else if(alert("No foi possvel carregar o projeto. Ele pode ter sido excludo ou ainda no foi carregado."),Rt){const De=new URL(window.location.href);De.searchParams.delete("projectId"),window.history.pushState({path:De.href},"",De.href)}},[n.files.length,g,e,Rt]);H.useEffect(()=>{if(Nt||_)return;const ee=new URLSearchParams(window.location.search).get("projectId");if(Rt&&ee){const ne=parseInt(ee,10);if(g.some(nt=>nt.id===ne)){kn(ne,!1),b("editor");return}}i.length>0?b("editor"):b("welcome")},[_,g,i.length,kn,Rt,Nt]),H.useEffect(()=>{if(Rt){const W=new URLSearchParams(window.location.search);W.has("payment")&&W.get("payment")==="success"&&(ke(!0),window.history.replaceState({},document.title,window.location.pathname))}},[ke,Rt]);const lt=H.useCallback(async W=>{if(!(Te!=null&&Te.user))return;const ee={...W,id:Te.user.id,updated_at:new Date().toISOString()},{data:ne,error:ve}=await dn.from("profiles").upsert(ee).select().single();ve?(alert(`Erro ao salvar configuraes: ${ve.message}`),console.error("Supabase save settings error:",ve)):pe(ne)},[Te]),hn=H.useCallback(async W=>{if(!(X!=null&&X.supabase_project_url)||!(X!=null&&X.supabase_service_key)){const ee="As credenciais do Supabase no esto configuradas. Por favor, adicione-as nas integraes para executar aes de banco de dados.";e(ne=>({...ne,chatMessages:[...ne.chatMessages,{role:"assistant",content:`Erro: ${ee}`}]})),Ie(!0);return}try{const ee=await fetch("/api/supabase-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUrl:X.supabase_project_url,serviceKey:X.supabase_service_key,query:W.query})}),ne=await ee.json();if(!ee.ok||!ne.success)throw new Error(ne.error||"Falha ao executar a ao do Supabase.");e(ve=>({...ve,chatMessages:[...ve.chatMessages,{role:"system",content:"Ao do banco de dados executada com sucesso."}]}))}catch(ee){const ne=ee instanceof Error?ee.message:"Ocorreu um erro desconhecido.";e(ve=>({...ve,chatMessages:[...ve.chatMessages,{role:"assistant",content:`Erro ao executar a ao do banco de dados: ${ne}`}]}))}},[X,e]),st=H.useCallback(async(W,ee,ne,ve=[])=>{if(ii(null),ps({provider:ee,model:ne}),W.toLowerCase().includes("ia"),be.Gemini,ee===be.OpenRouter&&!(X!=null&&X.openrouter_api_key)){Tn({prompt:W,provider:ee,model:ne,attachments:ve}),Y(!0);return}if((ee===be.OpenAI||ee===be.DeepSeek)&&!me){alert("Este modelo est disponvel apenas para usurios Pro. Por favor, atualize seu plano na pgina de preos.");return}const nt=n.files.length===0,De={role:"user",content:W},$e={role:"assistant",content:"Pensando...",isThinking:!0},bt=_!=="editor"?[De,$e]:[...n.chatMessages,De,$e];if(e(ut=>({...ut,chatMessages:bt})),_!=="editor"&&b("editor"),nt&&Wt){Mn(!0),ti("Analisando o prompt...");const ut=await PN(W,Wt);e(xt=>({...xt,projectName:ut})),ti("Preparando para gerar arquivos...")}let Un=!1,ai="";const xs=ut=>{if(ai+=ut,!Un){const xt=ai.indexOf(`
---
`);if(xt!==-1){const Ot=ai.substring(0,xt).trim();e(qe=>{const je=[...qe.chatMessages],rt=je[je.length-1];return rt!=null&&rt.isThinking&&(rt.content=Ot),{...qe,chatMessages:je}}),Un=!0}}if(hs){const xt=[...ai.matchAll(/"name":\s*"([^"]+)"/g)];if(xt.length>0){const qe=xt[xt.length-1][1];ti(je=>je===qe?je:qe)}}};if(ee===be.Gemini&&Wt===zm){if(!(Te!=null&&Te.user)){alert("Voc precisa estar logado para usar o Gemini com a chave padro."),Mn(!1);return}if(!me&&ji>=8){alert("Voc atingiu o limite dirio de 8 usos do Gemini. Atualize para o plano Pro para uso ilimitado ou adicione sua prpria chave API."),Mn(!1);return}me||qi(ut=>ut+1)}try{let ut;switch(ee){case be.Gemini:ut=await ON(W,n.files,n.envVars,xs,ne,Wt,ve);break;case be.OpenAI:ut=await FN(W,n.files,xs,ne);break;case be.DeepSeek:ut=await YN(W,n.files,xs,ne);break;case be.OpenRouter:ut=await QN(W,n.files,n.envVars,xs,X.openrouter_api_key,ne);break;default:throw new Error("Provedor de IA no suportado")}let xt=ut;const Ot=ut.indexOf(`
---
`);Ot!==-1&&(xt=ut.substring(Ot+5));const qe=eR(xt);qe.files&&Array.isArray(qe.files)&&e(je=>{const rt=new Map(je.files.map(Ke=>[Ke.name,Ke]));qe.files.forEach(Ke=>{rt.set(Ke.name,Ke)});const Tt=Array.from(rt.values());let Vt=je.activeFile;return qe.files.length>0&&!Vt&&(Vt=(qe.files.find(Uo=>Uo.name.includes("html"))||qe.files[0]).name),{...je,files:Tt,activeFile:Vt}}),qe.environmentVariables&&(qe.environmentVariables.GEMINI_API_KEY!==void 0&&(X!=null&&X.gemini_api_key)&&(qe.environmentVariables.GEMINI_API_KEY=X.gemini_api_key),e(je=>{const rt={...je.envVars};for(const[Tt,Vt]of Object.entries(qe.environmentVariables))Vt===null?delete rt[Tt]:rt[Tt]=Vt;return{...je,envVars:rt}})),e(je=>{const rt=[...je.chatMessages],Tt=rt[rt.length-1];return(Tt==null?void 0:Tt.role)==="assistant"?(Tt.content=qe.message||"Gerao concluda.",Tt.summary=qe.summary,Tt.isThinking=!1,{...je,chatMessages:rt}):je}),qe.supabaseAdminAction&&await hn(qe.supabaseAdminAction)}catch(ut){console.error("Error handling send message:",ut);const xt=ut instanceof Error?ut.message:"Ocorreu um erro desconhecido";e(Ot=>{const qe=[...Ot.chatMessages],je=qe[qe.length-1];return(je==null?void 0:je.role)==="assistant"?(je.content=`Erro: ${xt}`,je.isThinking=!1):qe.push({role:"assistant",content:`Erro: ${xt}`,isThinking:!1}),{...Ot,chatMessages:qe}})}finally{nt&&Mn(!1)}},[n,Wt,me,_,X,hn,e,ii,ps,I,Tn,Mn,ti,Y]);H.useEffect(()=>{if(!Rn)return;const{prompt:W,provider:ee,model:ne,attachments:ve}=Rn;let nt=!1;(ee===be.Gemini&&Wt||ee===be.OpenRouter&&(X!=null&&X.openrouter_api_key))&&(nt=!0),nt&&(Tn(null),st(W,ee,ne,ve))},[Rn,Wt,X,st]);const xl=H.useCallback(()=>{if(!ni||!Li)return;const W=`O cdigo anterior gerou um erro de visualizao: "${ni}". Por favor, analise os arquivos e corrija o erro. Fornea apenas os arquivos modificados.`;st(W,Li.provider,Li.model)},[ni,Li,st]),Tr=H.useCallback(async()=>{if(console.log("handleSaveProject called"),!Te){console.log("No session, opening auth modal"),gs(()=>()=>Tr()),ue(!0);return}if(i.length===0){alert("No  possvel salvar um projeto vazio.");return}console.log("Saving project:",l,i.length,"files");const W={name:l,files:i,chat_history:a,env_vars:c,user_id:Te.user.id,updated_at:new Date().toISOString()};if(f){console.log("Updating existing project:",f);const{data:ee,error:ne}=await dn.from("projects").update(W).eq("id",f).select().single();ne?(console.error("Update error:",ne),alert(`Erro ao atualizar o projeto: ${ne.message}`)):(console.log("Update success:",ee),h(g.map(ve=>ve.id===f?ee:ve)),alert(`Projeto "${l}" atualizado com sucesso!`))}else{console.log("Inserting new project");const{data:ee,error:ne}=await dn.from("projects").insert(W).select().single();ne?(console.error("Insert error:",ne),alert(`Erro ao salvar o projeto: ${ne.message}`)):(console.log("Insert success:",ee),e(ve=>({...ve,currentProjectId:ee.id})),h([...g,ee]),alert(`Projeto "${l}" salvo com sucesso!`))}},[Te,i,l,a,c,f,g,e]),Tl=H.useCallback(async W=>{const{error:ee}=await dn.from("projects").delete().eq("id",W);ee?alert(`Erro ao excluir o projeto: ${ee.message}`):(h(ne=>ne.filter(ve=>ve.id!==W)),f===W&&En(),alert("Projeto excludo com sucesso."))},[f,En]),si=()=>{Te?D(!0):(gs(()=>()=>D(!0)),ue(!0))},_s=H.useCallback(()=>{if(n.files.length===0){alert("No h arquivos para executar. Gere algum cdigo primeiro.");return}Q(!0)},[n]),ri=H.useCallback(()=>{JN(n.files,n.projectName)},[n.files,n.projectName]),pn=H.useCallback(W=>{const ee=W.find(ne=>ne.name.endsWith("index.html"))||W[0];e(ne=>({...ne,files:W,chatMessages:[{role:"assistant",content:Jv},{role:"assistant",content:`Importei ${W.length} arquivos. O que voc gostaria de construir ou modificar?`}],activeFile:(ee==null?void 0:ee.name)||null,projectName:"ProjetoImportado",currentProjectId:null})),B(!1),b("editor")},[e]),bs=H.useCallback((W,ee)=>{const ne={name:`assets/${ee}`,language:"image",content:W};e(ve=>{const De=ve.files.find($e=>$e.name===ne.name)?ve.files.map($e=>$e.name===ne.name?ne:$e):[...ve.files,ne];return{...ve,files:De}}),alert(`Imagem "${ne.name}" salva no projeto!`),Ee(!1)},[e]),Dn=H.useCallback(W=>{e(ee=>{var nt;const ne=ee.files.filter(De=>De.name!==W);let ve=ee.activeFile;if(ee.activeFile===W)if(ne.length>0){const De=ee.files.findIndex(bt=>bt.name===W),$e=Math.max(0,De-1);ve=((nt=ne[$e])==null?void 0:nt.name)||null}else ve=null;return{...ee,files:ne,activeFile:ve}})},[e]),Io=H.useCallback((W,ee)=>{if(n.files.some(ne=>ne.name===ee)){alert(`Um arquivo chamado "${ee}" j existe.`);return}e(ne=>{const ve=ne.files.map(De=>De.name===W?{...De,name:ee}:De),nt=ne.activeFile===W?ee:ne.activeFile;return{...ne,files:ve,activeFile:nt}})},[n,e]);H.useEffect(()=>{const W=()=>{window.innerWidth>=1024&&(E(!1),N(!1))};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const ko=()=>{switch(_){case"welcome":return y.jsx(Bm,{session:Te,onLoginClick:()=>ue(!0),onPromptSubmit:W=>st(W,be.Gemini,"gemini-2.0-flash",[]),onShowPricing:()=>b("pricing"),onShowProjects:()=>b("projects"),onOpenGithubImport:()=>B(!0),onFolderImport:pn,onNewProject:En,onLogout:ys});case"pricing":return y.jsx(tA,{onBack:()=>b(i.length>0?"editor":"welcome"),onNewProject:En});case"projects":return y.jsx(nA,{projects:g,onLoadProject:kn,onDeleteProject:Tl,onBack:()=>b(i.length>0?"editor":"welcome"),onNewProject:En});case"editor":return y.jsxs("div",{className:"flex flex-col h-screen bg-var-bg-default",children:[y.jsx(ZN,{onToggleSidebar:()=>E(!0),onToggleChat:()=>N(!0),projectName:l,session:Te}),y.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[hs&&y.jsx(WN,{projectName:l,generatingFile:In}),y.jsx("div",{className:"hidden lg:block w-[320px] flex-shrink-0",children:y.jsx(jm,{files:i,envVars:c,onEnvVarChange:W=>e(ee=>({...ee,envVars:W})),activeFile:r,onFileSelect:W=>e(ee=>({...ee,activeFile:W})),onDownload:ri,onOpenSettings:si,onOpenGithubImport:()=>B(!0),onOpenSupabaseAdmin:()=>Ie(!0),onSaveProject:Tr,onOpenProjects:()=>b("projects"),onNewProject:En,onOpenImageStudio:()=>Ee(!0),onRenameFile:Io,onDeleteFile:Dn,onOpenStripeModal:()=>K(!0),onOpenNeonModal:()=>Re(!0),onOpenOSMModal:()=>R(!0),onOpenGoogleCloudModal:()=>te(!0),session:Te,onLogin:()=>ue(!0),onLogout:ys})}),x&&y.jsx("div",{className:"absolute top-0 left-0 h-full w-full bg-black z-20 lg:hidden",onClick:()=>E(!1),children:y.jsx("div",{className:"w-[320px] h-full bg-var-bg-subtle shadow-2xl",onClick:W=>W.stopPropagation(),children:y.jsx(jm,{files:i,envVars:c,onEnvVarChange:W=>e(ee=>({...ee,envVars:W})),activeFile:r,onFileSelect:W=>{e(ee=>({...ee,activeFile:W})),E(!1)},onDownload:()=>{ri(),E(!1)},onOpenSettings:()=>{si(),E(!1)},onOpenGithubImport:()=>{B(!0),E(!1)},onOpenSupabaseAdmin:()=>{Ie(!0),E(!1)},onSaveProject:()=>{Tr(),E(!1)},onOpenProjects:()=>{b("projects"),E(!1)},onNewProject:En,onOpenImageStudio:()=>{Ee(!0),E(!1)},onClose:()=>E(!1),onRenameFile:Io,onDeleteFile:Dn,onOpenStripeModal:()=>{K(!0),E(!1)},onOpenNeonModal:()=>{Re(!0),E(!1)},onOpenOSMModal:()=>{R(!0),E(!1)},onOpenGoogleCloudModal:()=>{te(!0),E(!1)},session:Te,onLogin:()=>{ue(!0),E(!1)},onLogout:()=>{ys(),E(!1)}})})}),y.jsx("main",{className:"flex-1 min-w-0",children:y.jsx(rS,{files:i,activeFile:r,projectName:l,theme:ft,onThemeChange:tt,onFileSelect:W=>e(ee=>({...ee,activeFile:W})),onFileDelete:Dn,onRunLocally:_s,codeError:ni,onFixCode:xl,onClearError:()=>ii(null),onError:ii,envVars:c})}),y.jsx("div",{className:"hidden lg:block w-full max-w-sm xl:max-w-md flex-shrink-0",children:y.jsx(Hm,{messages:a,onSendMessage:st,isProUser:me})}),A&&y.jsx("div",{className:"absolute top-0 right-0 h-full w-full bg-black z-20 lg:hidden",onClick:()=>N(!1),children:y.jsx("div",{className:"absolute right-0 w-full max-w-sm h-full bg-var-bg-subtle shadow-2xl",onClick:W=>W.stopPropagation(),children:y.jsx(Hm,{messages:a,onSendMessage:st,isProUser:me,onClose:()=>N(!1)})})})]})]});default:return y.jsx(Bm,{session:Te,onLoginClick:()=>ue(!0),onPromptSubmit:W=>st(W,be.Gemini,"gemini-2.0-flash",[]),onShowPricing:()=>b("pricing"),onShowProjects:()=>b("projects"),onOpenGithubImport:()=>B(!0),onFolderImport:pn,onNewProject:En,onLogout:ys})}};return y.jsxs("div",{className:ft,children:[ko(),y.jsx(DN,{isOpen:se,onClose:()=>ue(!1)}),y.jsx(KC,{isOpen:w&&!!Te,onClose:()=>D(!1),settings:X||{id:((Ss=Te==null?void 0:Te.user)==null?void 0:Ss.id)||""},onSave:lt}),y.jsx(BN,{isOpen:Ye&&!!Te,onClose:()=>Ie(!1),settings:X||{id:((oi=Te==null?void 0:Te.user)==null?void 0:oi.id)||""},onSave:lt}),y.jsx(GN,{isOpen:U&&!!Te,onClose:()=>K(!1),settings:X||{id:((Do=Te==null?void 0:Te.user)==null?void 0:Do.id)||""},onSave:lt}),y.jsx(VN,{isOpen:de&&!!Te,onClose:()=>Re(!1),settings:X||{id:((Er=Te==null?void 0:Te.user)==null?void 0:Er.id)||""},onSave:lt}),y.jsx(zN,{isOpen:ge,onClose:()=>R(!1)}),y.jsx(QC,{isOpen:L,onClose:()=>{I(!1),Tn(null)},onSave:W=>lt({gemini_api_key:W})}),y.jsx(XC,{isOpen:q,onClose:()=>{Y(!1),Tn(null)},onSave:W=>lt({openrouter_api_key:W})}),y.jsx(sA,{isOpen:V,onClose:()=>B(!1),onImport:pn,githubToken:X==null?void 0:X.github_access_token,onOpenSettings:()=>{B(!1),si()}}),y.jsx(rA,{isOpen:Z,onClose:()=>Q(!1),onDownload:ri,projectName:l}),y.jsx(qN,{isOpen:oe,onClose:()=>Ee(!1),onSaveImage:bs,apiKey:Wt,onOpenApiKeyModal:()=>{Ee(!1),I(!0)}}),y.jsx(HN,{isOpen:$&&!!Te,onClose:()=>te(!1),settings:X||{id:((wr=Te==null?void 0:Te.user)==null?void 0:wr.id)||""},onSave:lt})]})},f0=document.getElementById("root");if(!f0)throw new Error("Could not find root element to mount to");const nR=Db.createRoot(f0);nR.render(y.jsx(fl.StrictMode,{children:y.jsx(tR,{})}));
