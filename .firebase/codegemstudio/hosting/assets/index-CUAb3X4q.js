function Tb(n,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function Td(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lv(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(i,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),i}var kc={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function xb(){if(Nm)return po;Nm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return po.Fragment=e,po.jsx=i,po.jsxs=i,po}var Mm;function Eb(){return Mm||(Mm=1,kc.exports=xb()),kc.exports}var y=Eb(),Dc={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function wb(){if(Im)return Se;Im=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=T&&R[T]||R["@@iterator"],typeof R=="function"?R:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function k(R,$,X){this.props=R,this.context=$,this.refs=w,this.updater=X||C}k.prototype.isReactComponent={},k.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=k.prototype;function I(R,$,X){this.props=R,this.context=$,this.refs=w,this.updater=X||C}var G=I.prototype=new O;G.constructor=I,N(G,k.prototype),G.isPureReactComponent=!0;var Q=Array.isArray;function z(){}var B={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function Z(R,$,X){var K=X.ref;return{$$typeof:n,type:R,key:$,ref:K!==void 0?K:null,props:X}}function ue(R,$){return Z(R.type,$,R.props)}function _e(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ce(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return $[X]})}var De=/\/+/g;function le(R,$){return typeof R=="object"&&R!==null&&R.key!=null?ce(""+R.key):$.toString(36)}function he(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(z,z):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function U(R,$,X,K,ge){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var Ie=!1;if(R===null)Ie=!0;else switch(de){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(R.$$typeof){case n:case e:Ie=!0;break;case _:return Ie=R._init,U(Ie(R._payload),$,X,K,ge)}}if(Ie)return ge=ge(R),Ie=K===""?"."+le(R,0):K,Q(ge)?(X="",Ie!=null&&(X=Ie.replace(De,"$&/")+"/"),U(ge,$,X,"",function(Nn){return Nn})):ge!=null&&(_e(ge)&&(ge=ue(ge,X+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(De,"$&/")+"/")+Ie)),$.push(ge)),1;Ie=0;var Ye=K===""?".":K+":";if(Q(R))for(var nt=0;nt<R.length;nt++)K=R[nt],de=Ye+le(K,nt),Ie+=U(K,$,X,de,ge);else if(nt=E(R),typeof nt=="function")for(R=nt.call(R),nt=0;!(K=R.next()).done;)K=K.value,de=Ye+le(K,nt++),Ie+=U(K,$,X,de,ge);else if(de==="object"){if(typeof R.then=="function")return U(he(R),$,X,K,ge);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Y(R,$,X){if(R==null)return R;var K=[],ge=0;return U(R,K,"","",function(de){return $.call(X,de,ge++)}),K}function re(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var be=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ve={map:Y,forEach:function(R,$,X){Y(R,function(){$.apply(this,arguments)},X)},count:function(R){var $=0;return Y(R,function(){$++}),$},toArray:function(R){return Y(R,function($){return $})||[]},only:function(R){if(!_e(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Se.Activity=b,Se.Children=ve,Se.Component=k,Se.Fragment=i,Se.Profiler=a,Se.PureComponent=I,Se.StrictMode=r,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return B.H.useMemoCache(R)}},Se.cache=function(R){return function(){return R.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(R,$,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var K=N({},R.props),ge=R.key;if($!=null)for(de in $.key!==void 0&&(ge=""+$.key),$)!ne.call($,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&$.ref===void 0||(K[de]=$[de]);var de=arguments.length-2;if(de===1)K.children=X;else if(1<de){for(var Ie=Array(de),Ye=0;Ye<de;Ye++)Ie[Ye]=arguments[Ye+2];K.children=Ie}return Z(R.type,ge,K)},Se.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Se.createElement=function(R,$,X){var K,ge={},de=null;if($!=null)for(K in $.key!==void 0&&(de=""+$.key),$)ne.call($,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ge[K]=$[K]);var Ie=arguments.length-2;if(Ie===1)ge.children=X;else if(1<Ie){for(var Ye=Array(Ie),nt=0;nt<Ie;nt++)Ye[nt]=arguments[nt+2];ge.children=Ye}if(R&&R.defaultProps)for(K in Ie=R.defaultProps,Ie)ge[K]===void 0&&(ge[K]=Ie[K]);return Z(R,de,ge)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:f,render:R}},Se.isValidElement=_e,Se.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:re}},Se.memo=function(R,$){return{$$typeof:p,type:R,compare:$===void 0?null:$}},Se.startTransition=function(R){var $=B.T,X={};B.T=X;try{var K=R(),ge=B.S;ge!==null&&ge(X,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(z,be)}catch(de){be(de)}finally{$!==null&&X.types!==null&&($.types=X.types),B.T=$}},Se.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Se.use=function(R){return B.H.use(R)},Se.useActionState=function(R,$,X){return B.H.useActionState(R,$,X)},Se.useCallback=function(R,$){return B.H.useCallback(R,$)},Se.useContext=function(R){return B.H.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R,$){return B.H.useDeferredValue(R,$)},Se.useEffect=function(R,$){return B.H.useEffect(R,$)},Se.useEffectEvent=function(R){return B.H.useEffectEvent(R)},Se.useId=function(){return B.H.useId()},Se.useImperativeHandle=function(R,$,X){return B.H.useImperativeHandle(R,$,X)},Se.useInsertionEffect=function(R,$){return B.H.useInsertionEffect(R,$)},Se.useLayoutEffect=function(R,$){return B.H.useLayoutEffect(R,$)},Se.useMemo=function(R,$){return B.H.useMemo(R,$)},Se.useOptimistic=function(R,$){return B.H.useOptimistic(R,$)},Se.useReducer=function(R,$,X){return B.H.useReducer(R,$,X)},Se.useRef=function(R){return B.H.useRef(R)},Se.useState=function(R){return B.H.useState(R)},Se.useSyncExternalStore=function(R,$,X){return B.H.useSyncExternalStore(R,$,X)},Se.useTransition=function(){return B.H.useTransition()},Se.version="19.2.0",Se}var km;function xd(){return km||(km=1,Dc.exports=wb()),Dc.exports}var H=xd();const hl=Td(H);var Uc={exports:{}},mo={},Oc={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Cb(){return Dm||(Dm=1,(function(n){function e(U,Y){var re=U.length;U.push(Y);e:for(;0<re;){var be=re-1>>>1,ve=U[be];if(0<a(ve,Y))U[be]=Y,U[re]=ve,re=be;else break e}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],re=U.pop();if(re!==Y){U[0]=re;e:for(var be=0,ve=U.length,R=ve>>>1;be<R;){var $=2*(be+1)-1,X=U[$],K=$+1,ge=U[K];if(0>a(X,re))K<ve&&0>a(ge,X)?(U[be]=ge,U[K]=re,be=K):(U[be]=X,U[$]=re,be=$);else if(K<ve&&0>a(ge,re))U[be]=ge,U[K]=re,be=K;else break e}}return Y}function a(U,Y){var re=U.sortIndex-Y.sortIndex;return re!==0?re:U.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var g=[],p=[],_=1,b=null,T=3,E=!1,C=!1,N=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function G(U){for(var Y=i(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=U)r(p),Y.sortIndex=Y.expirationTime,e(g,Y);else break;Y=i(p)}}function Q(U){if(N=!1,G(U),!C)if(i(g)!==null)C=!0,z||(z=!0,ce());else{var Y=i(p);Y!==null&&he(Q,Y.startTime-U)}}var z=!1,B=-1,ne=5,Z=-1;function ue(){return w?!0:!(n.unstable_now()-Z<ne)}function _e(){if(w=!1,z){var U=n.unstable_now();Z=U;var Y=!0;try{e:{C=!1,N&&(N=!1,O(B),B=-1),E=!0;var re=T;try{t:{for(G(U),b=i(g);b!==null&&!(b.expirationTime>U&&ue());){var be=b.callback;if(typeof be=="function"){b.callback=null,T=b.priorityLevel;var ve=be(b.expirationTime<=U);if(U=n.unstable_now(),typeof ve=="function"){b.callback=ve,G(U),Y=!0;break t}b===i(g)&&r(g),G(U)}else r(g);b=i(g)}if(b!==null)Y=!0;else{var R=i(p);R!==null&&he(Q,R.startTime-U),Y=!1}}break e}finally{b=null,T=re,E=!1}Y=void 0}}finally{Y?ce():z=!1}}}var ce;if(typeof I=="function")ce=function(){I(_e)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,le=De.port2;De.port1.onmessage=_e,ce=function(){le.postMessage(null)}}else ce=function(){k(_e,0)};function he(U,Y){B=k(function(){U(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(U){switch(T){case 1:case 2:case 3:var Y=3;break;default:Y=T}var re=T;T=Y;try{return U()}finally{T=re}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=T;T=U;try{return Y()}finally{T=re}},n.unstable_scheduleCallback=function(U,Y,re){var be=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?be+re:be):re=be,U){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=re+ve,U={id:_++,callback:Y,priorityLevel:U,startTime:re,expirationTime:ve,sortIndex:-1},re>be?(U.sortIndex=re,e(p,U),i(g)===null&&U===i(p)&&(N?(O(B),B=-1):N=!0,he(Q,re-be))):(U.sortIndex=ve,e(g,U),C||E||(C=!0,z||(z=!0,ce()))),U},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(U){var Y=T;return function(){var re=T;T=Y;try{return U.apply(this,arguments)}finally{T=re}}}})(Pc)),Pc}var Um;function Ab(){return Um||(Um=1,Oc.exports=Cb()),Oc.exports}var Lc={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Rb(){if(Om)return Mt;Om=1;var n=xd();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:g,containerInfo:p,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,_)},Mt.flushSync=function(g){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=_,r.d.f()}},Mt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Mt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Mt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,b=f(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:E}):_==="script"&&r.d.X(g,{crossOrigin:b,integrity:T,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=f(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Mt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,b=f(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=f(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Mt.requestFormReset=function(g){r.d.r(g)},Mt.unstable_batchedUpdates=function(g,p){return g(p)},Mt.useFormState=function(g,p,_){return c.H.useFormState(g,p,_)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.0",Mt}var Pm;function Nb(){if(Pm)return Lc.exports;Pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Lc.exports=Rb(),Lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Mb(){if(Lm)return mo;Lm=1;var n=Ab(),e=xd(),i=Nb();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function c(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(l(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=l(t),s===null)throw Error(r(188));return s!==t?null:t}for(var o=t,u=s;;){var h=o.return;if(h===null)break;var v=h.alternate;if(v===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===o)return g(h),t;if(v===u)return g(h),s;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=v;else{for(var S=!1,x=h.child;x;){if(x===o){S=!0,o=h,u=v;break}if(x===u){S=!0,u=h,o=v;break}x=x.sibling}if(!S){for(x=v.child;x;){if(x===o){S=!0,o=v,u=h;break}if(x===u){S=!0,u=v,o=h;break}x=x.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),I=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=_e&&t[_e]||t["@@iterator"],typeof t=="function"?t:null)}var De=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===De?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case Q:return"Suspense";case z:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case I:return t.displayName||"Context";case O:return(t._context.displayName||"Context")+".Consumer";case G:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return s=t.displayName||null,s!==null?s:le(t.type)||"Memo";case ne:s=t._payload,t=t._init;try{return le(t(s))}catch{}}return null}var he=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},be=[],ve=-1;function R(t){return{current:t}}function $(t){0>ve||(t.current=be[ve],be[ve]=null,ve--)}function X(t,s){ve++,be[ve]=t.current,t.current=s}var K=R(null),ge=R(null),de=R(null),Ie=R(null);function Ye(t,s){switch(X(de,s),X(ge,t),X(K,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Zp(s),t=Wp(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(K),X(K,t)}function nt(){$(K),$(ge),$(de)}function Nn(t){t.memoizedState!==null&&X(Ie,t);var s=K.current,o=Wp(s,t.type);s!==o&&(X(ge,t),X(K,o))}function xn(t){ge.current===t&&($(K),$(ge)),Ie.current===t&&($(Ie),uo._currentValue=re)}var hs,Mn;function In(t){if(hs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);hs=s&&s[1]||"",Mn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+Mn}var ti=!1;function ni(t,s){if(!t||ti)return"";ti=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var j=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){j=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){j=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),S=v[0],x=v[1];if(S&&x){var A=S.split(`
`),L=x.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===L.length)for(u=A.length-1,h=L.length-1;1<=u&&0<=h&&A[u]!==L[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==L[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==L[h]){var V=`
`+A[u].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=u&&0<=h);break}}}finally{ti=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?In(o):""}function ii(t,s){switch(t.tag){case 26:case 27:case 5:return In(t.type);case 16:return In("Lazy");case 13:return t.child!==s&&s!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return ni(t.type,!1);case 11:return ni(t.type.render,!1);case 1:return ni(t.type,!0);case 31:return In("Activity");default:return""}}function Li(t){try{var s="",o=null;do s+=ii(t,o),o=t,t=t.return;while(t);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ps=Object.prototype.hasOwnProperty,ji=n.unstable_scheduleCallback,qi=n.unstable_cancelCallback,Ce=n.unstable_shouldYield,Ro=n.unstable_requestPaint,Rt=n.unstable_now,No=n.unstable_getCurrentPriorityLevel,ms=n.unstable_ImmediatePriority,gs=n.unstable_UserBlockingPriority,Nt=n.unstable_NormalPriority,Wt=n.unstable_LowPriority,vs=n.unstable_IdlePriority,En=n.log,ys=n.unstable_setDisableYieldValue,kn=null,ut=null;function hn(t){if(typeof En=="function"&&ys(t),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(kn,t)}catch{}}var rt=Math.clz32?Math.clz32:El,xl=Math.log,xr=Math.LN2;function El(t){return t>>>=0,t===0?32:31-(xl(t)/xr|0)|0}var si=256,_s=262144,ri=4194304;function pn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bs(t,s,o){var u=t.pendingLanes;if(u===0)return 0;var h=0,v=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var x=u&134217727;return x!==0?(u=x&~v,u!==0?h=pn(u):(S&=x,S!==0?h=pn(S):o||(o=x&~t,o!==0&&(h=pn(o))))):(x=u&~v,x!==0?h=pn(x):S!==0?h=pn(S):o||(o=u&~t,o!==0&&(h=pn(o)))),h===0?0:s!==0&&s!==h&&(s&v)===0&&(v=h&-h,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:h}function Dn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Mo(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=ri;return ri<<=1,(ri&62914560)===0&&(ri=4194304),t}function Ss(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function oi(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ko(t,s,o,u,h,v){var S=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var x=t.entanglements,A=t.expirationTimes,L=t.hiddenUpdates;for(o=S&~o;0<o;){var V=31-rt(o),F=1<<V;x[V]=0,A[V]=-1;var j=L[V];if(j!==null)for(L[V]=null,V=0;V<j.length;V++){var q=j[V];q!==null&&(q.lane&=-536870913)}o&=~F}u!==0&&Er(t,u,0),v!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=v&~(S&~s))}function Er(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-rt(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function wr(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var u=31-rt(o),h=1<<u;h&s|t[u]&s&&(t[u]|=s),o&=~h}}function W(t,s){var o=s&-s;return o=(o&42)!==0?1:ee(o),(o&(t.suspendedLanes|s))!==0?0:o}function ee(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function te(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ye(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:Tm(t.type))}function it(t,s){var o=Y.p;try{return Y.p=t,s()}finally{Y.p=o}}var Ue=Math.random().toString(36).slice(2),Je="__reactFiber$"+Ue,bt="__reactProps$"+Ue,Un="__reactContainer$"+Ue,ai="__reactEvents$"+Ue,Ts="__reactListeners$"+Ue,ct="__reactHandles$"+Ue,Tt="__reactResources$"+Ue,Ot="__reactMarker$"+Ue;function Be(t){delete t[Je],delete t[bt],delete t[ai],delete t[Ts],delete t[ct]}function qe(t){var s=t[Je];if(s)return s;for(var o=t.parentNode;o;){if(s=o[Un]||o[Je]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=om(t);t!==null;){if(o=t[Je])return o;t=om(t)}return s}t=o,o=t.parentNode}return null}function ot(t){if(t=t[Je]||t[Un]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function xt(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Vt(t){var s=t[Tt];return s||(s=t[Tt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qe(t){t[Ot]=!0}var Do=new Set,Bd={};function Bi(t,s){xs(t,s),xs(t+"Capture",s)}function xs(t,s){for(Bd[t]=s,t=0;t<s.length;t++)Do.add(s[t])}var h0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gd={},Vd={};function p0(t){return ps.call(Vd,t)?!0:ps.call(Gd,t)?!1:h0.test(t)?Vd[t]=!0:(Gd[t]=!0,!1)}function Uo(t,s,o){if(p0(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function Oo(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function On(t,s,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+u)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function m0(t,s,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,v=u.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){o=""+S,v.call(this,S)}}),Object.defineProperty(t,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function wl(t){if(!t._valueTracker){var s=zd(t)?"checked":"value";t._valueTracker=m0(t,s,""+t[s])}}function Hd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return t&&(u=zd(t)?t.checked?"true":"false":t.value),t=u,t!==o?(s.setValue(t),!0):!1}function Po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var g0=/[\n"\\]/g;function tn(t){return t.replace(g0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cl(t,s,o,u,h,v,S,x){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),s!=null?S==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+en(s)):t.value!==""+en(s)&&(t.value=""+en(s)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),s!=null?Al(t,S,en(s)):o!=null?Al(t,S,en(o)):u!=null&&t.removeAttribute("value"),h==null&&v!=null&&(t.defaultChecked=!!v),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+en(x):t.removeAttribute("name")}function $d(t,s,o,u,h,v,S,x){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){wl(t);return}o=o!=null?""+en(o):"",s=s!=null?""+en(s):o,x||s===t.value||(t.value=s),t.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=x?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),wl(t)}function Al(t,s,o){s==="number"&&Po(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Es(t,s,o,u){if(t=t.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=s.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+en(o),s=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Jd(t,s,o){if(s!=null&&(s=""+en(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+en(o):""}function Fd(t,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(he(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=en(s),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),wl(t)}function ws(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var v0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yd(t,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,o):typeof o!="number"||o===0||v0.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function Kd(t,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Yd(t,h,u)}else for(var v in s)s.hasOwnProperty(v)&&Yd(t,v,s[v])}function Rl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(t){return _0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var Nl=null;function Ml(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,As=null;function Qd(t){var s=ot(t);if(s&&(t=s.stateNode)){var o=t[bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Cl(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==t&&u.form===t.form){var h=u[bt]||null;if(!h)throw Error(r(90));Cl(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===t.form&&Hd(u)}break e;case"textarea":Jd(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Es(t,!!o.multiple,s,!1)}}}var Il=!1;function Xd(t,s,o){if(Il)return t(s,o);Il=!0;try{var u=t(s);return u}finally{if(Il=!1,(Cs!==null||As!==null)&&(Ea(),Cs&&(s=Cs,t=As,As=Cs=null,Qd(s),t)))for(s=0;s<t.length;s++)Qd(t[s])}}function Cr(t,s){var o=t.stateNode;if(o===null)return null;var u=o[bt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(Ln)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{kl=!1}var li=null,Dl=null,jo=null;function Zd(){if(jo)return jo;var t,s=Dl,o=s.length,u,h="value"in li?li.value:li.textContent,v=h.length;for(t=0;t<o&&s[t]===h[t];t++);var S=o-t;for(u=1;u<=S&&s[o-u]===h[v-u];u++);return jo=h.slice(t,1<u?1-u:void 0)}function qo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function Wd(){return!1}function Pt(t){function s(o,u,h,v,S){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Bo:Wd,this.isPropagationStopped=Wd,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Pt(Gi),Rr=b({},Gi,{view:0,detail:0}),b0=Pt(Rr),Ul,Ol,Nr,Vo=b({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Ul=t.screenX-Nr.screenX,Ol=t.screenY-Nr.screenY):Ol=Ul=0,Nr=t),Ul)},movementY:function(t){return"movementY"in t?t.movementY:Ol}}),ef=Pt(Vo),S0=b({},Vo,{dataTransfer:0}),T0=Pt(S0),x0=b({},Rr,{relatedTarget:0}),Pl=Pt(x0),E0=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=Pt(E0),C0=b({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A0=Pt(C0),R0=b({},Gi,{data:0}),tf=Pt(R0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=I0[t])?!!s[t]:!1}function Ll(){return k0}var D0=b({},Rr,{key:function(t){if(t.key){var s=N0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(t){return t.type==="keypress"?qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U0=Pt(D0),O0=b({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=Pt(O0),P0=b({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),L0=Pt(P0),j0=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=Pt(j0),B0=b({},Vo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=Pt(B0),V0=b({},Gi,{newState:0,oldState:0}),z0=Pt(V0),H0=[9,13,27,32],jl=Ln&&"CompositionEvent"in window,Mr=null;Ln&&"documentMode"in document&&(Mr=document.documentMode);var $0=Ln&&"TextEvent"in window&&!Mr,sf=Ln&&(!jl||Mr&&8<Mr&&11>=Mr),rf=" ",of=!1;function af(t,s){switch(t){case"keyup":return H0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function J0(t,s){switch(t){case"compositionend":return lf(s);case"keypress":return s.which!==32?null:(of=!0,rf);case"textInput":return t=s.data,t===rf&&of?null:t;default:return null}}function F0(t,s){if(Rs)return t==="compositionend"||!jl&&af(t,s)?(t=Zd(),jo=Dl=li=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sf&&s.locale!=="ko"?null:s.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Y0[t.type]:s==="textarea"}function cf(t,s,o,u){Cs?As?As.push(u):As=[u]:Cs=u,s=Ia(s,"onChange"),0<s.length&&(o=new Go("onChange","change",null,o,u),t.push({event:o,listeners:s}))}var Ir=null,kr=null;function K0(t){Jp(t,0)}function zo(t){var s=xt(t);if(Hd(s))return t}function df(t,s){if(t==="change")return s}var ff=!1;if(Ln){var ql;if(Ln){var Bl="oninput"in document;if(!Bl){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Bl=typeof hf.oninput=="function"}ql=Bl}else ql=!1;ff=ql&&(!document.documentMode||9<document.documentMode)}function pf(){Ir&&(Ir.detachEvent("onpropertychange",mf),kr=Ir=null)}function mf(t){if(t.propertyName==="value"&&zo(kr)){var s=[];cf(s,kr,t,Ml(t)),Xd(K0,s)}}function Q0(t,s,o){t==="focusin"?(pf(),Ir=s,kr=o,Ir.attachEvent("onpropertychange",mf)):t==="focusout"&&pf()}function X0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(kr)}function Z0(t,s){if(t==="click")return zo(s)}function W0(t,s){if(t==="input"||t==="change")return zo(s)}function e_(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var zt=typeof Object.is=="function"?Object.is:e_;function Dr(t,s){if(zt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!ps.call(s,h)||!zt(t[h],s[h]))return!1}return!0}function gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vf(t,s){var o=gf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=s&&u>=s)return{node:o,offset:s-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gf(o)}}function yf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?yf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function _f(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Po(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=Po(t.document)}return s}function Gl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var t_=Ln&&"documentMode"in document&&11>=document.documentMode,Ns=null,Vl=null,Ur=null,zl=!1;function bf(t,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zl||Ns==null||Ns!==Po(u)||(u=Ns,"selectionStart"in u&&Gl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ur&&Dr(Ur,u)||(Ur=u,u=Ia(Vl,"onSelect"),0<u.length&&(s=new Go("onSelect","select",null,s,o),t.push({event:s,listeners:u}),s.target=Ns)))}function Vi(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Ms={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Hl={},Sf={};Ln&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function zi(t){if(Hl[t])return Hl[t];if(!Ms[t])return t;var s=Ms[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in Sf)return Hl[t]=s[o];return t}var Tf=zi("animationend"),xf=zi("animationiteration"),Ef=zi("animationstart"),n_=zi("transitionrun"),i_=zi("transitionstart"),s_=zi("transitioncancel"),wf=zi("transitionend"),Cf=new Map,$l="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$l.push("scrollEnd");function mn(t,s){Cf.set(t,s),Bi(s,[t])}var Ho=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],Is=0,Jl=0;function $o(){for(var t=Is,s=Jl=Is=0;s<t;){var o=nn[s];nn[s++]=null;var u=nn[s];nn[s++]=null;var h=nn[s];nn[s++]=null;var v=nn[s];if(nn[s++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}v!==0&&Af(o,h,v)}}function Jo(t,s,o,u){nn[Is++]=t,nn[Is++]=s,nn[Is++]=o,nn[Is++]=u,Jl|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Fl(t,s,o,u){return Jo(t,s,o,u),Fo(t)}function Hi(t,s){return Jo(t,null,null,s),Fo(t)}function Af(t,s,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var h=!1,v=t.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(h=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,h&&s!==null&&(h=31-rt(o),t=v.hiddenUpdates,u=t[h],u===null?t[h]=[s]:u.push(s),s.lane=o|536870912),v):null}function Fo(t){if(50<no)throw no=0,nc=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ks={};function r_(t,s,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,s,o,u){return new r_(t,s,o,u)}function Yl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jn(t,s){var o=t.alternate;return o===null?(o=Ht(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Rf(t,s){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Yo(t,s,o,u,h,v){var S=0;if(u=t,typeof t=="function")Yl(t)&&(S=1);else if(typeof t=="string")S=cb(t,o,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=Ht(31,o,s,h),t.elementType=Z,t.lanes=v,t;case N:return $i(o.children,h,v,s);case w:S=8,h|=24;break;case k:return t=Ht(12,o,s,h|2),t.elementType=k,t.lanes=v,t;case Q:return t=Ht(13,o,s,h),t.elementType=Q,t.lanes=v,t;case z:return t=Ht(19,o,s,h),t.elementType=z,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:S=10;break e;case O:S=9;break e;case G:S=11;break e;case B:S=14;break e;case ne:S=16,u=null;break e}S=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return s=Ht(S,o,s,h),s.elementType=t,s.type=u,s.lanes=v,s}function $i(t,s,o,u){return t=Ht(7,t,u,s),t.lanes=o,t}function Kl(t,s,o){return t=Ht(6,t,null,s),t.lanes=o,t}function Nf(t){var s=Ht(18,null,null,0);return s.stateNode=t,s}function Ql(t,s,o){return s=Ht(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Mf=new WeakMap;function sn(t,s){if(typeof t=="object"&&t!==null){var o=Mf.get(t);return o!==void 0?o:(s={value:t,source:s,stack:Li(s)},Mf.set(t,s),s)}return{value:t,source:s,stack:Li(s)}}var Ds=[],Us=0,Ko=null,Or=0,rn=[],on=0,ui=null,wn=1,Cn="";function qn(t,s){Ds[Us++]=Or,Ds[Us++]=Ko,Ko=t,Or=s}function If(t,s,o){rn[on++]=wn,rn[on++]=Cn,rn[on++]=ui,ui=t;var u=wn;t=Cn;var h=32-rt(u)-1;u&=~(1<<h),o+=1;var v=32-rt(s)+h;if(30<v){var S=h-h%5;v=(u&(1<<S)-1).toString(32),u>>=S,h-=S,wn=1<<32-rt(s)+h|o<<h|u,Cn=v+t}else wn=1<<v|o<<h|u,Cn=t}function Xl(t){t.return!==null&&(qn(t,1),If(t,1,0))}function Zl(t){for(;t===Ko;)Ko=Ds[--Us],Ds[Us]=null,Or=Ds[--Us],Ds[Us]=null;for(;t===ui;)ui=rn[--on],rn[on]=null,Cn=rn[--on],rn[on]=null,wn=rn[--on],rn[on]=null}function kf(t,s){rn[on++]=wn,rn[on++]=Cn,rn[on++]=ui,wn=s.id,Cn=s.overflow,ui=t}var Et=null,Xe=null,ke=!1,ci=null,an=!1,Wl=Error(r(519));function di(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pr(sn(s,t)),Wl}function Df(t){var s=t.stateNode,o=t.type,u=t.memoizedProps;switch(s[Je]=t,s[bt]=u,o){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(o=0;o<so.length;o++)Re(so[o],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":Re("invalid",s),$d(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Re("invalid",s);break;case"textarea":Re("invalid",s),Fd(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Qp(s.textContent,o)?(u.popover!=null&&(Re("beforetoggle",s),Re("toggle",s)),u.onScroll!=null&&Re("scroll",s),u.onScrollEnd!=null&&Re("scrollend",s),u.onClick!=null&&(s.onclick=Pn),s=!0):s=!1,s||di(t,!0)}function Uf(t){for(Et=t.return;Et;)switch(Et.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Et=Et.return}}function Os(t){if(t!==Et)return!1;if(!ke)return Uf(t),ke=!0,!1;var s=t.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||vc(t.type,t.memoizedProps)),o=!o),o&&Xe&&di(t),Uf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Xe=rm(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Xe=rm(t)}else s===27?(s=Xe,wi(t.type)?(t=Tc,Tc=null,Xe=t):Xe=s):Xe=Et?un(t.stateNode.nextSibling):null;return!0}function Ji(){Xe=Et=null,ke=!1}function eu(){var t=ci;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),ci=null),t}function Pr(t){ci===null?ci=[t]:ci.push(t)}var tu=R(null),Fi=null,Bn=null;function fi(t,s,o){X(tu,s._currentValue),s._currentValue=o}function Gn(t){t._currentValue=tu.current,$(tu)}function nu(t,s,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===o)break;t=t.return}}function iu(t,s,o,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){var S=h.child;v=v.firstContext;e:for(;v!==null;){var x=v;v=h;for(var A=0;A<s.length;A++)if(x.context===s[A]){v.lanes|=o,x=v.alternate,x!==null&&(x.lanes|=o),nu(v.return,o,t),u||(S=null);break e}v=x.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(r(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),nu(S,o,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function Ps(t,s,o,u){t=null;for(var h=s,v=!1;h!==null;){if(!v){if((h.flags&524288)!==0)v=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var x=h.type;zt(h.pendingProps.value,S.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ie.current){if(S=h.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(uo):t=[uo])}h=h.return}t!==null&&iu(s,t,o,u),s.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yi(t){Fi=t,Bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return Of(Fi,t)}function Xo(t,s){return Fi===null&&Yi(t),Of(t,s)}function Of(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Bn===null){if(t===null)throw Error(r(308));Bn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Bn=Bn.next=s;return o}var o_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},a_=n.unstable_scheduleCallback,l_=n.unstable_NormalPriority,ht={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new o_,data:new Map,refCount:0}}function Lr(t){t.refCount--,t.refCount===0&&a_(l_,function(){t.controller.abort()})}var jr=null,ru=0,Ls=0,js=null;function u_(t,s){if(jr===null){var o=jr=[];ru=0,Ls=lc(),js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ru++,s.then(Pf,Pf),s}function Pf(){if(--ru===0&&jr!==null){js!==null&&(js.status="fulfilled");var t=jr;jr=null,Ls=0,js=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function c_(t,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Lf=U.S;U.S=function(t,s){bp=Rt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&u_(t,s),Lf!==null&&Lf(t,s)};var Ki=R(null);function ou(){var t=Ki.current;return t!==null?t:Fe.pooledCache}function Zo(t,s){s===null?X(Ki,Ki.current):X(Ki,s.pool)}function jf(){var t=ou();return t===null?null:{parent:ht._currentValue,pool:t}}var qs=Error(r(460)),au=Error(r(474)),Wo=Error(r(542)),ea={then:function(){}};function qf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bf(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(Pn,Pn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vf(t),t;default:if(typeof s.status=="string")s.then(Pn,Pn);else{if(t=Fe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vf(t),t}throw Xi=s,qs}}function Qi(t){try{var s=t._init;return s(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xi=o,qs):o}}var Xi=null;function Gf(){if(Xi===null)throw Error(r(459));var t=Xi;return Xi=null,t}function Vf(t){if(t===qs||t===Wo)throw Error(r(483))}var Bs=null,qr=0;function ta(t){var s=qr;return qr+=1,Bs===null&&(Bs=[]),Bf(Bs,t,s)}function Br(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function na(t,s){throw s.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function zf(t){function s(D,M){if(t){var P=D.deletions;P===null?(D.deletions=[M],D.flags|=16):P.push(M)}}function o(D,M){if(!t)return null;for(;M!==null;)s(D,M),M=M.sibling;return null}function u(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function h(D,M){return D=jn(D,M),D.index=0,D.sibling=null,D}function v(D,M,P){return D.index=P,t?(P=D.alternate,P!==null?(P=P.index,P<M?(D.flags|=67108866,M):P):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function S(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function x(D,M,P,J){return M===null||M.tag!==6?(M=Kl(P,D.mode,J),M.return=D,M):(M=h(M,P),M.return=D,M)}function A(D,M,P,J){var fe=P.type;return fe===N?V(D,M,P.props.children,J,P.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ne&&Qi(fe)===M.type)?(M=h(M,P.props),Br(M,P),M.return=D,M):(M=Yo(P.type,P.key,P.props,null,D.mode,J),Br(M,P),M.return=D,M)}function L(D,M,P,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Ql(P,D.mode,J),M.return=D,M):(M=h(M,P.children||[]),M.return=D,M)}function V(D,M,P,J,fe){return M===null||M.tag!==7?(M=$i(P,D.mode,J,fe),M.return=D,M):(M=h(M,P),M.return=D,M)}function F(D,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kl(""+M,D.mode,P),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return P=Yo(M.type,M.key,M.props,null,D.mode,P),Br(P,M),P.return=D,P;case C:return M=Ql(M,D.mode,P),M.return=D,M;case ne:return M=Qi(M),F(D,M,P)}if(he(M)||ce(M))return M=$i(M,D.mode,P,null),M.return=D,M;if(typeof M.then=="function")return F(D,ta(M),P);if(M.$$typeof===I)return F(D,Xo(D,M),P);na(D,M)}return null}function j(D,M,P,J){var fe=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:x(D,M,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return P.key===fe?A(D,M,P,J):null;case C:return P.key===fe?L(D,M,P,J):null;case ne:return P=Qi(P),j(D,M,P,J)}if(he(P)||ce(P))return fe!==null?null:V(D,M,P,J,null);if(typeof P.then=="function")return j(D,M,ta(P),J);if(P.$$typeof===I)return j(D,M,Xo(D,P),J);na(D,P)}return null}function q(D,M,P,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return D=D.get(P)||null,x(M,D,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return D=D.get(J.key===null?P:J.key)||null,A(M,D,J,fe);case C:return D=D.get(J.key===null?P:J.key)||null,L(M,D,J,fe);case ne:return J=Qi(J),q(D,M,P,J,fe)}if(he(J)||ce(J))return D=D.get(P)||null,V(M,D,J,fe,null);if(typeof J.then=="function")return q(D,M,P,ta(J),fe);if(J.$$typeof===I)return q(D,M,P,Xo(M,J),fe);na(M,J)}return null}function ie(D,M,P,J){for(var fe=null,Oe=null,oe=M,we=M=0,Me=null;oe!==null&&we<P.length;we++){oe.index>we?(Me=oe,oe=null):Me=oe.sibling;var Pe=j(D,oe,P[we],J);if(Pe===null){oe===null&&(oe=Me);break}t&&oe&&Pe.alternate===null&&s(D,oe),M=v(Pe,M,we),Oe===null?fe=Pe:Oe.sibling=Pe,Oe=Pe,oe=Me}if(we===P.length)return o(D,oe),ke&&qn(D,we),fe;if(oe===null){for(;we<P.length;we++)oe=F(D,P[we],J),oe!==null&&(M=v(oe,M,we),Oe===null?fe=oe:Oe.sibling=oe,Oe=oe);return ke&&qn(D,we),fe}for(oe=u(oe);we<P.length;we++)Me=q(oe,D,we,P[we],J),Me!==null&&(t&&Me.alternate!==null&&oe.delete(Me.key===null?we:Me.key),M=v(Me,M,we),Oe===null?fe=Me:Oe.sibling=Me,Oe=Me);return t&&oe.forEach(function(Mi){return s(D,Mi)}),ke&&qn(D,we),fe}function me(D,M,P,J){if(P==null)throw Error(r(151));for(var fe=null,Oe=null,oe=M,we=M=0,Me=null,Pe=P.next();oe!==null&&!Pe.done;we++,Pe=P.next()){oe.index>we?(Me=oe,oe=null):Me=oe.sibling;var Mi=j(D,oe,Pe.value,J);if(Mi===null){oe===null&&(oe=Me);break}t&&oe&&Mi.alternate===null&&s(D,oe),M=v(Mi,M,we),Oe===null?fe=Mi:Oe.sibling=Mi,Oe=Mi,oe=Me}if(Pe.done)return o(D,oe),ke&&qn(D,we),fe;if(oe===null){for(;!Pe.done;we++,Pe=P.next())Pe=F(D,Pe.value,J),Pe!==null&&(M=v(Pe,M,we),Oe===null?fe=Pe:Oe.sibling=Pe,Oe=Pe);return ke&&qn(D,we),fe}for(oe=u(oe);!Pe.done;we++,Pe=P.next())Pe=q(oe,D,we,Pe.value,J),Pe!==null&&(t&&Pe.alternate!==null&&oe.delete(Pe.key===null?we:Pe.key),M=v(Pe,M,we),Oe===null?fe=Pe:Oe.sibling=Pe,Oe=Pe);return t&&oe.forEach(function(Sb){return s(D,Sb)}),ke&&qn(D,we),fe}function $e(D,M,P,J){if(typeof P=="object"&&P!==null&&P.type===N&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case E:e:{for(var fe=P.key;M!==null;){if(M.key===fe){if(fe=P.type,fe===N){if(M.tag===7){o(D,M.sibling),J=h(M,P.props.children),J.return=D,D=J;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ne&&Qi(fe)===M.type){o(D,M.sibling),J=h(M,P.props),Br(J,P),J.return=D,D=J;break e}o(D,M);break}else s(D,M);M=M.sibling}P.type===N?(J=$i(P.props.children,D.mode,J,P.key),J.return=D,D=J):(J=Yo(P.type,P.key,P.props,null,D.mode,J),Br(J,P),J.return=D,D=J)}return S(D);case C:e:{for(fe=P.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){o(D,M.sibling),J=h(M,P.children||[]),J.return=D,D=J;break e}else{o(D,M);break}else s(D,M);M=M.sibling}J=Ql(P,D.mode,J),J.return=D,D=J}return S(D);case ne:return P=Qi(P),$e(D,M,P,J)}if(he(P))return ie(D,M,P,J);if(ce(P)){if(fe=ce(P),typeof fe!="function")throw Error(r(150));return P=fe.call(P),me(D,M,P,J)}if(typeof P.then=="function")return $e(D,M,ta(P),J);if(P.$$typeof===I)return $e(D,M,Xo(D,P),J);na(D,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(o(D,M.sibling),J=h(M,P),J.return=D,D=J):(o(D,M),J=Kl(P,D.mode,J),J.return=D,D=J),S(D)):o(D,M)}return function(D,M,P,J){try{qr=0;var fe=$e(D,M,P,J);return Bs=null,fe}catch(oe){if(oe===qs||oe===Wo)throw oe;var Oe=Ht(29,oe,null,D.mode);return Oe.lanes=J,Oe.return=D,Oe}finally{}}}var Zi=zf(!0),Hf=zf(!1),hi=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,s,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Fo(t),Af(t,null,o),s}return Jo(t,u,s,o),Fo(t)}function Gr(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,wr(t,o)}}function cu(t,s){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?h=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?h=v=s:v=v.next=s}else h=v=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var du=!1;function Vr(){if(du){var t=js;if(t!==null)throw t}}function zr(t,s,o,u){du=!1;var h=t.updateQueue;hi=!1;var v=h.firstBaseUpdate,S=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var A=x,L=A.next;A.next=null,S===null?v=L:S.next=L,S=A;var V=t.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==S&&(x===null?V.firstBaseUpdate=L:x.next=L,V.lastBaseUpdate=A))}if(v!==null){var F=h.baseState;S=0,V=L=A=null,x=v;do{var j=x.lane&-536870913,q=j!==x.lane;if(q?(Ne&j)===j:(u&j)===j){j!==0&&j===Ls&&(du=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ie=t,me=x;j=s;var $e=o;switch(me.tag){case 1:if(ie=me.payload,typeof ie=="function"){F=ie.call($e,F,j);break e}F=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=me.payload,j=typeof ie=="function"?ie.call($e,F,j):ie,j==null)break e;F=b({},F,j);break e;case 2:hi=!0}}j=x.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(L=V=q,A=F):V=V.next=q,S|=j;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;q=x,x=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);V===null&&(A=F),h.baseState=A,h.firstBaseUpdate=L,h.lastBaseUpdate=V,v===null&&(h.shared.lanes=0),bi|=S,t.lanes=S,t.memoizedState=F}}function $f(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Jf(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)$f(o[t],s)}var Gs=R(null),ia=R(0);function Ff(t,s){t=Qn,X(ia,t),X(Gs,s),Qn=t|s.baseLanes}function fu(){X(ia,Qn),X(Gs,Gs.current)}function hu(){Qn=ia.current,$(Gs),$(ia)}var $t=R(null),ln=null;function gi(t){var s=t.alternate;X(dt,dt.current&1),X($t,t),ln===null&&(s===null||Gs.current!==null||s.memoizedState!==null)&&(ln=t)}function pu(t){X(dt,dt.current),X($t,t),ln===null&&(ln=t)}function Yf(t){t.tag===22?(X(dt,dt.current),X($t,t),ln===null&&(ln=t)):vi()}function vi(){X(dt,dt.current),X($t,$t.current)}function Jt(t){$($t),ln===t&&(ln=null),$(dt)}var dt=R(0);function sa(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||bc(o)||Sc(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vn=0,Ee=null,ze=null,pt=null,ra=!1,Vs=!1,Wi=!1,oa=0,Hr=0,zs=null,d_=0;function at(){throw Error(r(321))}function mu(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!zt(t[o],s[o]))return!1;return!0}function gu(t,s,o,u,h,v){return Vn=v,Ee=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=t===null||t.memoizedState===null?Ih:Iu,Wi=!1,v=o(u,h),Wi=!1,Vs&&(v=Qf(s,o,u,h)),Kf(t),v}function Kf(t){U.H=Fr;var s=ze!==null&&ze.next!==null;if(Vn=0,pt=ze=Ee=null,ra=!1,Hr=0,zs=null,s)throw Error(r(300));t===null||mt||(t=t.dependencies,t!==null&&Qo(t)&&(mt=!0))}function Qf(t,s,o,u){Ee=t;var h=0;do{if(Vs&&(zs=null),Hr=0,Vs=!1,25<=h)throw Error(r(301));if(h+=1,pt=ze=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=kh,v=s(o,u)}while(Vs);return v}function f_(){var t=U.H,s=t.useState()[0];return s=typeof s.then=="function"?$r(s):s,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(Ee.flags|=1024),s}function vu(){var t=oa!==0;return oa=0,t}function yu(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function _u(t){if(ra){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ra=!1}Vn=0,pt=ze=Ee=null,Vs=!1,Hr=oa=0,zs=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ee.memoizedState=pt=t:pt=pt.next=t,pt}function ft(){if(ze===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var s=pt===null?Ee.memoizedState:pt.next;if(s!==null)pt=s,ze=t;else{if(t===null)throw Ee.alternate===null?Error(r(467)):Error(r(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},pt===null?Ee.memoizedState=pt=t:pt=pt.next=t}return pt}function aa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $r(t){var s=Hr;return Hr+=1,zs===null&&(zs=[]),t=Bf(zs,t,s),s=Ee,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Ih:Iu),t}function la(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $r(t);if(t.$$typeof===I)return wt(t)}throw Error(r(438,String(t)))}function bu(t){var s=null,o=Ee.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ee.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=aa(),Ee.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),u=0;u<t;u++)o[u]=ue;return s.index++,o}function zn(t,s){return typeof s=="function"?s(t):s}function ua(t){var s=ft();return Su(s,ze,t)}function Su(t,s,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=t.baseQueue,v=u.pending;if(v!==null){if(h!==null){var S=h.next;h.next=v.next,v.next=S}s.baseQueue=h=v,u.pending=null}if(v=t.baseState,h===null)t.memoizedState=v;else{s=h.next;var x=S=null,A=null,L=s,V=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(Ne&F)===F:(Vn&F)===F){var j=L.revertLane;if(j===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===Ls&&(V=!0);else if((Vn&j)===j){L=L.next,j===Ls&&(V=!0);continue}else F={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(x=A=F,S=v):A=A.next=F,Ee.lanes|=j,bi|=j;F=L.action,Wi&&o(v,F),v=L.hasEagerState?L.eagerState:o(v,F)}else j={lane:F,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(x=A=j,S=v):A=A.next=j,Ee.lanes|=F,bi|=F;L=L.next}while(L!==null&&L!==s);if(A===null?S=v:A.next=x,!zt(v,t.memoizedState)&&(mt=!0,V&&(o=js,o!==null)))throw o;t.memoizedState=v,t.baseState=S,t.baseQueue=A,u.lastRenderedState=v}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Tu(t){var s=ft(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,v=s.memoizedState;if(h!==null){o.pending=null;var S=h=h.next;do v=t(v,S.action),S=S.next;while(S!==h);zt(v,s.memoizedState)||(mt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,u]}function Xf(t,s,o){var u=Ee,h=ft(),v=ke;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!zt((ze||h).memoizedState,o);if(S&&(h.memoizedState=o,mt=!0),h=h.queue,wu(eh.bind(null,u,h,t),[t]),h.getSnapshot!==s||S||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,Hs(9,{destroy:void 0},Wf.bind(null,u,h,o,s),null),Fe===null)throw Error(r(349));v||(Vn&127)!==0||Zf(u,s,o)}return o}function Zf(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Ee.updateQueue,s===null?(s=aa(),Ee.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Wf(t,s,o,u){s.value=o,s.getSnapshot=u,th(s)&&nh(t)}function eh(t,s,o){return o(function(){th(s)&&nh(t)})}function th(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!zt(t,o)}catch{return!0}}function nh(t){var s=Hi(t,2);s!==null&&Gt(s,t,2)}function xu(t){var s=Ut();if(typeof t=="function"){var o=t;if(t=o(),Wi){hn(!0);try{o()}finally{hn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},s}function ih(t,s,o,u){return t.baseState=o,Su(t,ze,typeof u=="function"?u:zn)}function h_(t,s,o,u,h){if(fa(t))throw Error(r(485));if(t=s.action,t!==null){var v={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};U.T!==null?o(!0):v.isTransition=!1,u(v),o=s.pending,o===null?(v.next=s.pending=v,sh(s,v)):(v.next=o.next,s.pending=o.next=v)}}function sh(t,s){var o=s.action,u=s.payload,h=t.state;if(s.isTransition){var v=U.T,S={};U.T=S;try{var x=o(h,u),A=U.S;A!==null&&A(S,x),rh(t,s,x)}catch(L){Eu(t,s,L)}finally{v!==null&&S.types!==null&&(v.types=S.types),U.T=v}}else try{v=o(h,u),rh(t,s,v)}catch(L){Eu(t,s,L)}}function rh(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){oh(t,s,u)},function(u){return Eu(t,s,u)}):oh(t,s,o)}function oh(t,s,o){s.status="fulfilled",s.value=o,ah(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,sh(t,o)))}function Eu(t,s,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,ah(s),s=s.next;while(s!==u)}t.action=null}function ah(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function lh(t,s){return s}function uh(t,s){if(ke){var o=Fe.formState;if(o!==null){e:{var u=Ee;if(ke){if(Xe){t:{for(var h=Xe,v=an;h.nodeType!==8;){if(!v){h=null;break t}if(h=un(h.nextSibling),h===null){h=null;break t}}v=h.data,h=v==="F!"||v==="F"?h:null}if(h){Xe=un(h.nextSibling),u=h.data==="F!";break e}}di(u)}u=!1}u&&(s=o[0])}}return o=Ut(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:s},o.queue=u,o=Rh.bind(null,Ee,u),u.dispatch=o,u=xu(!1),v=Mu.bind(null,Ee,!1,u.queue),u=Ut(),h={state:s,dispatch:null,action:t,pending:null},u.queue=h,o=h_.bind(null,Ee,h,v,o),h.dispatch=o,u.memoizedState=t,[s,o,!1]}function ch(t){var s=ft();return dh(s,ze,t)}function dh(t,s,o){if(s=Su(t,s,lh)[0],t=ua(zn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$r(s)}catch(S){throw S===qs?Wo:S}else u=s;s=ft();var h=s.queue,v=h.dispatch;return o!==s.memoizedState&&(Ee.flags|=2048,Hs(9,{destroy:void 0},p_.bind(null,h,o),null)),[u,v,t]}function p_(t,s){t.action=s}function fh(t){var s=ft(),o=ze;if(o!==null)return dh(s,o,t);ft(),s=s.memoizedState,o=ft();var u=o.queue.dispatch;return o.memoizedState=t,[s,u,!1]}function Hs(t,s,o,u){return t={tag:t,create:o,deps:u,inst:s,next:null},s=Ee.updateQueue,s===null&&(s=aa(),Ee.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,s.lastEffect=t),t}function hh(){return ft().memoizedState}function ca(t,s,o,u){var h=Ut();Ee.flags|=t,h.memoizedState=Hs(1|s,{destroy:void 0},o,u===void 0?null:u)}function da(t,s,o,u){var h=ft();u=u===void 0?null:u;var v=h.memoizedState.inst;ze!==null&&u!==null&&mu(u,ze.memoizedState.deps)?h.memoizedState=Hs(s,v,o,u):(Ee.flags|=t,h.memoizedState=Hs(1|s,v,o,u))}function ph(t,s){ca(8390656,8,t,s)}function wu(t,s){da(2048,8,t,s)}function m_(t){Ee.flags|=4;var s=Ee.updateQueue;if(s===null)s=aa(),Ee.updateQueue=s,s.events=[t];else{var o=s.events;o===null?s.events=[t]:o.push(t)}}function mh(t){var s=ft().memoizedState;return m_({ref:s,nextImpl:t}),function(){if((je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function gh(t,s){return da(4,2,t,s)}function vh(t,s){return da(4,4,t,s)}function yh(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function _h(t,s,o){o=o!=null?o.concat([t]):null,da(4,4,yh.bind(null,s,t),o)}function Cu(){}function bh(t,s){var o=ft();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&mu(s,u[1])?u[0]:(o.memoizedState=[t,s],t)}function Sh(t,s){var o=ft();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&mu(s,u[1]))return u[0];if(u=t(),Wi){hn(!0);try{t()}finally{hn(!1)}}return o.memoizedState=[u,s],u}function Au(t,s,o){return o===void 0||(Vn&1073741824)!==0&&(Ne&261930)===0?t.memoizedState=s:(t.memoizedState=o,t=Tp(),Ee.lanes|=t,bi|=t,o)}function Th(t,s,o,u){return zt(o,s)?o:Gs.current!==null?(t=Au(t,o,u),zt(t,s)||(mt=!0),t):(Vn&42)===0||(Vn&1073741824)!==0&&(Ne&261930)===0?(mt=!0,t.memoizedState=o):(t=Tp(),Ee.lanes|=t,bi|=t,s)}function xh(t,s,o,u,h){var v=Y.p;Y.p=v!==0&&8>v?v:8;var S=U.T,x={};U.T=x,Mu(t,!1,s,o);try{var A=h(),L=U.S;if(L!==null&&L(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=c_(A,u);Jr(t,s,V,Kt(t))}else Jr(t,s,u,Kt(t))}catch(F){Jr(t,s,{then:function(){},status:"rejected",reason:F},Kt())}finally{Y.p=v,S!==null&&x.types!==null&&(S.types=x.types),U.T=S}}function g_(){}function Ru(t,s,o,u){if(t.tag!==5)throw Error(r(476));var h=Eh(t).queue;xh(t,h,s,re,o===null?g_:function(){return wh(t),o(u)})}function Eh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function wh(t){var s=Eh(t);s.next===null&&(s=t.alternate.memoizedState),Jr(t,s.next.queue,{},Kt())}function Nu(){return wt(uo)}function Ch(){return ft().memoizedState}function Ah(){return ft().memoizedState}function v_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=Kt();t=pi(o);var u=mi(s,t,o);u!==null&&(Gt(u,s,o),Gr(u,s,o)),s={cache:su()},t.payload=s;return}s=s.return}}function y_(t,s,o){var u=Kt();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fa(t)?Nh(s,o):(o=Fl(t,s,o,u),o!==null&&(Gt(o,t,u),Mh(o,s,u)))}function Rh(t,s,o){var u=Kt();Jr(t,s,o,u)}function Jr(t,s,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fa(t))Nh(s,h);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,x=v(S,o);if(h.hasEagerState=!0,h.eagerState=x,zt(x,S))return Jo(t,s,h,0),Fe===null&&$o(),!1}catch{}finally{}if(o=Fl(t,s,h,u),o!==null)return Gt(o,t,u),Mh(o,s,u),!0}return!1}function Mu(t,s,o,u){if(u={lane:2,revertLane:lc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fa(t)){if(s)throw Error(r(479))}else s=Fl(t,o,u,2),s!==null&&Gt(s,t,2)}function fa(t){var s=t.alternate;return t===Ee||s!==null&&s===Ee}function Nh(t,s){Vs=ra=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Mh(t,s,o){if((o&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,wr(t,o)}}var Fr={readContext:wt,use:la,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Fr.useEffectEvent=at;var Ih={readContext:wt,use:la,useCallback:function(t,s){return Ut().memoizedState=[t,s===void 0?null:s],t},useContext:wt,useEffect:ph,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,ca(4194308,4,yh.bind(null,s,t),o)},useLayoutEffect:function(t,s){return ca(4194308,4,t,s)},useInsertionEffect:function(t,s){ca(4,2,t,s)},useMemo:function(t,s){var o=Ut();s=s===void 0?null:s;var u=t();if(Wi){hn(!0);try{t()}finally{hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(t,s,o){var u=Ut();if(o!==void 0){var h=o(s);if(Wi){hn(!0);try{o(s)}finally{hn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=y_.bind(null,Ee,t),[u.memoizedState,t]},useRef:function(t){var s=Ut();return t={current:t},s.memoizedState=t},useState:function(t){t=xu(t);var s=t.queue,o=Rh.bind(null,Ee,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:Cu,useDeferredValue:function(t,s){var o=Ut();return Au(o,t,s)},useTransition:function(){var t=xu(!1);return t=xh.bind(null,Ee,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var u=Ee,h=Ut();if(ke){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Fe===null)throw Error(r(349));(Ne&127)!==0||Zf(u,s,o)}h.memoizedState=o;var v={value:o,getSnapshot:s};return h.queue=v,ph(eh.bind(null,u,v,t),[t]),u.flags|=2048,Hs(9,{destroy:void 0},Wf.bind(null,u,v,o,s),null),o},useId:function(){var t=Ut(),s=Fe.identifierPrefix;if(ke){var o=Cn,u=wn;o=(u&~(1<<32-rt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=oa++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=d_++,s="_"+s+"r_"+o.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Nu,useFormState:uh,useActionState:uh,useOptimistic:function(t){var s=Ut();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Mu.bind(null,Ee,!0,o),o.dispatch=s,[t,s]},useMemoCache:bu,useCacheRefresh:function(){return Ut().memoizedState=v_.bind(null,Ee)},useEffectEvent:function(t){var s=Ut(),o={impl:t};return s.memoizedState=o,function(){if((je&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Iu={readContext:wt,use:la,useCallback:bh,useContext:wt,useEffect:wu,useImperativeHandle:_h,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:Sh,useReducer:ua,useRef:hh,useState:function(){return ua(zn)},useDebugValue:Cu,useDeferredValue:function(t,s){var o=ft();return Th(o,ze.memoizedState,t,s)},useTransition:function(){var t=ua(zn)[0],s=ft().memoizedState;return[typeof t=="boolean"?t:$r(t),s]},useSyncExternalStore:Xf,useId:Ch,useHostTransitionStatus:Nu,useFormState:ch,useActionState:ch,useOptimistic:function(t,s){var o=ft();return ih(o,ze,t,s)},useMemoCache:bu,useCacheRefresh:Ah};Iu.useEffectEvent=mh;var kh={readContext:wt,use:la,useCallback:bh,useContext:wt,useEffect:wu,useImperativeHandle:_h,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:Sh,useReducer:Tu,useRef:hh,useState:function(){return Tu(zn)},useDebugValue:Cu,useDeferredValue:function(t,s){var o=ft();return ze===null?Au(o,t,s):Th(o,ze.memoizedState,t,s)},useTransition:function(){var t=Tu(zn)[0],s=ft().memoizedState;return[typeof t=="boolean"?t:$r(t),s]},useSyncExternalStore:Xf,useId:Ch,useHostTransitionStatus:Nu,useFormState:fh,useActionState:fh,useOptimistic:function(t,s){var o=ft();return ze!==null?ih(o,ze,t,s):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:bu,useCacheRefresh:Ah};kh.useEffectEvent=mh;function ku(t,s,o,u){s=t.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Du={enqueueSetState:function(t,s,o){t=t._reactInternals;var u=Kt(),h=pi(u);h.payload=s,o!=null&&(h.callback=o),s=mi(t,h,u),s!==null&&(Gt(s,t,u),Gr(s,t,u))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var u=Kt(),h=pi(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=mi(t,h,u),s!==null&&(Gt(s,t,u),Gr(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=Kt(),u=pi(o);u.tag=2,s!=null&&(u.callback=s),s=mi(t,u,o),s!==null&&(Gt(s,t,o),Gr(s,t,o))}};function Dh(t,s,o,u,h,v,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,S):s.prototype&&s.prototype.isPureReactComponent?!Dr(o,u)||!Dr(h,v):!0}function Uh(t,s,o,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==t&&Du.enqueueReplaceState(s,s.state,null)}function es(t,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(t=t.defaultProps){o===s&&(o=b({},o));for(var h in t)o[h]===void 0&&(o[h]=t[h])}return o}function Oh(t){Ho(t)}function Ph(t){console.error(t)}function Lh(t){Ho(t)}function ha(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function jh(t,s,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uu(t,s,o){return o=pi(o),o.tag=3,o.payload={element:null},o.callback=function(){ha(t,s)},o}function qh(t){return t=pi(t),t.tag=3,t}function Bh(t,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var v=u.value;t.payload=function(){return h(v)},t.callback=function(){jh(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){jh(s,o,u),typeof h!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function __(t,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ps(s,o,h,!0),o=$t.current,o!==null){switch(o.tag){case 31:case 13:return ln===null?wa():o.alternate===null&&lt===0&&(lt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===ea?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rc(t,u,h)),!1;case 22:return o.flags|=65536,u===ea?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rc(t,u,h)),!1}throw Error(r(435,o.tag))}return rc(t,u,h),wa(),!1}if(ke)return s=$t.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Wl&&(t=Error(r(422),{cause:u}),Pr(sn(t,o)))):(u!==Wl&&(s=Error(r(423),{cause:u}),Pr(sn(s,o))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=sn(u,o),h=Uu(t.stateNode,u,h),cu(t,h),lt!==4&&(lt=2)),!1;var v=Error(r(520),{cause:u});if(v=sn(v,o),to===null?to=[v]:to.push(v),lt!==4&&(lt=2),s===null)return!0;u=sn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=h&-h,o.lanes|=t,t=Uu(o.stateNode,u,t),cu(o,t),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Si===null||!Si.has(v))))return o.flags|=65536,h&=-h,o.lanes|=h,h=qh(h),Bh(h,t,o,u),cu(o,h),!1}o=o.return}while(o!==null);return!1}var Ou=Error(r(461)),mt=!1;function Ct(t,s,o,u){s.child=t===null?Hf(s,null,o,u):Zi(s,t.child,o,u)}function Gh(t,s,o,u,h){o=o.render;var v=s.ref;if("ref"in u){var S={};for(var x in u)x!=="ref"&&(S[x]=u[x])}else S=u;return Yi(s),u=gu(t,s,o,S,v,h),x=vu(),t!==null&&!mt?(yu(t,s,h),Hn(t,s,h)):(ke&&x&&Xl(s),s.flags|=1,Ct(t,s,u,h),s.child)}function Vh(t,s,o,u,h){if(t===null){var v=o.type;return typeof v=="function"&&!Yl(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,zh(t,s,v,u,h)):(t=Yo(o.type,null,u,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,!zu(t,h)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:Dr,o(S,u)&&t.ref===s.ref)return Hn(t,s,h)}return s.flags|=1,t=jn(v,u),t.ref=s.ref,t.return=s,s.child=t}function zh(t,s,o,u,h){if(t!==null){var v=t.memoizedProps;if(Dr(v,u)&&t.ref===s.ref)if(mt=!1,s.pendingProps=u=v,zu(t,h))(t.flags&131072)!==0&&(mt=!0);else return s.lanes=t.lanes,Hn(t,s,h)}return Pu(t,s,o,u,h)}function Hh(t,s,o,u){var h=u.children,v=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(u=s.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~v}else u=0,s.child=null;return $h(t,s,v,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(s,v!==null?v.cachePool:null),v!==null?Ff(s,v):fu(),Yf(s);else return u=s.lanes=536870912,$h(t,s,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(Zo(s,v.cachePool),Ff(s,v),vi(),s.memoizedState=null):(t!==null&&Zo(s,null),fu(),vi());return Ct(t,s,h,o),s.child}function Yr(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $h(t,s,o,u,h){var v=ou();return v=v===null?null:{parent:ht._currentValue,pool:v},s.memoizedState={baseLanes:o,cachePool:v},t!==null&&Zo(s,null),fu(),Yf(s),t!==null&&Ps(t,s,u,!0),s.childLanes=h,null}function pa(t,s){return s=ga({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Jh(t,s,o){return Zi(s,t.child,null,o),t=pa(s,s.pendingProps),t.flags|=2,Jt(s),s.memoizedState=null,t}function b_(t,s,o){var u=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ke){if(u.mode==="hidden")return t=pa(s,u),s.lanes=536870912,Yr(null,t);if(pu(s),(t=Xe)?(t=sm(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ui!==null?{id:wn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},o=Nf(t),o.return=s,s.child=o,Et=s,Xe=null)):t=null,t===null)throw di(s);return s.lanes=536870912,null}return pa(s,u)}var v=t.memoizedState;if(v!==null){var S=v.dehydrated;if(pu(s),h)if(s.flags&256)s.flags&=-257,s=Jh(t,s,o);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(mt||Ps(t,s,o,!1),h=(o&t.childLanes)!==0,mt||h){if(u=Fe,u!==null&&(S=W(u,o),S!==0&&S!==v.retryLane))throw v.retryLane=S,Hi(t,S),Gt(u,t,S),Ou;wa(),s=Jh(t,s,o)}else t=v.treeContext,Xe=un(S.nextSibling),Et=s,ke=!0,ci=null,an=!1,t!==null&&kf(s,t),s=pa(s,u),s.flags|=4096;return s}return t=jn(t.child,{mode:u.mode,children:u.children}),t.ref=s.ref,s.child=t,t.return=s,t}function ma(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(s.flags|=4194816)}}function Pu(t,s,o,u,h){return Yi(s),o=gu(t,s,o,u,void 0,h),u=vu(),t!==null&&!mt?(yu(t,s,h),Hn(t,s,h)):(ke&&u&&Xl(s),s.flags|=1,Ct(t,s,o,h),s.child)}function Fh(t,s,o,u,h,v){return Yi(s),s.updateQueue=null,o=Qf(s,u,o,h),Kf(t),u=vu(),t!==null&&!mt?(yu(t,s,v),Hn(t,s,v)):(ke&&u&&Xl(s),s.flags|=1,Ct(t,s,o,v),s.child)}function Yh(t,s,o,u,h){if(Yi(s),s.stateNode===null){var v=ks,S=o.contextType;typeof S=="object"&&S!==null&&(v=wt(S)),v=new o(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Du,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},lu(s),S=o.contextType,v.context=typeof S=="object"&&S!==null?wt(S):ks,v.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(ku(s,o,S,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Du.enqueueReplaceState(v,v.state,null),zr(s,u,v,h),Vr(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){v=s.stateNode;var x=s.memoizedProps,A=es(o,x);v.props=A;var L=v.context,V=o.contextType;S=ks,typeof V=="object"&&V!==null&&(S=wt(V));var F=o.getDerivedStateFromProps;V=typeof F=="function"||typeof v.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,V||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x||L!==S)&&Uh(s,v,u,S),hi=!1;var j=s.memoizedState;v.state=j,zr(s,u,v,h),Vr(),L=s.memoizedState,x||j!==L||hi?(typeof F=="function"&&(ku(s,o,F,u),L=s.memoizedState),(A=hi||Dh(s,o,A,u,j,L,S))?(V||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=L),v.props=u,v.state=L,v.context=S,u=A):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,uu(t,s),S=s.memoizedProps,V=es(o,S),v.props=V,F=s.pendingProps,j=v.context,L=o.contextType,A=ks,typeof L=="object"&&L!==null&&(A=wt(L)),x=o.getDerivedStateFromProps,(L=typeof x=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==F||j!==A)&&Uh(s,v,u,A),hi=!1,j=s.memoizedState,v.state=j,zr(s,u,v,h),Vr();var q=s.memoizedState;S!==F||j!==q||hi||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof x=="function"&&(ku(s,o,x,u),q=s.memoizedState),(V=hi||Dh(s,o,V,u,j,q,A)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(L||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,q,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,q,A)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=q),v.props=u,v.state=q,v.context=A,u=V):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&j===t.memoizedState||(s.flags|=1024),u=!1)}return v=u,ma(t,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,t!==null&&u?(s.child=Zi(s,t.child,null,h),s.child=Zi(s,null,o,h)):Ct(t,s,o,h),s.memoizedState=v.state,t=s.child):t=Hn(t,s,h),t}function Kh(t,s,o,u){return Ji(),s.flags|=256,Ct(t,s,o,u),s.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(t){return{baseLanes:t,cachePool:jf()}}function qu(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=Yt),t}function Qh(t,s,o){var u=s.pendingProps,h=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,t===null){if(ke){if(h?gi(s):vi(),(t=Xe)?(t=sm(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ui!==null?{id:wn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},o=Nf(t),o.return=s,s.child=o,Et=s,Xe=null)):t=null,t===null)throw di(s);return Sc(t)?s.lanes=32:s.lanes=536870912,null}var x=u.children;return u=u.fallback,h?(vi(),h=s.mode,x=ga({mode:"hidden",children:x},h),u=$i(u,h,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,u=s.child,u.memoizedState=ju(o),u.childLanes=qu(t,S,o),s.memoizedState=Lu,Yr(null,u)):(gi(s),Bu(s,x))}var A=t.memoizedState;if(A!==null&&(x=A.dehydrated,x!==null)){if(v)s.flags&256?(gi(s),s.flags&=-257,s=Gu(t,s,o)):s.memoizedState!==null?(vi(),s.child=t.child,s.flags|=128,s=null):(vi(),x=u.fallback,h=s.mode,u=ga({mode:"visible",children:u.children},h),x=$i(x,h,o,null),x.flags|=2,u.return=s,x.return=s,u.sibling=x,s.child=u,Zi(s,t.child,null,o),u=s.child,u.memoizedState=ju(o),u.childLanes=qu(t,S,o),s.memoizedState=Lu,s=Yr(null,u));else if(gi(s),Sc(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var L=S.dgst;S=L,u=Error(r(419)),u.stack="",u.digest=S,Pr({value:u,source:null,stack:null}),s=Gu(t,s,o)}else if(mt||Ps(t,s,o,!1),S=(o&t.childLanes)!==0,mt||S){if(S=Fe,S!==null&&(u=W(S,o),u!==0&&u!==A.retryLane))throw A.retryLane=u,Hi(t,u),Gt(S,t,u),Ou;bc(x)||wa(),s=Gu(t,s,o)}else bc(x)?(s.flags|=192,s.child=t.child,s=null):(t=A.treeContext,Xe=un(x.nextSibling),Et=s,ke=!0,ci=null,an=!1,t!==null&&kf(s,t),s=Bu(s,u.children),s.flags|=4096);return s}return h?(vi(),x=u.fallback,h=s.mode,A=t.child,L=A.sibling,u=jn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,L!==null?x=jn(L,x):(x=$i(x,h,o,null),x.flags|=2),x.return=s,u.return=s,u.sibling=x,s.child=u,Yr(null,u),u=s.child,x=t.child.memoizedState,x===null?x=ju(o):(h=x.cachePool,h!==null?(A=ht._currentValue,h=h.parent!==A?{parent:A,pool:A}:h):h=jf(),x={baseLanes:x.baseLanes|o,cachePool:h}),u.memoizedState=x,u.childLanes=qu(t,S,o),s.memoizedState=Lu,Yr(t.child,u)):(gi(s),o=t.child,t=o.sibling,o=jn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,t!==null&&(S=s.deletions,S===null?(s.deletions=[t],s.flags|=16):S.push(t)),s.child=o,s.memoizedState=null,o)}function Bu(t,s){return s=ga({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ga(t,s){return t=Ht(22,t,null,s),t.lanes=0,t}function Gu(t,s,o){return Zi(s,t.child,null,o),t=Bu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Xh(t,s,o){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),nu(t.return,s,o)}function Vu(t,s,o,u,h,v){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=h,S.treeForkCount=v)}function Zh(t,s,o){var u=s.pendingProps,h=u.revealOrder,v=u.tail;u=u.children;var S=dt.current,x=(S&2)!==0;if(x?(S=S&1|2,s.flags|=128):S&=1,X(dt,S),Ct(t,s,u,o),u=ke?Or:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xh(t,o,s);else if(t.tag===19)Xh(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(o=s.child,h=null;o!==null;)t=o.alternate,t!==null&&sa(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Vu(s,!1,h,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&sa(t)===null){s.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Vu(s,!0,o,null,v,u);break;case"together":Vu(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Hn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),bi|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(Ps(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,o=jn(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=jn(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function zu(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function S_(t,s,o){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),fi(s,ht,t.memoizedState.cache),Ji();break;case 27:case 5:Nn(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:fi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,pu(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(gi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Qh(t,s,o):(gi(s),t=Hn(t,s,o),t!==null?t.sibling:null);gi(s);break;case 19:var h=(t.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ps(t,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return Zh(t,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(dt,dt.current),u)break;return null;case 22:return s.lanes=0,Hh(t,s,o,s.pendingProps);case 24:fi(s,ht,t.memoizedState.cache)}return Hn(t,s,o)}function Wh(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)mt=!0;else{if(!zu(t,o)&&(s.flags&128)===0)return mt=!1,S_(t,s,o);mt=(t.flags&131072)!==0}else mt=!1,ke&&(s.flags&1048576)!==0&&If(s,Or,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(t=Qi(s.elementType),s.type=t,typeof t=="function")Yl(t)?(u=es(t,u),s.tag=1,s=Yh(null,s,t,u,o)):(s.tag=0,s=Pu(null,s,t,u,o));else{if(t!=null){var h=t.$$typeof;if(h===G){s.tag=11,s=Gh(null,s,t,u,o);break e}else if(h===B){s.tag=14,s=Vh(null,s,t,u,o);break e}}throw s=le(t)||t,Error(r(306,s,""))}}return s;case 0:return Pu(t,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=es(u,s.pendingProps),Yh(t,s,u,h,o);case 3:e:{if(Ye(s,s.stateNode.containerInfo),t===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;h=v.element,uu(t,s),zr(s,u,null,o);var S=s.memoizedState;if(u=S.cache,fi(s,ht,u),u!==v.cache&&iu(s,[ht],o,!0),Vr(),u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Kh(t,s,u,o);break e}else if(u!==h){h=sn(Error(r(424)),s),Pr(h),s=Kh(t,s,u,o);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xe=un(t.firstChild),Et=s,ke=!0,ci=null,an=!0,o=Hf(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ji(),u===h){s=Hn(t,s,o);break e}Ct(t,s,u,o)}s=s.child}return s;case 26:return ma(t,s),t===null?(o=cm(s.type,null,s.pendingProps,null))?s.memoizedState=o:ke||(o=s.type,t=s.pendingProps,u=ka(de.current).createElement(o),u[Je]=s,u[bt]=t,At(u,o,t),Qe(u),s.stateNode=u):s.memoizedState=cm(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Nn(s),t===null&&ke&&(u=s.stateNode=am(s.type,s.pendingProps,de.current),Et=s,an=!0,h=Xe,wi(s.type)?(Tc=h,Xe=un(u.firstChild)):Xe=h),Ct(t,s,s.pendingProps.children,o),ma(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ke&&((h=u=Xe)&&(u=X_(u,s.type,s.pendingProps,an),u!==null?(s.stateNode=u,Et=s,Xe=un(u.firstChild),an=!1,h=!0):h=!1),h||di(s)),Nn(s),h=s.type,v=s.pendingProps,S=t!==null?t.memoizedProps:null,u=v.children,vc(h,v)?u=null:S!==null&&vc(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=gu(t,s,f_,null,null,o),uo._currentValue=h),ma(t,s),Ct(t,s,u,o),s.child;case 6:return t===null&&ke&&((t=o=Xe)&&(o=Z_(o,s.pendingProps,an),o!==null?(s.stateNode=o,Et=s,Xe=null,t=!0):t=!1),t||di(s)),null;case 13:return Qh(t,s,o);case 4:return Ye(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Zi(s,null,u,o):Ct(t,s,u,o),s.child;case 11:return Gh(t,s,s.type,s.pendingProps,o);case 7:return Ct(t,s,s.pendingProps,o),s.child;case 8:return Ct(t,s,s.pendingProps.children,o),s.child;case 12:return Ct(t,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,fi(s,s.type,u.value),Ct(t,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Yi(s),h=wt(h),u=u(h),s.flags|=1,Ct(t,s,u,o),s.child;case 14:return Vh(t,s,s.type,s.pendingProps,o);case 15:return zh(t,s,s.type,s.pendingProps,o);case 19:return Zh(t,s,o);case 31:return b_(t,s,o);case 22:return Hh(t,s,o,s.pendingProps);case 24:return Yi(s),u=wt(ht),t===null?(h=ou(),h===null&&(h=Fe,v=su(),h.pooledCache=v,v.refCount++,v!==null&&(h.pooledCacheLanes|=o),h=v),s.memoizedState={parent:u,cache:h},lu(s),fi(s,ht,h)):((t.lanes&o)!==0&&(uu(t,s),zr(s,null,null,o),Vr()),h=t.memoizedState,v=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),fi(s,ht,u)):(u=v.cache,fi(s,ht,u),u!==h.cache&&iu(s,[ht],o,!0))),Ct(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $n(t){t.flags|=4}function Hu(t,s,o,u,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Cp())t.flags|=8192;else throw Xi=ea,au}else t.flags&=-16777217}function ep(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mm(s))if(Cp())t.flags|=8192;else throw Xi=ea,au}function va(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Io():536870912,t.lanes|=s,Ys|=s)}function Kr(t,s){if(!ke)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(s)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,s}function T_(t,s,o){var u=s.pendingProps;switch(Zl(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(s),null;case 1:return Ze(s),null;case 3:return o=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Gn(ht),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Os(s)?$n(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,eu())),Ze(s),null;case 26:var h=s.type,v=s.memoizedState;return t===null?($n(s),v!==null?(Ze(s),ep(s,v)):(Ze(s),Hu(s,h,null,u,o))):v?v!==t.memoizedState?($n(s),Ze(s),ep(s,v)):(Ze(s),s.flags&=-16777217):(t=t.memoizedProps,t!==u&&$n(s),Ze(s),Hu(s,h,t,u,o)),null;case 27:if(xn(s),o=de.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&$n(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ze(s),null}t=K.current,Os(s)?Df(s):(t=am(h,u,o),s.stateNode=t,$n(s))}return Ze(s),null;case 5:if(xn(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&$n(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ze(s),null}if(v=K.current,Os(s))Df(s);else{var S=ka(de.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?S.createElement(h,{is:u.is}):S.createElement(h)}}v[Je]=s,v[bt]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;e:switch(At(v,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$n(s)}}return Ze(s),Hu(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,o),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&$n(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(t=de.current,Os(s)){if(t=s.stateNode,o=s.memoizedProps,u=null,h=Et,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Je]=s,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Qp(t.nodeValue,o)),t||di(s,!0)}else t=ka(t).createTextNode(u),t[Je]=s,s.stateNode=t}return Ze(s),null;case 31:if(o=s.memoizedState,t===null||t.memoizedState!==null){if(u=Os(s),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Je]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),t=!1}else o=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return s.flags&256?(Jt(s),s):(Jt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ze(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Os(s),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Je]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),h=!1}else h=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Jt(s),s):(Jt(s),null)}return Jt(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==h&&(u.flags|=2048)),o!==t&&o&&(s.child.flags|=8192),va(s,s.updateQueue),Ze(s),null);case 4:return nt(),t===null&&fc(s.stateNode.containerInfo),Ze(s),null;case 10:return Gn(s.type),Ze(s),null;case 19:if($(dt),u=s.memoizedState,u===null)return Ze(s),null;if(h=(s.flags&128)!==0,v=u.rendering,v===null)if(h)Kr(u,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=sa(t),v!==null){for(s.flags|=128,Kr(u,!1),t=v.updateQueue,s.updateQueue=t,va(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)Rf(o,t),o=o.sibling;return X(dt,dt.current&1|2),ke&&qn(s,u.treeForkCount),s.child}t=t.sibling}u.tail!==null&&Rt()>Ta&&(s.flags|=128,h=!0,Kr(u,!1),s.lanes=4194304)}else{if(!h)if(t=sa(v),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,va(s,t),Kr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!ke)return Ze(s),null}else 2*Rt()-u.renderingStartTime>Ta&&o!==536870912&&(s.flags|=128,h=!0,Kr(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(t=u.last,t!==null?t.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Rt(),t.sibling=null,o=dt.current,X(dt,h?o&1|2:o&1),ke&&qn(s,u.treeForkCount),t):(Ze(s),null);case 22:case 23:return Jt(s),hu(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Ze(s),s.subtreeFlags&6&&(s.flags|=8192)):Ze(s),o=s.updateQueue,o!==null&&va(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),t!==null&&$(Ki),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Gn(ht),Ze(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function x_(t,s){switch(Zl(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Gn(ht),nt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return xn(s),null;case 31:if(s.memoizedState!==null){if(Jt(s),s.alternate===null)throw Error(r(340));Ji()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Jt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ji()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return $(dt),null;case 4:return nt(),null;case 10:return Gn(s.type),null;case 22:case 23:return Jt(s),hu(),t!==null&&$(Ki),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Gn(ht),null;case 25:return null;default:return null}}function tp(t,s){switch(Zl(s),s.tag){case 3:Gn(ht),nt();break;case 26:case 27:case 5:xn(s);break;case 4:nt();break;case 31:s.memoizedState!==null&&Jt(s);break;case 13:Jt(s);break;case 19:$(dt);break;case 10:Gn(s.type);break;case 22:case 23:Jt(s),hu(),t!==null&&$(Ki);break;case 24:Gn(ht)}}function Qr(t,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&t)===t){u=void 0;var v=o.create,S=o.inst;u=v(),S.destroy=u}o=o.next}while(o!==h)}}catch(x){Ve(s,s.return,x)}}function yi(t,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&t)===t){var S=u.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,h=s;var A=o,L=x;try{L()}catch(V){Ve(h,A,V)}}}u=u.next}while(u!==v)}}catch(V){Ve(s,s.return,V)}}function np(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{Jf(s,o)}catch(u){Ve(t,t.return,u)}}}function ip(t,s,o){o.props=es(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Ve(t,s,u)}}function Xr(t,s){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(h){Ve(t,s,h)}}function An(t,s){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Ve(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Ve(t,s,h)}else o.current=null}function sp(t){var s=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Ve(t,t.return,h)}}function $u(t,s,o){try{var u=t.stateNode;$_(u,t.type,o,s),u[bt]=s}catch(h){Ve(t,t.return,h)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function Ju(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fu(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(t),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Pn));else if(u!==4&&(u===27&&wi(t.type)&&(o=t.stateNode,s=null),t=t.child,t!==null))for(Fu(t,s,o),t=t.sibling;t!==null;)Fu(t,s,o),t=t.sibling}function ya(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(u!==4&&(u===27&&wi(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(ya(t,s,o),t=t.sibling;t!==null;)ya(t,s,o),t=t.sibling}function op(t){var s=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);At(s,u,o),s[Je]=t,s[bt]=o}catch(v){Ve(t,t.return,v)}}var Jn=!1,gt=!1,Yu=!1,ap=typeof WeakSet=="function"?WeakSet:Set,St=null;function E_(t,s){if(t=t.containerInfo,mc=qa,t=_f(t),Gl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var S=0,x=-1,A=-1,L=0,V=0,F=t,j=null;t:for(;;){for(var q;F!==o||h!==0&&F.nodeType!==3||(x=S+h),F!==v||u!==0&&F.nodeType!==3||(A=S+u),F.nodeType===3&&(S+=F.nodeValue.length),(q=F.firstChild)!==null;)j=F,F=q;for(;;){if(F===t)break t;if(j===o&&++L===h&&(x=S),j===v&&++V===u&&(A=S),(q=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=q}o=x===-1||A===-1?null:{start:x,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(gc={focusedElem:t,selectionRange:o},qa=!1,St=s;St!==null;)if(s=St,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,St=t;else for(;St!==null;){switch(s=St,v=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)h=t[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=s,h=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var ie=es(o.type,h);t=u.getSnapshotBeforeUpdate(ie,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ve(o,o.return,me)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)_c(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_c(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,St=t;break}St=s.return}}function lp(t,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Yn(t,o),u&4&&Qr(5,o);break;case 1:if(Yn(t,o),u&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(S){Ve(o,o.return,S)}else{var h=es(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ve(o,o.return,S)}}u&64&&np(o),u&512&&Xr(o,o.return);break;case 3:if(Yn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Jf(t,s)}catch(S){Ve(o,o.return,S)}}break;case 27:s===null&&u&4&&op(o);case 26:case 5:Yn(t,o),s===null&&u&4&&sp(o),u&512&&Xr(o,o.return);break;case 12:Yn(t,o);break;case 31:Yn(t,o),u&4&&dp(t,o);break;case 13:Yn(t,o),u&4&&fp(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=D_.bind(null,o),W_(t,o))));break;case 22:if(u=o.memoizedState!==null||Jn,!u){s=s!==null&&s.memoizedState!==null||gt,h=Jn;var v=gt;Jn=u,(gt=s)&&!v?Kn(t,o,(o.subtreeFlags&8772)!==0):Yn(t,o),Jn=h,gt=v}break;case 30:break;default:Yn(t,o)}}function up(t){var s=t.alternate;s!==null&&(t.alternate=null,up(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Be(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,Lt=!1;function Fn(t,s,o){for(o=o.child;o!==null;)cp(t,s,o),o=o.sibling}function cp(t,s,o){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(kn,o)}catch{}switch(o.tag){case 26:gt||An(o,s),Fn(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||An(o,s);var u=et,h=Lt;wi(o.type)&&(et=o.stateNode,Lt=!1),Fn(t,s,o),oo(o.stateNode),et=u,Lt=h;break;case 5:gt||An(o,s);case 6:if(u=et,h=Lt,et=null,Fn(t,s,o),et=u,Lt=h,et!==null)if(Lt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(o.stateNode)}catch(v){Ve(o,s,v)}else try{et.removeChild(o.stateNode)}catch(v){Ve(o,s,v)}break;case 18:et!==null&&(Lt?(t=et,nm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),nr(t)):nm(et,o.stateNode));break;case 4:u=et,h=Lt,et=o.stateNode.containerInfo,Lt=!0,Fn(t,s,o),et=u,Lt=h;break;case 0:case 11:case 14:case 15:yi(2,o,s),gt||yi(4,o,s),Fn(t,s,o);break;case 1:gt||(An(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ip(o,s,u)),Fn(t,s,o);break;case 21:Fn(t,s,o);break;case 22:gt=(u=gt)||o.memoizedState!==null,Fn(t,s,o),gt=u;break;default:Fn(t,s,o)}}function dp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nr(t)}catch(o){Ve(s,s.return,o)}}}function fp(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nr(t)}catch(o){Ve(s,s.return,o)}}function w_(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new ap),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new ap),s;default:throw Error(r(435,t.tag))}}function _a(t,s){var o=w_(t);s.forEach(function(u){if(!o.has(u)){o.add(u);var h=U_.bind(null,t,u);u.then(h,h)}})}function jt(t,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],v=t,S=s,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(wi(x.type)){et=x.stateNode,Lt=!1;break e}break;case 5:et=x.stateNode,Lt=!1;break e;case 3:case 4:et=x.stateNode.containerInfo,Lt=!0;break e}x=x.return}if(et===null)throw Error(r(160));cp(v,S,h),et=null,Lt=!1,v=h.alternate,v!==null&&(v.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)hp(s,t),s=s.sibling}var gn=null;function hp(t,s){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jt(s,t),qt(t),u&4&&(yi(3,t,t.return),Qr(3,t),yi(5,t,t.return));break;case 1:jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),u&64&&Jn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=gn;if(jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":v=h.getElementsByTagName("title")[0],(!v||v[Ot]||v[Je]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=h.createElement(u),h.head.insertBefore(v,h.querySelector("head > title"))),At(v,u,o),v[Je]=t,Qe(v),u=v;break e;case"link":var S=hm("link","href",h).get(u+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(v=S[x],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break t}}v=h.createElement(u),At(v,u,o),h.head.appendChild(v);break;case"meta":if(S=hm("meta","content",h).get(u+(o.content||""))){for(x=0;x<S.length;x++)if(v=S[x],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break t}}v=h.createElement(u),At(v,u,o),h.head.appendChild(v);break;default:throw Error(r(468,u))}v[Je]=t,Qe(v),u=v}t.stateNode=u}else pm(h,t.type,t.stateNode);else t.stateNode=fm(h,u,t.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?pm(h,t.type,t.stateNode):fm(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&$u(t,t.memoizedProps,o.memoizedProps)}break;case 27:jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),o!==null&&u&4&&$u(t,t.memoizedProps,o.memoizedProps);break;case 5:if(jt(s,t),qt(t),u&512&&(gt||o===null||An(o,o.return)),t.flags&32){h=t.stateNode;try{ws(h,"")}catch(ie){Ve(t,t.return,ie)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,$u(t,h,o!==null?o.memoizedProps:h)),u&1024&&(Yu=!0);break;case 6:if(jt(s,t),qt(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(ie){Ve(t,t.return,ie)}}break;case 3:if(Oa=null,h=gn,gn=Da(s.containerInfo),jt(s,t),gn=h,qt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nr(s.containerInfo)}catch(ie){Ve(t,t.return,ie)}Yu&&(Yu=!1,pp(t));break;case 4:u=gn,gn=Da(t.stateNode.containerInfo),jt(s,t),qt(t),gn=u;break;case 12:jt(s,t),qt(t);break;case 31:jt(s,t),qt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,_a(t,u)));break;case 13:jt(s,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Sa=Rt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,_a(t,u)));break;case 22:h=t.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,L=Jn,V=gt;if(Jn=L||h,gt=V||A,jt(s,t),gt=V,Jn=L,qt(t),u&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||A||Jn||gt||ts(t)),o=null,s=t;;){if(s.tag===5||s.tag===26){if(o===null){A=o=s;try{if(v=A.stateNode,h)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=A.stateNode;var F=A.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ie){Ve(A,A.return,ie)}}}else if(s.tag===6){if(o===null){A=s;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(ie){Ve(A,A.return,ie)}}}else if(s.tag===18){if(o===null){A=s;try{var q=A.stateNode;h?im(q,!0):im(A.stateNode,!1)}catch(ie){Ve(A,A.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,_a(t,o))));break;case 19:jt(s,t),qt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,_a(t,u)));break;case 30:break;case 21:break;default:jt(s,t),qt(t)}}function qt(t){var s=t.flags;if(s&2){try{for(var o,u=t.return;u!==null;){if(rp(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,v=Ju(t);ya(t,v,h);break;case 5:var S=o.stateNode;o.flags&32&&(ws(S,""),o.flags&=-33);var x=Ju(t);ya(t,x,S);break;case 3:case 4:var A=o.stateNode.containerInfo,L=Ju(t);Fu(t,L,A);break;default:throw Error(r(161))}}catch(V){Ve(t,t.return,V)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;pp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Yn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lp(t,s.alternate,s),s=s.sibling}function ts(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),ts(s);break;case 1:An(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ip(s,s.return,o),ts(s);break;case 27:oo(s.stateNode);case 26:case 5:An(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}t=t.sibling}}function Kn(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=t,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Kn(h,v,o),Qr(4,v);break;case 1:if(Kn(h,v,o),u=v,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Ve(u,u.return,L)}if(u=v,h=u.updateQueue,h!==null){var x=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)$f(A[h],x)}catch(L){Ve(u,u.return,L)}}o&&S&64&&np(v),Xr(v,v.return);break;case 27:op(v);case 26:case 5:Kn(h,v,o),o&&u===null&&S&4&&sp(v),Xr(v,v.return);break;case 12:Kn(h,v,o);break;case 31:Kn(h,v,o),o&&S&4&&dp(h,v);break;case 13:Kn(h,v,o),o&&S&4&&fp(h,v);break;case 22:v.memoizedState===null&&Kn(h,v,o),Xr(v,v.return);break;case 30:break;default:Kn(h,v,o)}s=s.sibling}}function Ku(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Lr(o))}function Qu(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Lr(t))}function vn(t,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mp(t,s,o,u),s=s.sibling}function mp(t,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:vn(t,s,o,u),h&2048&&Qr(9,s);break;case 1:vn(t,s,o,u);break;case 3:vn(t,s,o,u),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Lr(t)));break;case 12:if(h&2048){vn(t,s,o,u),t=s.stateNode;try{var v=s.memoizedProps,S=v.id,x=v.onPostCommit;typeof x=="function"&&x(S,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ve(s,s.return,A)}}else vn(t,s,o,u);break;case 31:vn(t,s,o,u);break;case 13:vn(t,s,o,u);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?vn(t,s,o,u):Zr(t,s):v._visibility&2?vn(t,s,o,u):(v._visibility|=2,$s(t,s,o,u,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Ku(S,s);break;case 24:vn(t,s,o,u),h&2048&&Qu(s.alternate,s);break;default:vn(t,s,o,u)}}function $s(t,s,o,u,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=t,S=s,x=o,A=u,L=S.flags;switch(S.tag){case 0:case 11:case 15:$s(v,S,x,A,h),Qr(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?$s(v,S,x,A,h):Zr(v,S):(V._visibility|=2,$s(v,S,x,A,h)),h&&L&2048&&Ku(S.alternate,S);break;case 24:$s(v,S,x,A,h),h&&L&2048&&Qu(S.alternate,S);break;default:$s(v,S,x,A,h)}s=s.sibling}}function Zr(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,u=s,h=u.flags;switch(u.tag){case 22:Zr(o,u),h&2048&&Ku(u.alternate,u);break;case 24:Zr(o,u),h&2048&&Qu(u.alternate,u);break;default:Zr(o,u)}s=s.sibling}}var Wr=8192;function Js(t,s,o){if(t.subtreeFlags&Wr)for(t=t.child;t!==null;)gp(t,s,o),t=t.sibling}function gp(t,s,o){switch(t.tag){case 26:Js(t,s,o),t.flags&Wr&&t.memoizedState!==null&&db(o,gn,t.memoizedState,t.memoizedProps);break;case 5:Js(t,s,o);break;case 3:case 4:var u=gn;gn=Da(t.stateNode.containerInfo),Js(t,s,o),gn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Wr,Wr=16777216,Js(t,s,o),Wr=u):Js(t,s,o));break;default:Js(t,s,o)}}function vp(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function eo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];St=u,_p(u,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 0:case 11:case 15:eo(t),t.flags&2048&&yi(9,t,t.return);break;case 3:eo(t);break;case 12:eo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,ba(t)):eo(t);break;default:eo(t)}}function ba(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];St=u,_p(u,t)}vp(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:yi(8,s,s.return),ba(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ba(s));break;default:ba(s)}t=t.sibling}}function _p(t,s){for(;St!==null;){var o=St;switch(o.tag){case 0:case 11:case 15:yi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,St=u;else e:for(o=t;St!==null;){u=St;var h=u.sibling,v=u.return;if(up(u),u===o){St=null;break e}if(h!==null){h.return=v,St=h;break e}St=v}}}var C_={getCacheForType:function(t){var s=wt(ht),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o},cacheSignal:function(){return wt(ht).controller.signal}},A_=typeof WeakMap=="function"?WeakMap:Map,je=0,Fe=null,Ae=null,Ne=0,Ge=0,Ft=null,_i=!1,Fs=!1,Xu=!1,Qn=0,lt=0,bi=0,ns=0,Zu=0,Yt=0,Ys=0,to=null,Bt=null,Wu=!1,Sa=0,bp=0,Ta=1/0,xa=null,Si=null,yt=0,Ti=null,Ks=null,Xn=0,ec=0,tc=null,Sp=null,no=0,nc=null;function Kt(){return(je&2)!==0&&Ne!==0?Ne&-Ne:U.T!==null?lc():ye()}function Tp(){if(Yt===0)if((Ne&536870912)===0||ke){var t=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),Yt=t}else Yt=536870912;return t=$t.current,t!==null&&(t.flags|=32),Yt}function Gt(t,s,o){(t===Fe&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Qs(t,0),xi(t,Ne,Yt,!1)),oi(t,o),((je&2)===0||t!==Fe)&&(t===Fe&&((je&2)===0&&(ns|=o),lt===4&&xi(t,Ne,Yt,!1)),Rn(t))}function xp(t,s,o){if((je&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&t.expiredLanes)===0||Dn(t,s),h=u?M_(t,s):sc(t,s,!0),v=u;do{if(h===0){Fs&&!u&&xi(t,s,0,!1);break}else{if(o=t.current.alternate,v&&!R_(o)){h=sc(t,s,!1),v=!1;continue}if(h===2){if(v=s,t.errorRecoveryDisabledLanes&v)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var x=t;h=to;var A=x.current.memoizedState.isDehydrated;if(A&&(Qs(x,S).flags|=256),S=sc(x,S,!1),S!==2){if(Xu&&!A){x.errorRecoveryDisabledLanes|=v,ns|=v,h=4;break e}v=Bt,Bt=h,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}h=S}if(v=!1,h!==2)continue}}if(h===1){Qs(t,0),xi(t,s,0,!0);break}e:{switch(u=t,v=h,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:xi(u,s,Yt,!_i);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Sa+300-Rt(),10<h)){if(xi(u,s,Yt,!_i),bs(u,0,!0)!==0)break e;Xn=s,u.timeoutHandle=em(Ep.bind(null,u,o,Bt,xa,Wu,s,Yt,ns,Ys,_i,v,"Throttled",-0,0),h);break e}Ep(u,o,Bt,xa,Wu,s,Yt,ns,Ys,_i,v,null,-0,0)}}break}while(!0);Rn(t)}function Ep(t,s,o,u,h,v,S,x,A,L,V,F,j,q){if(t.timeoutHandle=-1,F=s.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},gp(s,v,F);var ie=(v&62914560)===v?Sa-Rt():(v&4194048)===v?bp-Rt():0;if(ie=fb(F,ie),ie!==null){Xn=v,t.cancelPendingCommit=ie(kp.bind(null,t,s,v,o,u,h,S,x,A,V,F,null,j,q)),xi(t,v,S,!L);return}}kp(t,s,v,o,u,h,S,x,A)}function R_(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],v=h.getSnapshot;h=h.value;try{if(!zt(v(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(t,s,o,u){s&=~Zu,s&=~ns,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var h=s;0<h;){var v=31-rt(h),S=1<<v;u[v]=-1,h&=~S}o!==0&&Er(t,o,s)}function Ea(){return(je&6)===0?(io(0),!1):!0}function ic(){if(Ae!==null){if(Ge===0)var t=Ae.return;else t=Ae,Bn=Fi=null,_u(t),Bs=null,qr=0,t=Ae;for(;t!==null;)tp(t.alternate,t),t=t.return;Ae=null}}function Qs(t,s){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Y_(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Xn=0,ic(),Fe=t,Ae=o=jn(t.current,null),Ne=s,Ge=0,Ft=null,_i=!1,Fs=Dn(t,s),Xu=!1,Ys=Yt=Zu=ns=bi=lt=0,Bt=to=null,Wu=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var h=31-rt(u),v=1<<h;s|=t[h],u&=~v}return Qn=s,$o(),o}function wp(t,s){Ee=null,U.H=Fr,s===qs||s===Wo?(s=Gf(),Ge=3):s===au?(s=Gf(),Ge=4):Ge=s===Ou?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ft=s,Ae===null&&(lt=1,ha(t,sn(s,t.current)))}function Cp(){var t=$t.current;return t===null?!0:(Ne&4194048)===Ne?ln===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?t===ln:!1}function Ap(){var t=U.H;return U.H=Fr,t===null?Fr:t}function Rp(){var t=U.A;return U.A=C_,t}function wa(){lt=4,_i||(Ne&4194048)!==Ne&&$t.current!==null||(Fs=!0),(bi&134217727)===0&&(ns&134217727)===0||Fe===null||xi(Fe,Ne,Yt,!1)}function sc(t,s,o){var u=je;je|=2;var h=Ap(),v=Rp();(Fe!==t||Ne!==s)&&(xa=null,Qs(t,s)),s=!1;var S=lt;e:do try{if(Ge!==0&&Ae!==null){var x=Ae,A=Ft;switch(Ge){case 8:ic(),S=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(s=!0);var L=Ge;if(Ge=0,Ft=null,Xs(t,x,A,L),o&&Fs){S=0;break e}break;default:L=Ge,Ge=0,Ft=null,Xs(t,x,A,L)}}N_(),S=lt;break}catch(V){wp(t,V)}while(!0);return s&&t.shellSuspendCounter++,Bn=Fi=null,je=u,U.H=h,U.A=v,Ae===null&&(Fe=null,Ne=0,$o()),S}function N_(){for(;Ae!==null;)Np(Ae)}function M_(t,s){var o=je;je|=2;var u=Ap(),h=Rp();Fe!==t||Ne!==s?(xa=null,Ta=Rt()+500,Qs(t,s)):Fs=Dn(t,s);e:do try{if(Ge!==0&&Ae!==null){s=Ae;var v=Ft;t:switch(Ge){case 1:Ge=0,Ft=null,Xs(t,s,v,1);break;case 2:case 9:if(qf(v)){Ge=0,Ft=null,Mp(s);break}s=function(){Ge!==2&&Ge!==9||Fe!==t||(Ge=7),Rn(t)},v.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:qf(v)?(Ge=0,Ft=null,Mp(s)):(Ge=0,Ft=null,Xs(t,s,v,7));break;case 5:var S=null;switch(Ae.tag){case 26:S=Ae.memoizedState;case 5:case 27:var x=Ae;if(S?mm(S):x.stateNode.complete){Ge=0,Ft=null;var A=x.sibling;if(A!==null)Ae=A;else{var L=x.return;L!==null?(Ae=L,Ca(L)):Ae=null}break t}}Ge=0,Ft=null,Xs(t,s,v,5);break;case 6:Ge=0,Ft=null,Xs(t,s,v,6);break;case 8:ic(),lt=6;break e;default:throw Error(r(462))}}I_();break}catch(V){wp(t,V)}while(!0);return Bn=Fi=null,U.H=u,U.A=h,je=o,Ae!==null?0:(Fe=null,Ne=0,$o(),lt)}function I_(){for(;Ae!==null&&!Ce();)Np(Ae)}function Np(t){var s=Wh(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,s===null?Ca(t):Ae=s}function Mp(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=Fh(o,s,s.pendingProps,s.type,void 0,Ne);break;case 11:s=Fh(o,s,s.pendingProps,s.type.render,s.ref,Ne);break;case 5:_u(s);default:tp(o,s),s=Ae=Rf(s,Qn),s=Wh(o,s,Qn)}t.memoizedProps=t.pendingProps,s===null?Ca(t):Ae=s}function Xs(t,s,o,u){Bn=Fi=null,_u(s),Bs=null,qr=0;var h=s.return;try{if(__(t,h,s,o,Ne)){lt=1,ha(t,sn(o,t.current)),Ae=null;return}}catch(v){if(h!==null)throw Ae=h,v;lt=1,ha(t,sn(o,t.current)),Ae=null;return}s.flags&32768?(ke||u===1?t=!0:Fs||(Ne&536870912)!==0?t=!1:(_i=t=!0,(u===2||u===9||u===3||u===6)&&(u=$t.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ip(s,t)):Ca(s)}function Ca(t){var s=t;do{if((s.flags&32768)!==0){Ip(s,_i);return}t=s.return;var o=T_(s.alternate,s,Qn);if(o!==null){Ae=o;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=t}while(s!==null);lt===0&&(lt=5)}function Ip(t,s){do{var o=x_(t.alternate,t);if(o!==null){o.flags&=32767,Ae=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=o}while(t!==null);lt=6,Ae=null}function kp(t,s,o,u,h,v,S,x,A){t.cancelPendingCommit=null;do Aa();while(yt!==0);if((je&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Jl,ko(t,o,v,S,x,A),t===Fe&&(Ae=Fe=null,Ne=0),Ks=s,Ti=t,Xn=o,ec=v,tc=h,Sp=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,O_(Nt,function(){return Lp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,h=Y.p,Y.p=2,S=je,je|=4;try{E_(t,s,o)}finally{je=S,Y.p=h,U.T=u}}yt=1,Dp(),Up(),Op()}}function Dp(){if(yt===1){yt=0;var t=Ti,s=Ks,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var u=Y.p;Y.p=2;var h=je;je|=4;try{hp(s,t);var v=gc,S=_f(t.containerInfo),x=v.focusedElem,A=v.selectionRange;if(S!==x&&x&&x.ownerDocument&&yf(x.ownerDocument.documentElement,x)){if(A!==null&&Gl(x)){var L=A.start,V=A.end;if(V===void 0&&(V=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(V,x.value.length);else{var F=x.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var q=j.getSelection(),ie=x.textContent.length,me=Math.min(A.start,ie),$e=A.end===void 0?me:Math.min(A.end,ie);!q.extend&&me>$e&&(S=$e,$e=me,me=S);var D=vf(x,me),M=vf(x,$e);if(D&&M&&(q.rangeCount!==1||q.anchorNode!==D.node||q.anchorOffset!==D.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var P=F.createRange();P.setStart(D.node,D.offset),q.removeAllRanges(),me>$e?(q.addRange(P),q.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),q.addRange(P))}}}}for(F=[],q=x;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<F.length;x++){var J=F[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qa=!!mc,gc=mc=null}finally{je=h,Y.p=u,U.T=o}}t.current=s,yt=2}}function Up(){if(yt===2){yt=0;var t=Ti,s=Ks,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var u=Y.p;Y.p=2;var h=je;je|=4;try{lp(t,s.alternate,s)}finally{je=h,Y.p=u,U.T=o}}yt=3}}function Op(){if(yt===4||yt===3){yt=0,Ro();var t=Ti,s=Ks,o=Xn,u=Sp;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yt=5:(yt=0,Ks=Ti=null,Pp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Si=null),te(o),s=s.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(kn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=U.T,h=Y.p,Y.p=2,U.T=null;try{for(var v=t.onRecoverableError,S=0;S<u.length;S++){var x=u[S];v(x.value,{componentStack:x.stack})}}finally{U.T=s,Y.p=h}}(Xn&3)!==0&&Aa(),Rn(t),h=t.pendingLanes,(o&261930)!==0&&(h&42)!==0?t===nc?no++:(no=0,nc=t):no=0,io(0)}}function Pp(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Lr(s)))}function Aa(){return Dp(),Up(),Op(),Lp()}function Lp(){if(yt!==5)return!1;var t=Ti,s=ec;ec=0;var o=te(Xn),u=U.T,h=Y.p;try{Y.p=32>o?32:o,U.T=null,o=tc,tc=null;var v=Ti,S=Xn;if(yt=0,Ks=Ti=null,Xn=0,(je&6)!==0)throw Error(r(331));var x=je;if(je|=4,yp(v.current),mp(v,v.current,S,o),je=x,io(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(kn,v)}catch{}return!0}finally{Y.p=h,U.T=u,Pp(t,s)}}function jp(t,s,o){s=sn(o,s),s=Uu(t.stateNode,s,2),t=mi(t,s,2),t!==null&&(oi(t,2),Rn(t))}function Ve(t,s,o){if(t.tag===3)jp(t,t,o);else for(;s!==null;){if(s.tag===3){jp(s,t,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){t=sn(o,t),o=qh(2),u=mi(s,o,2),u!==null&&(Bh(o,u,s,t),oi(u,2),Rn(u));break}}s=s.return}}function rc(t,s,o){var u=t.pingCache;if(u===null){u=t.pingCache=new A_;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Xu=!0,h.add(o),t=k_.bind(null,t,s,o),s.then(t,t))}function k_(t,s,o){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Fe===t&&(Ne&o)===o&&(lt===4||lt===3&&(Ne&62914560)===Ne&&300>Rt()-Sa?(je&2)===0&&Qs(t,0):Zu|=o,Ys===Ne&&(Ys=0)),Rn(t)}function qp(t,s){s===0&&(s=Io()),t=Hi(t,s),t!==null&&(oi(t,s),Rn(t))}function D_(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),qp(t,o)}function U_(t,s){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),qp(t,o)}function O_(t,s){return ji(t,s)}var Ra=null,Zs=null,oc=!1,Na=!1,ac=!1,Ei=0;function Rn(t){t!==Zs&&t.next===null&&(Zs===null?Ra=Zs=t:Zs=Zs.next=t),Na=!0,oc||(oc=!0,L_())}function io(t,s){if(!ac&&Na){ac=!0;do for(var o=!1,u=Ra;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var v=0;else{var S=u.suspendedLanes,x=u.pingedLanes;v=(1<<31-rt(42|t)+1)-1,v&=h&~(S&~x),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,zp(u,v))}else v=Ne,v=bs(u,u===Fe?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Dn(u,v)||(o=!0,zp(u,v));u=u.next}while(o);ac=!1}}function P_(){Bp()}function Bp(){Na=oc=!1;var t=0;Ei!==0&&F_()&&(t=Ei);for(var s=Rt(),o=null,u=Ra;u!==null;){var h=u.next,v=Gp(u,s);v===0?(u.next=null,o===null?Ra=h:o.next=h,h===null&&(Zs=o)):(o=u,(t!==0||(v&3)!==0)&&(Na=!0)),u=h}yt!==0&&yt!==5||io(t),Ei!==0&&(Ei=0)}function Gp(t,s){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var S=31-rt(v),x=1<<S,A=h[S];A===-1?((x&o)===0||(x&u)!==0)&&(h[S]=Mo(x,s)):A<=s&&(t.expiredLanes|=x),v&=~x}if(s=Fe,o=Ne,o=bs(t,t===s?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===s&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&qi(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Dn(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(u!==null&&qi(u),te(o)){case 2:case 8:o=gs;break;case 32:o=Nt;break;case 268435456:o=vs;break;default:o=Nt}return u=Vp.bind(null,t),o=ji(o,u),t.callbackPriority=s,t.callbackNode=o,s}return u!==null&&u!==null&&qi(u),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,s){if(yt!==0&&yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Aa()&&t.callbackNode!==o)return null;var u=Ne;return u=bs(t,t===Fe?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(xp(t,u,s),Gp(t,Rt()),t.callbackNode!=null&&t.callbackNode===o?Vp.bind(null,t):null)}function zp(t,s){if(Aa())return null;xp(t,s,!0)}function L_(){K_(function(){(je&6)!==0?ji(ms,P_):Bp()})}function lc(){if(Ei===0){var t=Ls;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Ei=t}return Ei}function Hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Lo(""+t)}function $p(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function j_(t,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var v=Hp((h[bt]||null).action),S=u.submitter;S&&(s=(s=S[bt]||null)?Hp(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var x=new Go("action","action",null,u,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ei!==0){var A=S?$p(h,S):new FormData(h);Ru(o,{pending:!0,data:A,method:h.method,action:v},null,A)}}else typeof v=="function"&&(x.preventDefault(),A=S?$p(h,S):new FormData(h),Ru(o,{pending:!0,data:A,method:h.method,action:v},v,A))},currentTarget:h}]})}}for(var uc=0;uc<$l.length;uc++){var cc=$l[uc],q_=cc.toLowerCase(),B_=cc[0].toUpperCase()+cc.slice(1);mn(q_,"on"+B_)}mn(Tf,"onAnimationEnd"),mn(xf,"onAnimationIteration"),mn(Ef,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(n_,"onTransitionRun"),mn(i_,"onTransitionStart"),mn(s_,"onTransitionCancel"),mn(wf,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Jp(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var S=u.length-1;0<=S;S--){var x=u[S],A=x.instance,L=x.currentTarget;if(x=x.listener,A!==v&&h.isPropagationStopped())break e;v=x,h.currentTarget=L;try{v(h)}catch(V){Ho(V)}h.currentTarget=null,v=A}else for(S=0;S<u.length;S++){if(x=u[S],A=x.instance,L=x.currentTarget,x=x.listener,A!==v&&h.isPropagationStopped())break e;v=x,h.currentTarget=L;try{v(h)}catch(V){Ho(V)}h.currentTarget=null,v=A}}}}function Re(t,s){var o=s[ai];o===void 0&&(o=s[ai]=new Set);var u=t+"__bubble";o.has(u)||(Fp(s,t,2,!1),o.add(u))}function dc(t,s,o){var u=0;s&&(u|=4),Fp(o,t,u,s)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[Ma]){t[Ma]=!0,Do.forEach(function(o){o!=="selectionchange"&&(G_.has(o)||dc(o,!1,t),dc(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ma]||(s[Ma]=!0,dc("selectionchange",!1,s))}}function Fp(t,s,o,u){switch(Tm(s)){case 2:var h=mb;break;case 8:h=gb;break;default:h=Ac}o=h.bind(null,s,o,t),h=void 0,!kl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(s,o,{capture:!0,passive:h}):t.addEventListener(s,o,!0):h!==void 0?t.addEventListener(s,o,{passive:h}):t.addEventListener(s,o,!1)}function hc(t,s,o,u,h){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var x=u.stateNode.containerInfo;if(x===h)break;if(S===4)for(S=u.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;x!==null;){if(S=qe(x),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){u=v=S;continue e}x=x.parentNode}}u=u.return}Xd(function(){var L=v,V=Ml(o),F=[];e:{var j=Cf.get(t);if(j!==void 0){var q=Go,ie=t;switch(t){case"keypress":if(qo(o)===0)break e;case"keydown":case"keyup":q=U0;break;case"focusin":ie="focus",q=Pl;break;case"focusout":ie="blur",q=Pl;break;case"beforeblur":case"afterblur":q=Pl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=L0;break;case Tf:case xf:case Ef:q=w0;break;case wf:q=q0;break;case"scroll":case"scrollend":q=b0;break;case"wheel":q=G0;break;case"copy":case"cut":case"paste":q=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=nf;break;case"toggle":case"beforetoggle":q=z0}var me=(s&4)!==0,$e=!me&&(t==="scroll"||t==="scrollend"),D=me?j!==null?j+"Capture":null:j;me=[];for(var M=L,P;M!==null;){var J=M;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||D===null||(J=Cr(M,D),J!=null&&me.push(ro(M,J,P))),$e)break;M=M.return}0<me.length&&(j=new q(j,ie,null,o,V),F.push({event:j,listeners:me}))}}if((s&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&o!==Nl&&(ie=o.relatedTarget||o.fromElement)&&(qe(ie)||ie[Un]))break e;if((q||j)&&(j=V.window===V?V:(j=V.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ie=o.relatedTarget||o.toElement,q=L,ie=ie?qe(ie):null,ie!==null&&($e=l(ie),me=ie.tag,ie!==$e||me!==5&&me!==27&&me!==6)&&(ie=null)):(q=null,ie=L),q!==ie)){if(me=ef,J="onMouseLeave",D="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(me=nf,J="onPointerLeave",D="onPointerEnter",M="pointer"),$e=q==null?j:xt(q),P=ie==null?j:xt(ie),j=new me(J,M+"leave",q,o,V),j.target=$e,j.relatedTarget=P,J=null,qe(V)===L&&(me=new me(D,M+"enter",ie,o,V),me.target=P,me.relatedTarget=$e,J=me),$e=J,q&&ie)t:{for(me=V_,D=q,M=ie,P=0,J=D;J;J=me(J))P++;J=0;for(var fe=M;fe;fe=me(fe))J++;for(;0<P-J;)D=me(D),P--;for(;0<J-P;)M=me(M),J--;for(;P--;){if(D===M||M!==null&&D===M.alternate){me=D;break t}D=me(D),M=me(M)}me=null}else me=null;q!==null&&Yp(F,j,q,me,!1),ie!==null&&$e!==null&&Yp(F,$e,ie,me,!0)}}e:{if(j=L?xt(L):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Oe=df;else if(uf(j))if(ff)Oe=W0;else{Oe=X0;var oe=Q0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&Rl(L.elementType)&&(Oe=df):Oe=Z0;if(Oe&&(Oe=Oe(t,L))){cf(F,Oe,o,V);break e}oe&&oe(t,j,L),t==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&Al(j,"number",j.value)}switch(oe=L?xt(L):window,t){case"focusin":(uf(oe)||oe.contentEditable==="true")&&(Ns=oe,Vl=L,Ur=null);break;case"focusout":Ur=Vl=Ns=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,bf(F,o,V);break;case"selectionchange":if(t_)break;case"keydown":case"keyup":bf(F,o,V)}var we;if(jl)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Rs?af(t,o)&&(Me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(sf&&o.locale!=="ko"&&(Rs||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Rs&&(we=Zd()):(li=V,Dl="value"in li?li.value:li.textContent,Rs=!0)),oe=Ia(L,Me),0<oe.length&&(Me=new tf(Me,t,null,o,V),F.push({event:Me,listeners:oe}),we?Me.data=we:(we=lf(o),we!==null&&(Me.data=we)))),(we=$0?J0(t,o):F0(t,o))&&(Me=Ia(L,"onBeforeInput"),0<Me.length&&(oe=new tf("onBeforeInput","beforeinput",null,o,V),F.push({event:oe,listeners:Me}),oe.data=we)),j_(F,t,L,o,V)}Jp(F,s)})}function ro(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Ia(t,s){for(var o=s+"Capture",u=[];t!==null;){var h=t,v=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||v===null||(h=Cr(t,o),h!=null&&u.unshift(ro(t,h,v)),h=Cr(t,s),h!=null&&u.push(ro(t,h,v))),t.tag===3)return u;t=t.return}return[]}function V_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yp(t,s,o,u,h){for(var v=s._reactName,S=[];o!==null&&o!==u;){var x=o,A=x.alternate,L=x.stateNode;if(x=x.tag,A!==null&&A===u)break;x!==5&&x!==26&&x!==27||L===null||(A=L,h?(L=Cr(o,v),L!=null&&S.unshift(ro(o,L,A))):h||(L=Cr(o,v),L!=null&&S.push(ro(o,L,A)))),o=o.return}S.length!==0&&t.push({event:s,listeners:S})}var z_=/\r\n?/g,H_=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(z_,`
`).replace(H_,"")}function Qp(t,s){return s=Kp(s),Kp(t)===s}function He(t,s,o,u,h,v){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ws(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ws(t,""+u);break;case"className":Oo(t,"class",u);break;case"tabIndex":Oo(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(t,o,u);break;case"style":Kd(t,u,v);break;case"data":if(s!=="object"){Oo(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Lo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&He(t,s,"name",h.name,h,null),He(t,s,"formEncType",h.formEncType,h,null),He(t,s,"formMethod",h.formMethod,h,null),He(t,s,"formTarget",h.formTarget,h,null)):(He(t,s,"encType",h.encType,h,null),He(t,s,"method",h.method,h,null),He(t,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Lo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=Pn);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Lo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Uo(t,"popover",u);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Uo(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=y0.get(o)||o,Uo(t,o,u))}}function pc(t,s,o,u,h,v){switch(o){case"style":Kd(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?ws(t,u):(typeof u=="number"||typeof u=="bigint")&&ws(t,""+u);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),v=t[bt]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(s,v,h),typeof u=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,u,h);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Uo(t,o,u)}}}function At(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var u=!1,h=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(t,s,v,S,o,null)}}h&&He(t,s,"srcSet",o.srcSet,o,null),u&&He(t,s,"src",o.src,o,null);return;case"input":Re("invalid",t);var x=v=S=h=null,A=null,L=null;for(u in o)if(o.hasOwnProperty(u)){var V=o[u];if(V!=null)switch(u){case"name":h=V;break;case"type":S=V;break;case"checked":A=V;break;case"defaultChecked":L=V;break;case"value":v=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:He(t,s,u,V,o,null)}}$d(t,v,x,A,L,S,h,!1);return;case"select":Re("invalid",t),u=S=v=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":v=x;break;case"defaultValue":S=x;break;case"multiple":u=x;default:He(t,s,h,x,o,null)}s=v,o=S,t.multiple=!!u,s!=null?Es(t,!!u,s,!1):o!=null&&Es(t,!!u,o,!0);return;case"textarea":Re("invalid",t),v=h=u=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":u=x;break;case"defaultValue":h=x;break;case"children":v=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:He(t,s,S,x,o,null)}Fd(t,u,h,v);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(u=o[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(t,s,A,u,o,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(u=0;u<so.length;u++)Re(so[u],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(t,s,L,u,o,null)}return;default:if(Rl(s)){for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!==void 0&&pc(t,s,V,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&He(t,s,x,u,o,null))}function $_(t,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,v=null,S=null,x=null,A=null,L=null,V=null;for(q in o){var F=o[q];if(o.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=F;default:u.hasOwnProperty(q)||He(t,s,q,null,u,F)}}for(var j in u){var q=u[j];if(F=o[j],u.hasOwnProperty(j)&&(q!=null||F!=null))switch(j){case"type":v=q;break;case"name":h=q;break;case"checked":L=q;break;case"defaultChecked":V=q;break;case"value":S=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==F&&He(t,s,j,q,u,F)}}Cl(t,S,x,A,L,V,v,h);return;case"select":q=S=x=j=null;for(v in o)if(A=o[v],o.hasOwnProperty(v)&&A!=null)switch(v){case"value":break;case"multiple":q=A;default:u.hasOwnProperty(v)||He(t,s,v,null,u,A)}for(h in u)if(v=u[h],A=o[h],u.hasOwnProperty(h)&&(v!=null||A!=null))switch(h){case"value":j=v;break;case"defaultValue":x=v;break;case"multiple":S=v;default:v!==A&&He(t,s,h,v,u,A)}s=x,o=S,u=q,j!=null?Es(t,!!o,j,!1):!!u!=!!o&&(s!=null?Es(t,!!o,s,!0):Es(t,!!o,o?[]:"",!1));return;case"textarea":q=j=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:He(t,s,x,null,u,h)}for(S in u)if(h=u[S],v=o[S],u.hasOwnProperty(S)&&(h!=null||v!=null))switch(S){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==v&&He(t,s,S,h,u,v)}Jd(t,j,q);return;case"option":for(var ie in o)if(j=o[ie],o.hasOwnProperty(ie)&&j!=null&&!u.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:He(t,s,ie,null,u,j)}for(A in u)if(j=u[A],q=o[A],u.hasOwnProperty(A)&&j!==q&&(j!=null||q!=null))switch(A){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:He(t,s,A,j,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in o)j=o[me],o.hasOwnProperty(me)&&j!=null&&!u.hasOwnProperty(me)&&He(t,s,me,null,u,j);for(L in u)if(j=u[L],q=o[L],u.hasOwnProperty(L)&&j!==q&&(j!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:He(t,s,L,j,u,q)}return;default:if(Rl(s)){for(var $e in o)j=o[$e],o.hasOwnProperty($e)&&j!==void 0&&!u.hasOwnProperty($e)&&pc(t,s,$e,void 0,u,j);for(V in u)j=u[V],q=o[V],!u.hasOwnProperty(V)||j===q||j===void 0&&q===void 0||pc(t,s,V,j,u,q);return}}for(var D in o)j=o[D],o.hasOwnProperty(D)&&j!=null&&!u.hasOwnProperty(D)&&He(t,s,D,null,u,j);for(F in u)j=u[F],q=o[F],!u.hasOwnProperty(F)||j===q||j==null&&q==null||He(t,s,F,j,u,q)}function Xp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],v=h.transferSize,S=h.initiatorType,x=h.duration;if(v&&x&&Xp(S)){for(S=0,x=h.responseEnd,u+=1;u<o.length;u++){var A=o[u],L=A.startTime;if(L>x)break;var V=A.transferSize,F=A.initiatorType;V&&Xp(F)&&(A=A.responseEnd,S+=V*(A<x?1:(x-L)/(A-L)))}if(--u,s+=8*(v+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mc=null,gc=null;function ka(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wp(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function vc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yc=null;function F_(){var t=window.event;return t&&t.type==="popstate"?t===yc?!1:(yc=t,!0):(yc=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,K_=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(t){return tm.resolve(null).then(t).catch(Q_)}:em;function Q_(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function nm(t,s){var o=s,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(h),nr(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")oo(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,oo(o);for(var v=o.firstChild;v;){var S=v.nextSibling,x=v.nodeName;v[Ot]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=S}}else o==="body"&&oo(t.ownerDocument.body);o=h}while(o);nr(s)}function im(t,s){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function _c(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_c(o),Be(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function X_(t,s,o,u){for(;t.nodeType===1;){var h=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ot])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var v=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function Z_(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=un(t.nextSibling),t===null))return null;return t}function sm(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=un(t.nextSibling),t===null))return null;return t}function bc(t){return t.data==="$?"||t.data==="$~"}function Sc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function W_(t,s){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function un(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Tc=null;function rm(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(s===0)return un(t.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}t=t.nextSibling}return null}function om(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return t;s--}else o!=="/$"&&o!=="/&"||s++}t=t.previousSibling}return null}function am(t,s,o){switch(s=ka(o),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function oo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Be(t)}var cn=new Map,lm=new Set;function Da(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=Y.d;Y.d={f:eb,r:tb,D:nb,C:ib,L:sb,m:rb,X:ab,S:ob,M:lb};function eb(){var t=Zn.f(),s=Ea();return t||s}function tb(t){var s=ot(t);s!==null&&s.tag===5&&s.type==="form"?wh(s):Zn.r(t)}var Ws=typeof document>"u"?null:document;function um(t,s,o){var u=Ws;if(u&&typeof s=="string"&&s){var h=tn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),lm.has(h)||(lm.add(h),t={rel:t,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),At(s,"link",t),Qe(s),u.head.appendChild(s)))}}function nb(t){Zn.D(t),um("dns-prefetch",t,null)}function ib(t,s){Zn.C(t,s),um("preconnect",t,s)}function sb(t,s,o){Zn.L(t,s,o);var u=Ws;if(u&&t&&s){var h='link[rel="preload"][as="'+tn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+tn(o.imageSizes)+'"]')):h+='[href="'+tn(t)+'"]';var v=h;switch(s){case"style":v=er(t);break;case"script":v=tr(t)}cn.has(v)||(t=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),cn.set(v,t),u.querySelector(h)!==null||s==="style"&&u.querySelector(ao(v))||s==="script"&&u.querySelector(lo(v))||(s=u.createElement("link"),At(s,"link",t),Qe(s),u.head.appendChild(s)))}}function rb(t,s){Zn.m(t,s);var o=Ws;if(o&&t){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(t)+'"]',v=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=tr(t)}if(!cn.has(v)&&(t=b({rel:"modulepreload",href:t},s),cn.set(v,t),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lo(v)))return}u=o.createElement("link"),At(u,"link",t),Qe(u),o.head.appendChild(u)}}}function ob(t,s,o){Zn.S(t,s,o);var u=Ws;if(u&&t){var h=Vt(u).hoistableStyles,v=er(t);s=s||"default";var S=h.get(v);if(!S){var x={loading:0,preload:null};if(S=u.querySelector(ao(v)))x.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},o),(o=cn.get(v))&&xc(t,o);var A=S=u.createElement("link");Qe(A),At(A,"link",t),A._p=new Promise(function(L,V){A.onload=L,A.onerror=V}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ua(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:x},h.set(v,S)}}}function ab(t,s){Zn.X(t,s);var o=Ws;if(o&&t){var u=Vt(o).hoistableScripts,h=tr(t),v=u.get(h);v||(v=o.querySelector(lo(h)),v||(t=b({src:t,async:!0},s),(s=cn.get(h))&&Ec(t,s),v=o.createElement("script"),Qe(v),At(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(h,v))}}function lb(t,s){Zn.M(t,s);var o=Ws;if(o&&t){var u=Vt(o).hoistableScripts,h=tr(t),v=u.get(h);v||(v=o.querySelector(lo(h)),v||(t=b({src:t,async:!0,type:"module"},s),(s=cn.get(h))&&Ec(t,s),v=o.createElement("script"),Qe(v),At(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(h,v))}}function cm(t,s,o,u){var h=(h=de.current)?Da(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=er(o.href),o=Vt(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=er(o.href);var v=Vt(h).hoistableStyles,S=v.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,S),(v=h.querySelector(ao(t)))&&!v._p&&(S.instance=v,S.state.loading=5),cn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(t,o),v||ub(h,t,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tr(o),o=Vt(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function er(t){return'href="'+tn(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function dm(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,s,o,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",o),Qe(s),t.head.appendChild(s))}function tr(t){return'[src="'+tn(t)+'"]'}function lo(t){return"script[async]"+t}function fm(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+tn(o.href)+'"]');if(u)return s.instance=u,Qe(u),u;var h=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Qe(u),At(u,"style",h),Ua(u,o.precedence,t),s.instance=u;case"stylesheet":h=er(o.href);var v=t.querySelector(ao(h));if(v)return s.state.loading|=4,s.instance=v,Qe(v),v;u=dm(o),(h=cn.get(h))&&xc(u,h),v=(t.ownerDocument||t).createElement("link"),Qe(v);var S=v;return S._p=new Promise(function(x,A){S.onload=x,S.onerror=A}),At(v,"link",u),s.state.loading|=4,Ua(v,o.precedence,t),s.instance=v;case"script":return v=tr(o.src),(h=t.querySelector(lo(v)))?(s.instance=h,Qe(h),h):(u=o,(h=cn.get(v))&&(u=b({},o),Ec(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),Qe(h),At(h,"link",u),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ua(u,o.precedence,t));return s.instance}function Ua(t,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,v=h,S=0;S<u.length;S++){var x=u[S];if(x.dataset.precedence===s)v=x;else if(v!==h)break}v?v.parentNode.insertBefore(t,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function xc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Ec(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Oa=null;function hm(t,s,o){if(Oa===null){var u=new Map,h=Oa=new Map;h.set(o,u)}else h=Oa,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),h=0;h<o.length;h++){var v=o[h];if(!(v[Ot]||v[Je]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=t+S;var x=u.get(S);x?x.push(v):u.set(S,[v])}}return u}function pm(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function cb(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function db(t,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=er(u.href),v=s.querySelector(ao(h));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Pa.bind(t),s.then(t,t)),o.state.loading|=4,o.instance=v,Qe(v);return}v=s.ownerDocument||s,u=dm(u),(h=cn.get(h))&&xc(u,h),v=v.createElement("link"),Qe(v);var S=v;S._p=new Promise(function(x,A){S.onload=x,S.onerror=A}),At(v,"link",u),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Pa.bind(t),s.addEventListener("load",o),s.addEventListener("error",o))}}var wc=0;function fb(t,s){return t.stylesheets&&t.count===0&&ja(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&ja(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+s);0<t.imgBytes&&wc===0&&(wc=62500*J_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ja(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>wc?50:800)+s);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ja(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var La=null;function ja(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,La=new Map,s.forEach(hb,t),La=null,Pa.call(t))}function hb(t,s){if(!(s.state.loading&4)){var o=La.get(t);if(o)var u=o.get(null);else{o=new Map,La.set(t,o);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<h.length;v++){var S=h[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}h=s.instance,S=h.getAttribute("data-precedence"),v=o.get(S)||u,v===u&&o.set(null,h),o.set(S,h),this.count++,u=Pa.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),v?v.parentNode.insertBefore(h,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var uo={$$typeof:I,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function pb(t,s,o,u,h,v,S,x,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function gm(t,s,o,u,h,v,S,x,A,L,V,F){return t=new pb(t,s,o,S,A,L,V,F,x),s=1,v===!0&&(s|=24),v=Ht(3,null,null,s),t.current=v,v.stateNode=t,s=su(),s.refCount++,t.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:s},lu(v),t}function vm(t){return t?(t=ks,t):ks}function ym(t,s,o,u,h,v){h=vm(h),u.context===null?u.context=h:u.pendingContext=h,u=pi(s),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=mi(t,u,s),o!==null&&(Gt(o,t,s),Gr(o,t,s))}function _m(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function Cc(t,s){_m(t,s),(t=t.alternate)&&_m(t,s)}function bm(t){if(t.tag===13||t.tag===31){var s=Hi(t,67108864);s!==null&&Gt(s,t,67108864),Cc(t,67108864)}}function Sm(t){if(t.tag===13||t.tag===31){var s=Kt();s=ee(s);var o=Hi(t,s);o!==null&&Gt(o,t,s),Cc(t,s)}}var qa=!0;function mb(t,s,o,u){var h=U.T;U.T=null;var v=Y.p;try{Y.p=2,Ac(t,s,o,u)}finally{Y.p=v,U.T=h}}function gb(t,s,o,u){var h=U.T;U.T=null;var v=Y.p;try{Y.p=8,Ac(t,s,o,u)}finally{Y.p=v,U.T=h}}function Ac(t,s,o,u){if(qa){var h=Rc(u);if(h===null)hc(t,s,u,Ba,o),xm(t,u);else if(yb(h,t,s,o,u))u.stopPropagation();else if(xm(t,u),s&4&&-1<vb.indexOf(t)){for(;h!==null;){var v=ot(h);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=pn(v.pendingLanes);if(S!==0){var x=v;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var A=1<<31-rt(S);x.entanglements[1]|=A,S&=~A}Rn(v),(je&6)===0&&(Ta=Rt()+500,io(0))}}break;case 31:case 13:x=Hi(v,2),x!==null&&Gt(x,v,2),Ea(),Cc(v,2)}if(v=Rc(u),v===null&&hc(t,s,u,Ba,o),v===h)break;h=v}h!==null&&u.stopPropagation()}else hc(t,s,u,null,o)}}function Rc(t){return t=Ml(t),Nc(t)}var Ba=null;function Nc(t){if(Ba=null,t=qe(t),t!==null){var s=l(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=c(s),t!==null)return t;t=null}else if(o===31){if(t=f(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ba=t,null}function Tm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(No()){case ms:return 2;case gs:return 8;case Nt:case Wt:return 32;case vs:return 268435456;default:return 32}default:return 32}}var Mc=!1,Ci=null,Ai=null,Ri=null,co=new Map,fo=new Map,Ni=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xm(t,s){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":co.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(s.pointerId)}}function ho(t,s,o,u,h,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[h]},s!==null&&(s=ot(s),s!==null&&bm(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function yb(t,s,o,u,h){switch(s){case"focusin":return Ci=ho(Ci,t,s,o,u,h),!0;case"dragenter":return Ai=ho(Ai,t,s,o,u,h),!0;case"mouseover":return Ri=ho(Ri,t,s,o,u,h),!0;case"pointerover":var v=h.pointerId;return co.set(v,ho(co.get(v)||null,t,s,o,u,h)),!0;case"gotpointercapture":return v=h.pointerId,fo.set(v,ho(fo.get(v)||null,t,s,o,u,h)),!0}return!1}function Em(t){var s=qe(t.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){t.blockedOn=s,it(t.priority,function(){Sm(o)});return}}else if(s===31){if(s=f(o),s!==null){t.blockedOn=s,it(t.priority,function(){Sm(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ga(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=Rc(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return s=ot(o),s!==null&&bm(s),t.blockedOn=o,!1;s.shift()}return!0}function wm(t,s,o){Ga(t)&&o.delete(s)}function _b(){Mc=!1,Ci!==null&&Ga(Ci)&&(Ci=null),Ai!==null&&Ga(Ai)&&(Ai=null),Ri!==null&&Ga(Ri)&&(Ri=null),co.forEach(wm),fo.forEach(wm)}function Va(t,s){t.blockedOn===s&&(t.blockedOn=null,Mc||(Mc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_b)))}var za=null;function Cm(t){za!==t&&(za=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){za===t&&(za=null);for(var s=0;s<t.length;s+=3){var o=t[s],u=t[s+1],h=t[s+2];if(typeof u!="function"){if(Nc(u||o)===null)continue;break}var v=ot(o);v!==null&&(t.splice(s,3),s-=3,Ru(v,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function nr(t){function s(A){return Va(A,t)}Ci!==null&&Va(Ci,t),Ai!==null&&Va(Ai,t),Ri!==null&&Va(Ri,t),co.forEach(s),fo.forEach(s);for(var o=0;o<Ni.length;o++){var u=Ni[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ni.length&&(o=Ni[0],o.blockedOn===null);)Em(o),o.blockedOn===null&&Ni.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],v=o[u+1],S=h[bt]||null;if(typeof v=="function")S||Cm(o);else if(S){var x=null;if(v&&v.hasAttribute("formAction")){if(h=v,S=v[bt]||null)x=S.formAction;else if(Nc(h)!==null)continue}else x=S.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),Cm(o)}}}function Am(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Ic(t){this._internalRoot=t}Ha.prototype.render=Ic.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Kt();ym(o,u,t,s,null,null)},Ha.prototype.unmount=Ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ym(t.current,2,null,t,null,null),Ea(),s[Un]=null}};function Ha(t){this._internalRoot=t}Ha.prototype.unstable_scheduleHydration=function(t){if(t){var s=ye();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Ni.length&&s!==0&&s<Ni[o].priority;o++);Ni.splice(o,0,t),o===0&&Em(t)}};var Rm=e.version;if(Rm!=="19.2.0")throw Error(r(527,Rm,"19.2.0"));Y.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{kn=$a.inject(bb),ut=$a}catch{}}return mo.createRoot=function(t,s){if(!a(t))throw Error(r(299));var o=!1,u="",h=Oh,v=Ph,S=Lh;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=gm(t,1,!1,null,null,o,u,null,h,v,S,Am),t[Un]=s.current,fc(t),new Ic(s)},mo.hydrateRoot=function(t,s,o){if(!a(t))throw Error(r(299));var u=!1,h="",v=Oh,S=Ph,x=Lh,A=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),s=gm(t,1,!0,s,o??null,u,h,A,v,S,x,Am),s.context=vm(null),o=s.current,u=Kt(),u=ee(u),h=pi(u),h.callback=null,mi(o,h,u),o=u,s.current.lanes=o,oi(s,o),Rn(s),t[Un]=s.current,fc(t),new Ha(s)},mo.version="19.2.0",mo}var jm;function Ib(){if(jm)return Uc.exports;jm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uc.exports=Mb(),Uc.exports}var kb=Ib();const Db=Td(kb),tt={className:"w-6 h-6",strokeWidth:1.5,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},cs=({className:n="w-8 h-8 text-white",...e})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[y.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ub=({className:n="w-5 h-5"})=>y.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),pl=({className:n="w-5 h-5"})=>y.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",children:y.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),jv=({className:n="w-6 h-6"})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M10.155 2.592L6.155 21.408C8.324 21.798 13.987 20.803 16.633 15.602C19.279 10.4 18.283 4.74 17.848 2.592H10.155Z",fill:"#635BFF"}),y.jsx("path",{d:"M12.001 2.592H4.309C3.874 4.74 2.878 10.4 5.524 15.602C8.17 20.803 13.833 21.798 16.002 21.408L12.001 2.592Z",fill:"#635BFF",opacity:"0.6"})]}),Ob=({className:n="w-5 h-5"})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M22.56 12.25C22.56 11.45 22.49 10.68 22.36 9.92H12V14.45H18.02C17.72 16.21 16.73 17.69 15.15 18.65V21.48H19.01C21.25 19.44 22.56 16.14 22.56 12.25Z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23C14.97 23 17.45 22.02 19.01 20.48L15.15 17.65C14.1 18.39 12.83 18.8 12 18.8C9.62 18.8 7.63 17.29 6.79 15.12H2.82V17.95C4.66 21.05 8.08 23 12 23Z",fill:"#34A853"}),y.jsx("path",{d:"M6.79 15.12C6.58 14.52 6.45 13.88 6.45 13.23C6.45 12.58 6.58 11.94 6.79 11.34V8.51H2.82C1.94 10.02 1.45 11.58 1.45 13.23C1.45 14.88 1.94 16.44 2.82 17.95L6.79 15.12Z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 7.2C13.23 7.2 14.28 7.64 15.09 8.4L18.01 5.51C16.45 4.02 14.47 3 12 3C8.08 3 4.66 4.95 2.82 8.05L6.79 10.88C7.63 8.71 9.62 7.2 12 7.2Z",fill:"#EA4335"})]}),qv=({className:n="w-6 h-6"})=>y.jsxs("svg",{...tt,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M9 4v16l-6 -4v-16z"}),y.jsx("path",{d:"M15 4v16l6 -4v-16z"}),y.jsx("path",{d:"M9 4l6 2"}),y.jsx("path",{d:"M9 20l6 -2"})]}),Bv=({className:n="w-6 h-6"})=>y.jsxs("svg",{...tt,className:n,viewBox:"0 0 24 24",children:[y.jsx("ellipse",{cx:"12",cy:"6",rx:"8",ry:"3"}),y.jsx("path",{d:"M4 6v12c0 1.66 3.58 3 8 3s8 -1.34 8 -3v-12"}),y.jsx("path",{d:"M4 12c0 1.66 3.58 3 8 3s8 -1.34 8 -3"})]}),Pb=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),y.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"})]}),Lb=()=>y.jsx("svg",{...tt,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12 3a12 12 0 0 0 8.5 3a12 12 0 0 1 -8.5 15a12 12 0 0 1 -8.5 -15a12 12 0 0 0 8.5 -3"})}),jb=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12 2l-8 4.5v9l8 4.5l8 -4.5v-9l-8 -4.5"}),y.jsx("path",{d:"M12 12l8 -4.5"}),y.jsx("path",{d:"M12 12v9"}),y.jsx("path",{d:"M12 12l-8 -4.5"}),y.jsx("path",{d:"M4 7.5l8 4.5l8 -4.5"})]}),Gv=({className:n="w-6 h-6"})=>y.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M12.235 2.25C12.063 2.11 11.838 2.11 11.666 2.25L1.82 8.416C1.696 8.513 1.696 8.709 1.82 8.806L11.666 14.972C11.838 15.111 12.063 15.111 12.235 14.972L22.08 8.806C22.204 8.709 22.204 8.513 22.08 8.416L12.235 2.25Z",fill:"#3ECF8E"}),y.jsx("path",{d:"M22.08 10.166C22.204 10.069 22.204 9.873 22.08 9.776L12.235 3.61C12.063 3.47 11.838 3.47 11.666 3.61L1.82 9.776C1.696 9.873 1.696 10.069 1.82 10.166L6.5 13.416L11.666 17.583C11.838 17.723 12.063 17.723 12.235 17.583L22.08 11.416L17.5 13.416L22.08 10.166Z",fill:"#3ECF8E"}),y.jsx("path",{d:"M22.08 12.916C22.204 12.819 22.204 12.623 22.08 12.526L12.235 6.36C12.063 6.22 11.838 6.22 11.666 6.36L1.82 12.526C1.696 12.623 1.696 12.819 1.82 12.916L11.666 19.083C11.838 19.223 12.063 19.223 12.235 19.083L22.08 12.916Z",fill:"#3ECF8E",opacity:"0.6"})]}),qb=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M20 12h-13l3 -3"}),y.jsx("path",{d:"M17 15l3 -3"})]}),Vv=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M9 12h12l-3 -3"}),y.jsx("path",{d:"M18 15l3 -3"})]}),Bb=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1.002 -.608 2.07 .098 2.572 1.065z"}),y.jsx("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"})]}),zv=()=>y.jsxs("svg",{...tt,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M7 11l5 5l5 -5"}),y.jsx("path",{d:"M12 4l0 12"})]}),sl=()=>y.jsxs("svg",{...tt,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M14 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),y.jsx("path",{d:"M21 12a9 9 0 1 1 -18 0a9 9 0 0 1 18 0"}),y.jsx("path",{d:"M12.5 11.5l-4 4l1.5 1.5l4 -4"}),y.jsx("path",{d:"M12 15l-1.5 -1.5"})]}),Dt=({className:n="w-5 h-5"})=>y.jsxs("svg",{...tt,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M18 6l-12 12"}),y.jsx("path",{d:"M6 6l12 12"})]}),ml=()=>y.jsxs("svg",{...tt,className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[y.jsx("path",{d:"M12 3l1.5 4.5h4.5l-3.5 2.5 1.5 4.5-4-3-4 3 1.5-4.5-3.5-2.5h4.5z"}),y.jsx("path",{d:"M3 12l4.5 1.5v4.5l2.5-3.5 4.5 1.5-3-4 3-4 3-4-4.5 1.5-2.5-3.5v4.5z"})]}),Gb=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M4 6l16 0"}),y.jsx("path",{d:"M4 12l16 0"}),y.jsx("path",{d:"M4 18l16 0"})]}),Vb=()=>y.jsx("svg",{...tt,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M21 15a2 2 0 0 1 -2 2h-11l-4 4v-13a2 2 0 0 1 2 -2h11a2 2 0 0 1 2 2v8z"})}),zb=({className:n="w-5 h-5"})=>y.jsxs("svg",{...tt,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),y.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),Hb=({className:n="w-5 h-5"})=>y.jsx("svg",{...tt,className:n,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})}),Hv=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),y.jsx("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),y.jsx("path",{d:"M14 4l0 4l-6 0l0 -4"})]}),Ed=({className:n="w-5 h-5"})=>y.jsxs("svg",{...tt,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M4 7l16 0"}),y.jsx("path",{d:"M10 11l0 6"}),y.jsx("path",{d:"M14 11l0 6"}),y.jsx("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),y.jsx("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]}),$b=({className:n="w-4 h-4"})=>y.jsxs("svg",{...tt,className:n,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"}),y.jsx("path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"}),y.jsx("path",{d:"M16 5l3 3"})]}),Jb=()=>y.jsx("svg",{...tt,viewBox:"0 0 24 24",children:y.jsx("path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"})}),Fb=()=>y.jsx("svg",{...tt,className:"w-5 h-5",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"})}),$v=()=>y.jsxs("svg",{...tt,className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M5 7l5 5l-5 5"}),y.jsx("path",{d:"M12 19h7"})]}),Yb=()=>y.jsx("svg",{...tt,className:"w-5 h-5",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M15.5 6.5a3.5 3.5 0 1 1 -7 0v8.5a5.5 5.5 0 1 0 11 0v-6.5"})}),Wc=()=>y.jsxs("svg",{...tt,viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M15 8h.01"}),y.jsx("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),y.jsx("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),y.jsx("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l2 2"})]}),yn=({text:n,children:e})=>y.jsxs("div",{className:"group relative flex justify-center",children:[e,y.jsx("span",{className:"absolute left-14 p-2 text-xs w-max max-w-xs bg-var-bg-muted text-var-fg-default rounded-md scale-0 transition-all group-hover:scale-100 origin-left z-30 shadow-lg border border-var-border-default",children:n})]}),Kb=({x:n,y:e,actions:i,onClose:r})=>y.jsx("div",{className:"fixed inset-0 z-50",onClick:r,children:y.jsx("div",{style:{top:e,left:n},className:"absolute bg-var-bg-subtle border border-var-border-default rounded-md shadow-2xl w-40 py-1.5 animate-fadeIn",onClick:a=>a.stopPropagation(),children:i.map((a,l)=>y.jsxs("button",{onClick:()=>{a.onClick(),r()},className:`w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm transition-colors ${a.isDestructive?"text-red-400 hover:bg-red-500/10":"text-var-fg-default hover:bg-var-bg-interactive"}`,children:[a.icon,y.jsx("span",{children:a.label})]},l))})}),Qb=({vars:n,onSave:e})=>{const[i,r]=H.useState(Object.entries(n)),[a,l]=H.useState(!1),c=()=>{r([...i,["",""]]),l(!0)},f=_=>{r(i.filter((b,T)=>T!==_)),l(!0)},g=(_,b,T)=>{const E=[...i];E[_][b==="key"?0:1]=T,r(E),l(!0)},p=()=>{const _=i.reduce((b,[T,E])=>(T&&(b[T]=E),b),{});e(_),l(!1)};return y.jsxs("div",{className:"p-2 space-y-2 mt-2 flex flex-col h-full",children:[y.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:i.map(([_,b],T)=>y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("input",{type:"text",placeholder:"NOME",value:_,onChange:E=>g(T,"key",E.target.value),className:"w-full p-1.5 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle text-xs font-mono focus:outline-none focus:ring-1 focus:ring-var-accent/50"}),y.jsx("input",{type:"password",placeholder:"VALOR",value:b,onChange:E=>g(T,"value",E.target.value),className:"w-full p-1.5 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle text-xs font-mono focus:outline-none focus:ring-1 focus:ring-var-accent/50"}),y.jsx("button",{onClick:()=>f(T),className:"p-1 text-var-fg-subtle hover:text-red-400",children:y.jsx(Ed,{className:"w-4 h-4"})})]},T))}),y.jsxs("div",{className:"flex-shrink-0 mt-2 space-y-2",children:[y.jsx("button",{onClick:c,className:"w-full text-sm py-1.5 border border-dashed border-var-border-default rounded-md text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:"Adicionar Varivel"}),y.jsx("button",{onClick:p,disabled:!a,className:"w-full bg-var-accent text-var-accent-fg text-sm font-medium py-1.5 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Alteraes"})]})]})},qm=({files:n,envVars:e,onEnvVarChange:i,onFileSelect:r,onDownload:a,onOpenSettings:l,onOpenGithubImport:c,onOpenSupabaseAdmin:f,onNewProject:g,onSaveProject:p,onOpenProjects:_,onOpenImageStudio:b,onRenameFile:T,onDeleteFile:E,onOpenStripeModal:C,onOpenNeonModal:N,onOpenOSMModal:w,activeFile:k,onClose:O,session:I,onLogin:G,onLogout:Q})=>{const[z,B]=hl.useState("files"),[ne,Z]=H.useState(null),[ue,_e]=H.useState(null),ce=H.useRef(null),De=(U,Y)=>{U.preventDefault(),Z({x:U.clientX,y:U.clientY,file:Y})};H.useEffect(()=>{ue&&ce.current&&(ce.current.focus(),ce.current.select())},[ue]);const le=(U,Y)=>{Y&&Y!==U&&T(U,Y),_e(null)},he=ne?[{label:"Editar",icon:y.jsx($b,{}),onClick:()=>_e(ne.file.name)},{label:"Deletar",icon:y.jsx(Ed,{className:"w-4 h-4"}),isDestructive:!0,onClick:()=>{window.confirm(`Tem certeza que deseja deletar o arquivo "${ne.file.name}"?`)&&E(ne.file.name)}}]:[];return y.jsxs("div",{className:"bg-var-bg-subtle flex h-full",children:[y.jsxs("div",{className:"w-16 bg-var-bg-muted p-2 flex flex-col items-center justify-between border-r border-var-border-default",children:[y.jsxs("div",{children:[y.jsx(yn,{text:"Pgina Inicial / Novo Projeto",children:y.jsx("button",{onClick:g,className:"p-1 mb-2 rounded-lg hover:bg-var-bg-interactive flex items-center justify-center w-full",children:y.jsx(cs,{className:"w-8 h-8 text-var-accent"})})}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(yn,{text:"Explorador de Arquivos",children:y.jsx("button",{onClick:()=>B("files"),className:`p-2 rounded-lg transition-colors ${z==="files"?"text-var-fg-default bg-var-bg-interactive":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:y.jsx(Pb,{})})}),y.jsx(yn,{text:"Variveis de Ambiente",children:y.jsx("button",{onClick:()=>B("environment"),className:`p-2 rounded-lg transition-colors ${z==="environment"?"text-var-fg-default bg-var-bg-interactive":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:y.jsx(Lb,{})})}),y.jsx(yn,{text:"Integraes",children:y.jsx("button",{onClick:()=>B("integrations"),className:`p-2 rounded-lg transition-colors ${z==="integrations"?"text-var-fg-default bg-var-bg-interactive":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:y.jsx(jb,{})})}),y.jsx(yn,{text:"Salvar Projeto",children:y.jsx("button",{onClick:p,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Hv,{})})}),y.jsx(yn,{text:"Meus Projetos",children:y.jsx("button",{onClick:_,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Jb,{})})}),y.jsx(yn,{text:"Gerador de Imagem",children:y.jsx("button",{onClick:b,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Wc,{})})})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(yn,{text:"Baixar Projeto (ZIP)",children:y.jsx("button",{onClick:a,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(zv,{})})}),I?y.jsx(yn,{text:`Sair (${I.user.email})`,children:y.jsx("button",{onClick:Q,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Vv,{})})}):y.jsx(yn,{text:"Login / Registrar",children:y.jsx("button",{onClick:G,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(qb,{})})}),y.jsx(yn,{text:"Configuraes",children:y.jsx("button",{onClick:l,className:"p-2 rounded-lg text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors",children:y.jsx(Bb,{})})})]})]}),y.jsxs("div",{className:"w-64 bg-var-bg-subtle flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center p-2 flex-shrink-0",children:[y.jsx("h2",{className:"text-sm font-bold uppercase text-var-fg-muted tracking-wider",children:z==="files"?"Explorador":z==="environment"?"Ambiente":"Integraes"}),O&&y.jsx("button",{onClick:O,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive lg:hidden",children:y.jsx(Dt,{})})]}),z==="files"&&y.jsx("ul",{className:"mt-2 space-y-1 p-2 overflow-y-auto",children:n.map(U=>y.jsx("li",{children:y.jsx("button",{onClick:()=>r(U.name),onContextMenu:Y=>De(Y,U),className:`w-full text-left px-2 py-1.5 rounded text-sm flex items-center gap-2 transition-colors ${k===U.name?"bg-var-accent/20 text-var-accent":"text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default"}`,children:ue===U.name?y.jsx("input",{ref:ce,type:"text",defaultValue:U.name,className:"bg-var-bg-default w-full text-var-fg-default text-sm outline-none ring-1 ring-var-accent",onBlur:Y=>le(U.name,Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&le(U.name,Y.currentTarget.value),Y.key==="Escape"&&_e(null)}}):y.jsx("span",{children:U.name})})},U.name))}),z==="environment"&&y.jsx(Qb,{vars:e,onSave:i}),z==="integrations"&&y.jsxs("div",{className:"p-2 space-y-2 mt-2 overflow-y-auto",children:[y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(pl,{className:"w-6 h-6"}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"GitHub"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Importe repositrios para comear rapidamente."}),y.jsx("button",{onClick:c,className:"w-full bg-var-bg-subtle hover:bg-var-bg-default border border-var-border-default text-var-fg-default text-sm font-medium py-1.5 rounded-md transition-colors",children:"Conectar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(Gv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Supabase"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Permita que a IA modifique seu banco de dados."}),y.jsx("button",{onClick:f,className:"w-full bg-green-600/80 hover:bg-green-600 text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Gerenciar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(jv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Stripe"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Integre pagamentos em seu aplicativo."}),y.jsx("button",{onClick:C,className:"w-full bg-[#635BFF]/80 hover:bg-[#635BFF] text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Gerenciar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(Bv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Neon"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Conecte um banco de dados PostgreSQL serverless."}),y.jsx("button",{onClick:N,className:"w-full bg-emerald-500/80 hover:bg-emerald-500 text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Gerenciar"})]}),y.jsxs("div",{className:"bg-var-bg-interactive p-3 rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(qv,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"OpenStreetMap"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Adicione mapas interativos ao seu projeto."}),y.jsx("button",{onClick:w,className:"w-full bg-blue-500/80 hover:bg-blue-500 text-white text-sm font-medium py-1.5 rounded-md transition-colors",children:"Informaes"})]})]})]}),ne&&y.jsx(Kb,{...ne,actions:he,onClose:()=>Z(null)})]})},Xb=n=>{var i;switch((i=n.split(".").pop())==null?void 0:i.toLowerCase()){case"js":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";case"html":return"html";case"css":return"css";case"json":return"json";case"md":return"markdown";case"py":return"python";case"rb":return"ruby";case"go":return"go";case"rs":return"rust";case"java":return"java";case"cs":return"csharp";case"php":return"php";case"sh":return"shell";case"yml":case"yaml":return"yaml";case"dockerfile":return"dockerfile";case"sql":return"sql";case"graphql":return"graphql";case"vue":return"vue";case"svelte":return"svelte";case"png":case"jpg":case"jpeg":case"gif":case"svg":case"webp":return"image";default:return"plaintext"}},jc=({children:n,...e})=>y.jsx("a",{...e,className:"text-sm font-medium text-var-fg-muted hover:text-var-fg-default transition-colors cursor-pointer",children:n}),Bm=["um clone do Trello com autenticao Supabase...","um site de portflio para um fotgrafo...","um app de lista de tarefas com React e Tailwind CSS...","uma landing page para um app de delivery..."],Gm=({onPromptSubmit:n,onShowPricing:e,onShowProjects:i,onOpenGithubImport:r,onFolderImport:a,session:l,onLoginClick:c,onNewProject:f,onLogout:g})=>{const[p,_]=H.useState(""),[b,T]=H.useState(""),E=H.useRef(0),C=H.useRef(0),N=H.useRef(!1),w=H.useRef(null),k=H.useRef(null);H.useEffect(()=>{const G=()=>{const Q=Bm[E.current];let z="",B=120;N.current?(z=Q.substring(0,C.current-1),C.current--,B=75,C.current===0&&(N.current=!1,E.current=(E.current+1)%Bm.length,B=500)):(z=Q.substring(0,C.current+1),C.current++,C.current===Q.length&&(N.current=!0,B=2e3)),T(z),w.current=window.setTimeout(G,B)};return w.current=window.setTimeout(G,100),()=>{w.current&&clearTimeout(w.current)}},[]);const O=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),p.trim()&&n(p.trim()))},I=async G=>{const Q=G.target.files;if(!Q||Q.length===0)return;const z=Array.from(Q).map(B=>new Promise((ne,Z)=>{const ue=new FileReader,_e=B.type.startsWith("image/");if(B.size>2*1024*1024){console.warn(`Skipping file ${B.name} as it is too large.`),ne(null);return}ue.onload=()=>{try{let ce;if(_e){const De=ue.result;ce=De.substring(De.indexOf(",")+1)}else ce=ue.result;ne({name:B.webkitRelativePath,language:Xb(B.name),content:ce})}catch(ce){Z(ce)}},ue.onerror=Z,_e?ue.readAsDataURL(B):ue.readAsText(B)}));try{const ne=(await Promise.all(z)).filter(Z=>Z!==null);ne.length>0?a(ne):alert("Nenhum arquivo vlido foi encontrado na pasta selecionada ou os arquivos eram muito grandes.")}catch(B){console.error("Failed to import folder:",B),alert("Ocorreu um erro ao importar a pasta. Verifique o console para mais detalhes.")}finally{k.current&&(k.current.value="")}};return y.jsxs("div",{className:"flex flex-col h-screen w-screen bg-var-bg-default text-var-fg-default overflow-hidden font-sans",children:[y.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 p-4 bg-var-bg-default/80 backdrop-blur-sm border-b border-var-border-subtle",children:y.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[y.jsxs("button",{onClick:f,className:"flex items-center gap-2",children:[y.jsx(cs,{className:"w-6 h-6 text-var-accent"}),y.jsxs("span",{className:"text-var-fg-default font-semibold text-lg",children:["codagem",y.jsx("span",{className:"font-light",children:"studio"})]})]}),y.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[y.jsx(jc,{onClick:G=>{G.preventDefault(),i()},children:"Projetos"}),y.jsx(jc,{onClick:G=>{G.preventDefault(),e()},children:"Preos"}),y.jsx(jc,{href:"https://www.linkedin.com/in/pedro-berbis-freire-3b71bb37a/",target:"_blank",children:"LinkedIn"}),l?y.jsx("button",{onClick:g,className:"px-3 py-1.5 text-sm bg-var-bg-interactive text-var-fg-muted rounded-md hover:bg-var-bg-default transition-colors font-medium",children:"Sair"}):y.jsx("button",{onClick:c,className:"px-3 py-1.5 text-sm bg-var-accent text-var-accent-fg rounded-md hover:opacity-90 transition-opacity font-semibold",children:"Login"})]}),y.jsx("div",{className:"flex items-center gap-4 md:hidden",children:l?y.jsxs(y.Fragment,{children:[y.jsx("a",{href:"https://www.linkedin.com/in/pedro-berbis-freire-3b71bb37a/",target:"_blank",rel:"noopener noreferrer",className:"text-var-fg-muted hover:text-var-fg-default transition-colors",children:y.jsx(Ub,{})}),y.jsx("button",{onClick:g,className:"p-1 rounded-md text-var-fg-muted hover:text-var-fg-default transition-colors",children:y.jsx(Vv,{})})]}):y.jsx("button",{onClick:c,className:"px-3 py-1.5 text-sm bg-var-accent text-var-accent-fg rounded-md hover:opacity-90 transition-opacity font-semibold",children:"Login"})})]})}),y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center text-center px-4 relative z-0 animate-fadeIn",children:[y.jsx("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:y.jsx("div",{className:"absolute top-1/2 left-1/2 w-[80vw] h-[80vw] max-w-[800px] max-h-[800px] -translate-x-1/2 -translate-y-1/2 bg-var-accent/10 rounded-full blur-3xl animate-pulse",style:{animationDuration:"8s"}})}),y.jsxs("div",{className:"max-w-3xl w-full animate-slideInUp",style:{animationDelay:"100ms"},children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-var-fg-default tracking-tight",children:"Bem vindo"}),y.jsx("p",{className:"mt-4 text-lg text-var-fg-muted",children:"Crie seu novo projeto agora mesmo!"}),y.jsxs("div",{className:"relative mt-8 group",children:[y.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-var-accent to-blue-500 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),y.jsx("textarea",{value:p,onChange:G=>_(G.target.value),onKeyDown:O,placeholder:b,className:"relative w-full h-28 p-4 bg-var-bg-subtle border border-var-border-default rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-var-accent/50 text-var-fg-default placeholder-var-fg-subtle"}),y.jsxs("button",{onClick:()=>n(p.trim()),disabled:!p.trim(),className:"absolute bottom-4 right-4 flex items-center gap-2 px-4 py-2 bg-var-accent text-var-accent-fg rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx(ml,{}),y.jsx("span",{children:"Gerar"})]})]}),y.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-sm",children:[y.jsx("span",{className:"text-var-fg-muted",children:"ou importe de"}),y.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 bg-var-bg-interactive border border-var-border-default rounded-full hover:bg-opacity-80 transition-all text-var-fg-muted hover:text-var-fg-default",children:[y.jsx(pl,{}),y.jsx("span",{children:"GitHub"})]}),y.jsx("input",{type:"file",ref:k,onChange:I,multiple:!0,style:{display:"none"},webkitdirectory:"true",directory:"true"}),y.jsxs("button",{onClick:()=>{var G;return(G=k.current)==null?void 0:G.click()},className:"flex items-center gap-2 px-3 py-1.5 bg-var-bg-interactive border border-var-border-default rounded-full hover:bg-opacity-80 transition-all text-var-fg-muted hover:text-var-fg-default",children:[y.jsx(Fb,{}),y.jsx("span",{children:"Pasta Local"})]})]})]})]})]})},Vm={imports:{react:"https://esm.sh/react@^19.1.0","react/":"https://esm.sh/react@^19.1.0/","react-dom":"https://esm.sh/react-dom@^19.1.1","react-dom/":"https://esm.sh/react-dom@^19.1.1/","@supabase/supabase-js":"https://esm.sh/@supabase/supabase-js@^2.44.4"}},Ja=(n,e)=>{const i=n.split("/");i.pop();const r=e.split("/");for(const a of r)a!=="."&&(a===".."?i.pop():i.push(a));return i.join("/")},Zb=({files:n,onError:e,theme:i,envVars:r})=>{const[a,l]=H.useState(void 0);return H.useEffect(()=>{let c=[];const f=async()=>{if(n.length===0)return{src:void 0,urlsToRevoke:[]};if(!window.Babel)return e("Babel.js no foi carregado."),{src:URL.createObjectURL(new Blob(['<div class="flex items-center justify-center h-full text-red-400">Babel.js no foi carregado. No  possvel gerar a visualizao.</div>'],{type:"text/html"})),urlsToRevoke:[]};const g=new Map(n.map(w=>[w.name,w])),p=n.filter(w=>/\.(tsx|ts|jsx|js)$/.test(w.name)),_=n.filter(w=>w.name.endsWith(".css")),b=n.filter(w=>/\.(png|jpe?g|gif|svg|webp)$/i.test(w.name)),T=n.filter(w=>w.name.toLowerCase().endsWith(".html")),E=T.find(w=>w.name.toLowerCase()==="index.html")||T[0];if(!E){const w=`
        <!DOCTYPE html><html lang="pt-BR" class="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></head><body style="margin: 0;"><div style="font-family: 'Inter', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: #c9d1d9; background-color: #0d1117; padding: 2rem; text-align: center; box-sizing: border-box;"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: #484f58; margin-bottom: 1rem;"><path d="M14 3v4a1 1 0 0 0 1 1h4"></path><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line></svg><h2 style="font-size: 1.25rem; font-weight: 600; margin: 0 0 0.5rem 0;">Apenas para Visualizao Web</h2><p style="color: #8b949e; max-width: 450px; line-height: 1.5; margin: 0;">A aba "Visualizao" foi projetada para renderizar projetos web que contm um arquivo <code style="background-color: #21262d; padding: 2px 6px; border-radius: 4px; font-family: monospace; font-size: 0.875rem;">index.html</code>. Para ver o contedo de outros arquivos de cdigo, por favor, use a aba "Cdigo".</p></div></body></html>
        `,k=new Blob([w],{type:"text/html"}),O=URL.createObjectURL(k);return{src:O,urlsToRevoke:[O]}}let C=[];const N=JSON.parse(JSON.stringify(Vm));try{const w=new Map;for(const le of[..._,...b])try{let he;if(le.language==="image"){const Y=atob(le.content),re=new Array(Y.length);for(let R=0;R<Y.length;R++)re[R]=Y.charCodeAt(R);const be=new Uint8Array(re),ve=`image/${le.name.split(".").pop()||"png"}`;he=new Blob([be],{type:ve})}else he=new Blob([le.content],{type:"text/css"});const U=URL.createObjectURL(he);C.push(U),w.set(le.name,U)}catch(he){console.warn(`Could not create blob URL for asset ${le.name}:`,he)}for(const le of p){let he=le.content;const U=/(from\s*|import\s*\()(['"])([^'"]+)(['"])/g;he=he.replace(U,(ve,R,$,X,K)=>{if(Object.keys(Vm.imports).some(Ye=>X===Ye||X.startsWith(Ye+"/"))||X.startsWith("http"))return ve;let de=X.startsWith(".")?Ja(le.name,X):X;de.startsWith("/")&&(de=de.substring(1));const Ie=["",".ts",".tsx",".js",".jsx","/index.ts","/index.tsx","/index.js","/index.jsx"];for(const Ye of Ie)if(g.has(de+Ye))return`${R}${$}/${de+Ye}${K}`;return console.warn(`Could not resolve local import for path: "${X}" in file: "${le.name}"`),ve});let Y=he;/\.(tsx|ts|jsx)$/.test(le.name)&&(Y=window.Babel.transform(he,{presets:["react",["typescript",{allExtensions:!0,isTSX:le.name.endsWith(".tsx")}]],filename:le.name}).code);const re=new Blob([Y],{type:"application/javascript"}),be=URL.createObjectURL(re);C.push(be),N.imports[`/${le.name}`]=be}const k=new Map,O=new Map;for(const le of T){let he=le.content;he=he.replace(/(src|href)=["']((?:\.\/|\/)?)([^"']+)["']/g,(U,Y,re,be)=>{const ve=Ja(le.name,be);return w.has(ve)?`${Y}="${w.get(ve)}"`:U}),k.set(le.name,he)}for(const[le,he]of k.entries()){const U=new Blob([he],{type:"text/html"}),Y=URL.createObjectURL(U);C.push(Y),O.set(le,Y)}for(const le of T){let he=k.get(le.name);he=he.replace(/<a\s+(?:[^>]*?\s+)?href=(["'])([^"']+?\.html)\1/g,(U,Y,re)=>{const be=Ja(le.name,re);return O.has(be)?U.replace(re,O.get(be)):U}),k.set(le.name,he)}let I=k.get(E.name);const G=`window.process = { env: ${JSON.stringify(r)} };`,Q=new Blob([G],{type:"application/javascript"}),z=URL.createObjectURL(Q);C.push(z);const B=`
          <script src="${z}"><\/script>
          <script>document.documentElement.className = '${i}';<\/script>
          <script type="importmap">${JSON.stringify(N)}<\/script>
        `;I=I.replace("</head>",`${B}</head>`);const ne=/(<script[^>]*src=["'])([^"']+)(["'][^>]*>)/,Z=I.match(ne);if(Z){const le=Z[2];let he=le.startsWith("/")?le:Ja(E.name,le);const U=N.imports[`/${he}`]||N.imports[he];U?I=I.replace(le,U):console.warn(`Could not find blob URL for main script: ${le} (resolved to ${he})`)}const ue=new Blob([I],{type:"text/html"}),_e=URL.createObjectURL(ue);C.push(_e),O.forEach((le,he)=>URL.revokeObjectURL(le)),C=C.filter(le=>!O.has(le));for(const[le,he]of k.entries()){const U=new Blob([he],{type:"text/html"}),Y=URL.createObjectURL(U);C.push(Y),E.name}const ce=new Blob([I],{type:"text/html"}),De=URL.createObjectURL(ce);return C.push(De),{src:De,urlsToRevoke:C}}catch(w){console.error("Erro ao gerar a visualizao:",w);const k=w instanceof Error?w.message.replace(/ \(\d+:\d+\)$/,""):"Ocorreu um erro desconhecido.";e(k);const O=new Blob([`<div class="p-4 text-red-400 bg-var-bg-subtle"><pre>Erro ao gerar a visualizao:
${k}</pre></div>`],{type:"text/html"}),I=URL.createObjectURL(O);return{src:I,urlsToRevoke:[...C,I]}}};return l(void 0),f().then(g=>{l(g.src),c=g.urlsToRevoke}),()=>{c.forEach(g=>URL.revokeObjectURL(g))}},[n,e,i,r]),y.jsx("div",{className:"w-full h-full bg-var-bg-muted",children:y.jsx("iframe",{src:a,title:"Visualizao do Projeto",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",className:"w-full h-full border-0"},a)})},Wb=({code:n})=>y.jsx("pre",{className:"p-4 text-sm whitespace-pre-wrap break-words text-var-fg-default",children:y.jsx("code",{className:"font-mono",children:n})}),eS=({projectName:n,onRunLocally:e,theme:i,onThemeChange:r})=>y.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-var-border-default flex-shrink-0",children:[y.jsx("div",{className:"text-sm text-var-fg-muted font-medium",children:n}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>r(i==="dark"?"light":"dark"),className:"p-2 rounded-md text-var-fg-muted hover:bg-var-bg-interactive hover:text-var-fg-default transition-colors","aria-label":"Toggle theme",children:i==="dark"?y.jsx(zb,{className:"w-5 h-5"}):y.jsx(Hb,{className:"w-5 h-5"})}),y.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-var-accent text-var-accent-fg rounded-md hover:opacity-90 transition-opacity font-semibold",children:[y.jsx($v,{}),y.jsx("span",{children:"Executar Local"})]})]})]}),tS=({message:n,onFix:e,onClose:i})=>(H.useEffect(()=>{const r=setTimeout(()=>{i()},8e3);return()=>clearTimeout(r)},[i]),y.jsx("div",{className:"absolute bottom-4 right-4 z-50 w-full max-w-sm animate-slideInUp",children:y.jsx("div",{className:"bg-var-bg-subtle rounded-lg shadow-2xl border border-var-border-default overflow-hidden",children:y.jsx("div",{className:"p-4 border-l-4 border-red-500",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("svg",{className:"w-6 h-6 flex-shrink-0 text-red-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"font-semibold text-var-fg-default",children:"Erro na Visualizao"}),y.jsx("p",{className:"text-sm text-var-fg-muted mt-1 break-words",children:n}),y.jsx("div",{className:"mt-4 flex gap-2",children:y.jsxs("button",{onClick:e,className:"px-3 py-1 text-xs font-semibold text-white bg-var-accent rounded hover:opacity-90 transition-all flex items-center gap-1.5",children:[y.jsx(ml,{})," Corrigir com IA"]})})]}),y.jsx("button",{onClick:i,className:"p-1 rounded-full hover:bg-var-bg-interactive text-var-fg-subtle hover:text-var-fg-default flex-shrink-0",children:y.jsx(Dt,{className:"w-4 h-4"})})]})})})})),nS=({files:n,activeFile:e,projectName:i,theme:r,onThemeChange:a,onFileSelect:l,onFileDelete:c,onRunLocally:f,codeError:g,onFixCode:p,onClearError:_,onError:b,envVars:T})=>{const[E,C]=H.useState("code"),N=n.find(k=>k.name===e),w=(k,O)=>{k.stopPropagation(),window.confirm(`Tem certeza de que deseja excluir "${O}" do projeto?`)&&c(O)};return y.jsxs("div",{className:"flex flex-col h-full bg-var-bg-subtle",children:[y.jsx(eS,{projectName:i,onRunLocally:f,theme:r,onThemeChange:a}),y.jsxs("div",{className:"flex items-center justify-between border-b border-var-border-default bg-var-bg-muted flex-shrink-0",children:[y.jsx("div",{className:"flex-grow flex-shrink overflow-x-auto overflow-y-hidden",children:y.jsx("div",{className:"flex",children:n.map(k=>y.jsxs("button",{onClick:()=>l(k.name),className:`flex items-center px-4 py-2.5 text-sm border-r border-var-border-default relative transition-colors duration-200 ${e===k.name?"text-var-fg-default bg-var-bg-subtle":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:[y.jsx("span",{className:"truncate max-w-xs",children:k.name}),y.jsx("span",{onClick:O=>w(O,k.name),className:"ml-3 p-1 rounded-full hover:bg-var-bg-interactive",children:y.jsx(Dt,{className:"w-3 h-3"})}),e===k.name&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-var-accent"})]},k.name))})}),y.jsxs("div",{className:"p-1 bg-var-bg-default rounded-md m-2 flex-shrink-0",children:[y.jsx("button",{onClick:()=>C("code"),className:`px-3 py-1 text-xs rounded transition-colors ${E==="code"?"bg-var-accent text-var-accent-fg":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:"Cdigo"}),y.jsx("button",{onClick:()=>C("preview"),className:`px-3 py-1 text-xs rounded transition-colors ${E==="preview"?"bg-var-accent text-var-accent-fg":"text-var-fg-muted hover:bg-var-bg-interactive"}`,children:"Visualizao"})]})]}),y.jsxs("div",{className:"flex-grow overflow-auto bg-var-bg-subtle relative",children:[E==="code"?N?y.jsx(Wb,{code:N.content}):y.jsx("div",{className:"p-4 text-var-fg-muted",children:"Selecione um arquivo para ver seu contedo."}):y.jsx(Zb,{files:n,onError:b,theme:r,envVars:T}),g&&y.jsx(tS,{message:g,onFix:p,onClose:_})]})]})};var xe=(n=>(n.Gemini="Gemini",n.OpenAI="OpenAI",n.DeepSeek="DeepSeek",n.OpenRouter="OpenRouter",n))(xe||{});const go=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:xe.Gemini},{id:"gpt-4o",name:"GPT-4o",provider:xe.OpenAI},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:xe.OpenAI},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",provider:xe.OpenAI},{id:"deepseek-coder",name:"DeepSeek Coder",provider:xe.DeepSeek},{id:"deepseek-chat",name:"DeepSeek Chat",provider:xe.DeepSeek},{id:"mistralai/mistral-7b-instruct-free",name:"Mistral 7B (Free)",provider:xe.OpenRouter},{id:"google/gemma-7b-it-free",name:"Gemma 7B (Free)",provider:xe.OpenRouter},{id:"nousresearch/nous-hermes-2-mixtral-8x7b-dpo",name:"Nous Hermes 2 Mixtral (Free)",provider:xe.OpenRouter},{id:"deepseek/deepseek-coder-v2-lite-instruct",name:"DeepSeek Coder V2 (OpenRouter)",provider:xe.OpenRouter},{id:"deepseek/deepseek-chat",name:"DeepSeek Chat (OpenRouter)",provider:xe.OpenRouter},{id:"z-ai/glm-4.5-air:free",name:"ZAI GLM 4.5 (Free)",provider:xe.OpenRouter}],Jv='Ol! Sou seu assistente de codificao de IA. Descreva a aplicao web que voc deseja construir. Por exemplo: "Crie um site de portflio simples com uma pgina inicial, sobre e de contato."',zm="AIzaSyD0433RALd_5FVbs89xn6okQUsZ3QgHejU",iS=({text:n})=>{const e=n.split(/(ia)/gi);return y.jsx("span",{className:"whitespace-pre-wrap",children:e.map((i,r)=>i.toLowerCase()==="ia"?y.jsx("span",{className:"bg-var-accent/30 text-var-accent font-bold p-0.5 rounded-sm",children:i},r):i)})},sS=({markdown:n})=>{const e=n.trim().split(`
`).map(a=>a.trim()).filter(Boolean);if(e.length<2||!e[0].includes("|")||!e[1].includes("-"))return y.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono bg-var-bg-default p-2 rounded-md my-2",children:n});const i=e[0].split("|").map(a=>a.trim()).filter(Boolean),r=e.slice(2).map(a=>a.split("|").map(l=>l.trim()).filter(Boolean));return y.jsx("div",{className:"overflow-x-auto my-2 rounded-lg border border-var-border-default text-xs",children:y.jsxs("table",{className:"w-full text-left text-var-fg-default",children:[y.jsx("thead",{className:"text-xs text-var-fg-muted uppercase bg-var-bg-interactive",children:y.jsx("tr",{children:i.map((a,l)=>y.jsx("th",{scope:"col",className:"px-3 py-2 font-semibold",children:a},l))})}),y.jsx("tbody",{children:r.map((a,l)=>y.jsx("tr",{className:"border-t border-var-border-default bg-var-bg-subtle/50",children:a.map((c,f)=>y.jsx("td",{className:"px-3 py-2 font-mono",children:c==="Criado"?y.jsx("span",{className:"text-green-400 font-semibold",children:c}):c==="Modificado"?y.jsx("span",{className:"text-yellow-400 font-semibold",children:c}):c},f))},l))})]})})},rS=()=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-2 h-2 bg-var-fg-muted rounded-full animate-pulse"}),y.jsx("div",{className:"w-2 h-2 bg-var-fg-muted rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),y.jsx("div",{className:"w-2 h-2 bg-var-fg-muted rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),Hm=({messages:n,onSendMessage:e,isProUser:i,onClose:r})=>{const[a,l]=H.useState(""),[c,f]=H.useState(go[0].id),[g,p]=H.useState([]),_=H.useRef(null),b=H.useRef(null),T=i?Object.values(xe):[xe.Gemini,xe.OpenRouter];H.useEffect(()=>{const w=go.find(k=>k.id===c);if(!w||!T.includes(w.provider)){const k=go.find(O=>T.includes(O.provider));k&&f(k.id)}},[i,c,T]),H.useEffect(()=>{var w;(w=b.current)==null||w.scrollIntoView({behavior:"smooth"})},[n]);const E=w=>{w.target.files&&p(k=>[...k,...Array.from(w.target.files)]),_.current&&(_.current.value="")},C=w=>{p(k=>k.filter(O=>O!==w))},N=async w=>{w.preventDefault();const k=go.find(O=>O.id===c);if(!(!a.trim()&&g.length===0||!k))try{const O=g.map(G=>new Promise((Q,z)=>{const B=new FileReader;B.onload=ne=>{var ue;const Z=((ue=ne.target)==null?void 0:ue.result).split(",")[1];Q({data:Z,mimeType:G.type})},B.onerror=ne=>z(ne),B.readAsDataURL(G)})),I=await Promise.all(O);e(a,k.provider,k.id,I),l(""),p([])}catch(O){console.error("Error processing file attachments:",O)}};return y.jsxs("div",{className:"bg-var-bg-subtle w-full flex flex-col h-full border-l border-var-border-default",children:[y.jsxs("div",{className:"p-4 border-b border-var-border-default flex justify-between items-center flex-shrink-0",children:[y.jsx("h2",{className:"text-lg font-semibold text-var-fg-default",children:"Chat"}),r&&y.jsx("button",{onClick:r,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:y.jsxs("div",{className:"space-y-4",children:[n.map((w,k)=>w.role==="system"?y.jsx("div",{className:"text-xs text-center text-var-fg-subtle italic my-2",children:y.jsx("span",{children:w.content})},k):y.jsxs("div",{className:`flex gap-3 ${w.role==="user"?"justify-end":"justify-start"}`,children:[w.role==="assistant"&&y.jsx(cs,{className:"w-6 h-6 text-var-accent flex-shrink-0 mt-1"}),y.jsx("div",{className:`p-3 rounded-lg max-w-xs md:max-w-md ${w.role==="user"?"bg-var-accent text-var-accent-fg":"bg-var-bg-interactive text-var-fg-default"}`,children:w.isThinking?y.jsxs("div",{className:"flex items-center gap-2",children:[w.content&&w.content!=="Pensando..."&&y.jsx("span",{className:"text-var-fg-default",children:w.content}),y.jsx(rS,{})]}):y.jsxs("div",{className:"prose prose-sm prose-invert max-w-none",children:[w.role==="user"?y.jsx(iS,{text:w.content}):y.jsx("p",{className:"whitespace-pre-wrap m-0",children:w.content}),w.summary&&y.jsx(sS,{markdown:w.summary})]})})]},k)),y.jsx("div",{ref:b})]})}),y.jsx("div",{className:"p-4 border-t border-var-border-default bg-var-bg-subtle",children:y.jsxs("form",{onSubmit:N,children:[y.jsx("div",{className:"mb-2",children:y.jsx("select",{value:c,onChange:w=>f(w.target.value),className:"bg-var-bg-interactive border border-var-border-default rounded-md px-2 py-1.5 text-sm w-full text-var-fg-default focus:outline-none focus:ring-2 focus:ring-var-accent/50",children:T.map(w=>y.jsx("optgroup",{label:w,children:go.filter(k=>k.provider===w).map(k=>y.jsx("option",{value:k.id,children:k.name},k.id))},w))})}),g.length>0&&y.jsx("div",{className:"mb-2 p-2 border border-var-border-default rounded-md bg-var-bg-interactive space-y-2",children:g.map((w,k)=>y.jsxs("div",{className:"flex items-center justify-between text-xs text-var-fg-muted",children:[y.jsx("span",{className:"truncate",children:w.name}),y.jsx("button",{type:"button",onClick:()=>C(w),className:"p-1 rounded-full hover:bg-var-bg-subtle",children:y.jsx(Dt,{className:"w-3 h-3"})})]},k))}),y.jsxs("div",{className:"relative",children:[y.jsx("textarea",{value:a,onChange:w=>l(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),N(w))},placeholder:"Descreva o que voc quer construir ou alterar...",className:"w-full p-2 pr-10 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-muted focus:outline-none focus:ring-2 focus:ring-var-accent/50 resize-none",rows:3}),y.jsx("input",{type:"file",ref:_,onChange:E,multiple:!0,className:"hidden",accept:"image/*,text/*"}),y.jsx("button",{type:"button",onClick:()=>{var w;return(w=_.current)==null?void 0:w.click()},className:"absolute bottom-2.5 right-2.5 p-1 text-var-fg-muted hover:text-var-fg-default rounded-md hover:bg-var-bg-subtle","aria-label":"Anexar arquivo",children:y.jsx(Yb,{})})]}),y.jsxs("button",{type:"submit",className:"w-full mt-2 bg-var-accent hover:opacity-90 text-var-accent-fg font-bold py-2 px-4 rounded-md transition duration-200 flex items-center justify-center space-x-2 disabled:opacity-50",disabled:!a.trim()&&g.length===0||!c,children:[y.jsx(ml,{}),y.jsx("span",{children:"Gerar"})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oS,aS;function lS(){return{geminiUrl:oS,vertexUrl:aS}}function uS(n,e,i,r){var a,l;if(!(n!=null&&n.baseUrl)){const c=lS();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ds{}function se(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function m(n,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in n))if(Array.isArray(i))n[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[f])){const g=n[f];if(Array.isArray(i))for(let p=0;p<g.length;p++){const _=g[p];m(_,e.slice(l+1),i[p])}else for(const p of g)m(p,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in n||(n[f]=[{}]);const g=n[f];m(g[0],e.slice(l+1),i);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[r]=i}function d(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return i;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(r+1),i)):i}else return i}else n=n[a]}return n}catch(r){if(r instanceof TypeError)return i;throw r}}function cS(n,e){for(const[i,r]of Object.entries(e)){const a=i.split("."),l=r.split("."),c=new Set;let f=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){f=g;break}if(f!==-1&&l.length>f)for(let g=f;g<l.length;g++){const p=l[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}ed(n,a,l,0,c)}}function ed(n,e,i,r,a){if(r>=e.length||typeof n!="object"||n===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),f=n;if(c in f&&Array.isArray(f[c]))for(const g of f[c])ed(g,e,i,r+1,a)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,f=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),g={};for(const p of f)g[p]=c[p];for(const[p,_]of Object.entries(g)){const b=[];for(const T of i.slice(r))T==="*"?b.push(p):b.push(T);m(c,b,_)}for(const p of f)delete c[p]}}else{const c=n;l in c&&ed(c[l],e,i,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(n){const e={},i=d(n,["operationName"]);i!=null&&m(e,["operationName"],i);const r=d(n,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function fS(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],pS(c)),e}function hS(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response"]);return c!=null&&m(e,["response"],mS(c)),e}function pS(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>gS(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function mS(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>vS(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function gS(n){const e={},i=d(n,["video"]);return i!=null&&m(e,["video"],bS(i)),e}function vS(n){const e={},i=d(n,["_self"]);return i!=null&&m(e,["video"],SS(i)),e}function yS(n){const e={},i=d(n,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function _S(n){const e={},i=d(n,["operationName"]);return i!=null&&m(e,["_url","operationName"],i),e}function bS(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&m(e,["videoBytes"],wd(r));const a=d(n,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function SS(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],wd(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $m;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($m||($m={}));var Jm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Jm||(Jm={}));var Fm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Fm||(Fm={}));var Ui;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ui||(Ui={}));var Ym;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ym||(Ym={}));var Km;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Km||(Km={}));var Qm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Qm||(Qm={}));var Xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Xm||(Xm={}));var Zm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Zm||(Zm={}));var Wm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wm||(Wm={}));var eg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eg||(eg={}));var tg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(tg||(tg={}));var ng;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ng||(ng={}));var ig;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ig||(ig={}));var sg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(sg||(sg={}));var rg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rg||(rg={}));var rl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(rl||(rl={}));var og;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(og||(og={}));var td;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(td||(td={}));var ag;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ag||(ag={}));var lg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lg||(lg={}));var ug;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(ug||(ug={}));var cg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(cg||(cg={}));var dg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(dg||(dg={}));var fg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(fg||(fg={}));var hg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hg||(hg={}));var pg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(pg||(pg={}));var mg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(mg||(mg={}));var gg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(gg||(gg={}));var vg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(vg||(vg={}));var yg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yg||(yg={}));var _g;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_g||(_g={}));var bg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bg||(bg={}));var Sg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sg||(Sg={}));var Tg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Tg||(Tg={}));var xg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(xg||(xg={}));var Eg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Eg||(Eg={}));var wg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(wg||(wg={}));var Cg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Cg||(Cg={}));var Ag;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ag||(Ag={}));var Rg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Rg||(Rg={}));var Ng;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Ng||(Ng={}));var Mg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mg||(Mg={}));var Ig;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ig||(Ig={}));var kg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(kg||(kg={}));var Dg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dg||(Dg={}));var Ug;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ug||(Ug={}));var Og;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Og||(Og={}));var cr;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(cr||(cr={}));class nd{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class vo{get text(){var e,i,r,a,l,c,f,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",_=!1;const b=[];for(const T of(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[E,C]of Object.entries(T))E!=="text"&&E!=="thought"&&(C!==null||C!==void 0)&&b.push(E);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;_=!0,p+=T.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?p:void 0}get data(){var e,i,r,a,l,c,f,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const _=[];for(const b of(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[T,E]of Object.entries(b))T!=="inlineData"&&(E!==null||E!==void 0)&&_.push(T);b.inlineData&&typeof b.inlineData.data=="string"&&(p+=atob(b.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,r,a,l,c,f,g;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,r,a,l,c,f,g,p;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,r,a,l,c,f,g,p;if(((a=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.output}}class Pg{}class Lg{}class TS{}class xS{}class ES{}class wS{}class jg{}class qg{}class Bg{}class CS{}class ol{_fromAPIResponse({apiResponse:e,isVertexAI:i}){const r=new ol;let a;const l=e;return i?a=hS(l):a=fS(l),Object.assign(r,a),r}}class Gg{}class Vg{}class zg{}class AS{}class RS{}class NS{}class Hg{}class MS{get text(){var e,i,r;let a="",l=!1;const c=[];for(const f of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,p]of Object.entries(f))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,a+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,r;let a="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[f,g]of Object.entries(c))f!=="inlineData"&&g!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class IS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fv(n,e){const i=Le(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function Yv(n){return Array.isArray(n)?n.map(e=>al(e)):[al(n)]}function al(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Kv(n){const e=al(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qv(n){const e=al(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $g(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Xv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>$g(e)):[$g(n)]}function id(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Jg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Fg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function kt(n){if(n==null)throw new Error("ContentUnion is required");return id(n)?n:{role:"user",parts:Xv(n)}}function Cd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=kt(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const i=kt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>kt(i)):[kt(e)]}function fn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Jg(n)||Fg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[kt(n)]}const e=[],i=[],r=id(n[0]);for(const a of n){const l=id(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(Jg(a)||Fg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return r||e.push({role:"user",parts:Xv(i)}),e}function kS(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(Ui).includes(i[0].toUpperCase())?i[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function dr(n){const e={},i=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&kS(n.type,e);for(const[c,f]of Object.entries(n))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ui).includes(f.toUpperCase())?f.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=dr(f);else if(r.includes(c)){const g=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}g.push(dr(p))}e[c]=g}else if(a.includes(c)){const g={};for(const[p,_]of Object.entries(f))g[p]=dr(_);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=f}return e}function Ad(n){return dr(n)}function Rd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Nd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function vr(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=dr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=dr(e.response));return n}function yr(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function DS(n,e,i,r=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function ei(n,e){if(typeof e!="string")throw new Error("name must be a string");return DS(n,e,"cachedContents")}function Zv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Oi(n){return wd(n)}function US(n){return n!=null&&typeof n=="object"&&"name"in n}function OS(n){return n!=null&&typeof n=="object"&&"video"in n}function PS(n){return n!=null&&typeof n=="object"&&"uri"in n}function Wv(n){var e;let i;if(US(n)&&(i=n.name),!(PS(n)&&(i=n.uri,i===void 0))&&!(OS(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function ey(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function ty(n){for(const e of["models","tunedModels","publisherModels"])if(LS(n,e))return n[e];return[]}function LS(n,e){return n!==null&&typeof n=="object"&&e in n}function jS(n,e={}){const i=n,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function qS(n,e={}){const i=[],r=new Set;for(const a of n){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=jS(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function ny(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function BS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function iy(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function _r(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function sy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GS(n){const e={},i=d(n,["responsesFile"]);i!=null&&m(e,["fileName"],i);const r=d(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>yT(c))),m(e,["inlinedResponses"],l)}const a=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["inlinedEmbedContentResponses"],l)}return e}function VS(n){const e={},i=d(n,["predictionsFormat"]);i!=null&&m(e,["format"],i);const r=d(n,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const a=d(n,["bigqueryDestination","outputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function zS(n){const e={},i=d(n,["format"]);i!=null&&m(e,["predictionsFormat"],i);const r=d(n,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&m(e,["bigqueryDestination","outputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nl(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["metadata","state"]);a!=null&&m(e,["state"],sy(a));const l=d(n,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&m(e,["endTime"],c);const f=d(n,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const g=d(n,["metadata","model"]);g!=null&&m(e,["model"],g);const p=d(n,["metadata","output"]);return p!=null&&m(e,["dest"],GS(iy(p))),e}function sd(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["state"]);a!=null&&m(e,["state"],sy(a));const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["createTime"]);c!=null&&m(e,["createTime"],c);const f=d(n,["startTime"]);f!=null&&m(e,["startTime"],f);const g=d(n,["endTime"]);g!=null&&m(e,["endTime"],g);const p=d(n,["updateTime"]);p!=null&&m(e,["updateTime"],p);const _=d(n,["model"]);_!=null&&m(e,["model"],_);const b=d(n,["inputConfig"]);b!=null&&m(e,["src"],HS(b));const T=d(n,["outputConfig"]);return T!=null&&m(e,["dest"],VS(iy(T))),e}function HS(n){const e={},i=d(n,["instancesFormat"]);i!=null&&m(e,["format"],i);const r=d(n,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const a=d(n,["bigquerySource","inputUri"]);return a!=null&&m(e,["bigqueryUri"],a),e}function $S(n,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&m(i,["fileName"],r);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>vT(n,c))),m(i,["requests","requests"],l)}return i}function JS(n){const e={},i=d(n,["format"]);i!=null&&m(e,["instancesFormat"],i);const r=d(n,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&m(e,["bigquerySource","inputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function FS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function YS(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function KS(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function QS(n){const e={},i=d(n,["content"]);i!=null&&m(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],XS(r));const a=d(n,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(n,["urlContextMetadata"]);c!=null&&m(e,["urlContextMetadata"],c);const f=d(n,["avgLogprobs"]);f!=null&&m(e,["avgLogprobs"],f);const g=d(n,["groundingMetadata"]);g!=null&&m(e,["groundingMetadata"],g);const p=d(n,["index"]);p!=null&&m(e,["index"],p);const _=d(n,["logprobsResult"]);_!=null&&m(e,["logprobsResult"],_);const b=d(n,["safetyRatings"]);if(b!=null){let T=b;Array.isArray(T)&&(T=T.map(E=>E)),m(e,["safetyRatings"],T)}return e}function XS(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["citations"],r)}return e}function ry(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>wT(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function ZS(n,e){const i={},r=d(n,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function WS(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=d(n,["dest"]);return e!==void 0&&a!=null&&m(e,["outputConfig"],zS(BS(a))),i}function Yg(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["src"]);a!=null&&m(i,["batch","inputConfig"],$S(n,ny(n,a)));const l=d(e,["config"]);return l!=null&&ZS(l,i),i}function eT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["model"],Le(n,r));const a=d(e,["src"]);a!=null&&m(i,["inputConfig"],JS(ny(n,a)));const l=d(e,["config"]);return l!=null&&WS(l,i),i}function tT(n,e){const i={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),i}function nT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["src"]);a!=null&&m(i,["batch","inputConfig"],uT(n,a));const l=d(e,["config"]);return l!=null&&tT(l,i),i}function iT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function sT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function rT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);return l!=null&&m(e,["error"],l),e}function oT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);return l!=null&&m(e,["error"],l),e}function aT(n,e){const i={},r=d(e,["contents"]);if(r!=null){let l=Cd(n,r);Array.isArray(l)&&(l=l.map(c=>c)),m(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(m(i,["_self"],lT(a,i)),cS(i,{"requests[].*":"requests[].request.*"})),i}function lT(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function uT(n,e){const i={},r=d(e,["fileName"]);r!=null&&m(i,["file_name"],r);const a=d(e,["inlinedRequests"]);return a!=null&&m(i,["requests"],aT(n,a)),i}function cT(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function dT(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],ry(kt(a)));const l=d(e,["temperature"]);l!=null&&m(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(r,["topP"],c);const f=d(e,["topK"]);f!=null&&m(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&m(r,["maxOutputTokens"],p);const _=d(e,["stopSequences"]);_!=null&&m(r,["stopSequences"],_);const b=d(e,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const T=d(e,["logprobs"]);T!=null&&m(r,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const C=d(e,["frequencyPenalty"]);C!=null&&m(r,["frequencyPenalty"],C);const N=d(e,["seed"]);N!=null&&m(r,["seed"],N);const w=d(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const k=d(e,["responseSchema"]);k!=null&&m(r,["responseSchema"],Ad(k));const O=d(e,["responseJsonSchema"]);if(O!=null&&m(r,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(i!==void 0&&I!=null){let ce=I;Array.isArray(ce)&&(ce=ce.map(De=>CT(De))),m(i,["safetySettings"],ce)}const G=d(e,["tools"]);if(i!==void 0&&G!=null){let ce=yr(G);Array.isArray(ce)&&(ce=ce.map(De=>AT(vr(De)))),m(i,["tools"],ce)}const Q=d(e,["toolConfig"]);if(i!==void 0&&Q!=null&&m(i,["toolConfig"],Q),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=d(e,["cachedContent"]);i!==void 0&&z!=null&&m(i,["cachedContent"],ei(n,z));const B=d(e,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const ne=d(e,["mediaResolution"]);ne!=null&&m(r,["mediaResolution"],ne);const Z=d(e,["speechConfig"]);if(Z!=null&&m(r,["speechConfig"],Rd(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=d(e,["thinkingConfig"]);ue!=null&&m(r,["thinkingConfig"],ue);const _e=d(e,["imageConfig"]);return _e!=null&&m(r,["imageConfig"],_e),r}function fT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>QS(p))),m(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function hT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function pT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],_r(n,r)),i}function mT(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function gT(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["request","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let f=fn(a);Array.isArray(f)&&(f=f.map(g=>ry(g))),m(i,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&m(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&m(i,["request","generationConfig"],dT(n,c,d(i,["request"],{}))),i}function yT(n){const e={},i=d(n,["response"]);i!=null&&m(e,["response"],fT(i));const r=d(n,["error"]);return r!=null&&m(e,["error"],r),e}function _T(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);if(e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function bT(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const l=d(n,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),i}function ST(n){const e={},i=d(n,["config"]);return i!=null&&_T(i,e),e}function TT(n){const e={},i=d(n,["config"]);return i!=null&&bT(i,e),e}function xT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>nl(c))),m(e,["batchJobs"],l)}return e}function ET(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>sd(c))),m(e,["batchJobs"],l)}return e}function wT(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],FS(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],cT(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const p=d(n,["executableCode"]);p!=null&&m(e,["executableCode"],p);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function CT(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(n,["category"]);i!=null&&m(e,["category"],i);const r=d(n,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function AT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["functionDeclarations"],p)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],gT(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],mT(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var us;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(us||(us={}));class Co{constructor(e,i,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,a)}init(e,i,r){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RT extends ds{constructor(e){super(),this.apiClient=e,this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)},this.list=async(i={})=>new Co(us.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i)}createInlinedGenerateContentRequest(e){const i=Yg(this.apiClient,e),r=i._url,a=se("{model}:batchGenerateContent",r),f=i.batch.inputConfig.requests,g=f.requests,p=[];for(const _ of g){const b=Object.assign({},_);if(b.systemInstruction){const T=b.systemInstruction;delete b.systemInstruction;const E=b.request;E.systemInstruction=T,b.request=E}p.push(b)}return f.requests=p,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=eT(this.apiClient,e);return f=se("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>sd(_))}else{const p=Yg(this.apiClient,e);return f=se("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>nl(_))}}async createEmbeddingsInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=nT(this.apiClient,e);return l=se("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>nl(g))}}async get(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=pT(this.apiClient,e);return f=se("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>sd(_))}else{const p=hT(this.apiClient,e);return f=se("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>nl(_))}}async cancel(e){var i,r,a,l;let c="",f={};if(this.apiClient.isVertexAI()){const g=KS(this.apiClient,e);c=se("batchPredictionJobs/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=YS(this.apiClient,e);c=se("batches/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=TT(e);return f=se("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=ET(_),T=new Hg;return Object.assign(T,b),T})}else{const p=ST(e);return f=se("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=xT(_),T=new Hg;return Object.assign(T,b),T})}}async delete(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=sT(this.apiClient,e);return f=se("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>oT(_))}else{const p=iT(this.apiClient,e);return f=se("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>rT(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NT(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Kg(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>QT(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function MT(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let _=fn(c);Array.isArray(_)&&(_=_.map(b=>Kg(b))),m(e,["contents"],_)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Kg(kt(f)));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>XT(b))),m(e,["tools"],_)}const p=d(n,["toolConfig"]);if(e!==void 0&&p!=null&&m(e,["toolConfig"],p),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function IT(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&m(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let b=fn(c);Array.isArray(b)&&(b=b.map(T=>T)),m(e,["contents"],b)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],kt(f));const g=d(n,["tools"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(T=>ZT(T))),m(e,["tools"],b)}const p=d(n,["toolConfig"]);e!==void 0&&p!=null&&m(e,["toolConfig"],p);const _=d(n,["kmsKeyName"]);return e!==void 0&&_!=null&&m(e,["encryption_spec","kmsKeyName"],_),i}function kT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["model"],Fv(n,r));const a=d(e,["config"]);return a!=null&&MT(a,i),i}function DT(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["model"],Fv(n,r));const a=d(e,["config"]);return a!=null&&IT(a,i),i}function UT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function OT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function PT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function LT(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function jT(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function qT(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&m(e,["description"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["parameters"]);a!=null&&m(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&m(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function BT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function GT(n,e){const i={},r=d(e,["name"]);return r!=null&&m(i,["_url","name"],ei(n,r)),i}function VT(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function zT(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function HT(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function $T(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function JT(n){const e={},i=d(n,["config"]);return i!=null&&HT(i,e),e}function FT(n){const e={},i=d(n,["config"]);return i!=null&&$T(i,e),e}function YT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function KT(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["cachedContents"],l)}return e}function QT(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],NT(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],jT(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const p=d(n,["executableCode"]);p!=null&&m(e,["executableCode"],p);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function XT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["functionDeclarations"],p)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],zT(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],VT(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}function ZT(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(T=>qT(T))),m(e,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(e,["retrieval"],r);const a=d(n,["googleSearch"]);a!=null&&m(e,["googleSearch"],a);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const c=d(n,["enterpriseWebSearch"]);c!=null&&m(e,["enterpriseWebSearch"],c);const f=d(n,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const g=d(n,["urlContext"]);g!=null&&m(e,["urlContext"],g);const p=d(n,["computerUse"]);p!=null&&m(e,["computerUse"],p);const _=d(n,["codeExecution"]);return _!=null&&m(e,["codeExecution"],_),e}function WT(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),i}function ex(n,e){const i={},r=d(n,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&m(e,["expireTime"],a),i}function tx(n,e){const i={},r=d(e,["name"]);r!=null&&m(i,["_url","name"],ei(n,r));const a=d(e,["config"]);return a!=null&&WT(a,i),i}function nx(n,e){const i={},r=d(e,["name"]);r!=null&&m(i,["_url","name"],ei(n,r));const a=d(e,["config"]);return a!=null&&ex(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends ds{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Co(us.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=DT(this.apiClient,e);return f=se("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=kT(this.apiClient,e);return f=se("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async get(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=GT(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=BT(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async delete(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=OT(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=LT(_),T=new Vg;return Object.assign(T,b),T})}else{const p=UT(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=PT(_),T=new Vg;return Object.assign(T,b),T})}}async update(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=nx(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=tx(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=FT(e);return f=se("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=KT(_),T=new zg;return Object.assign(T,b),T})}else{const p=JT(e);return f=se("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=YT(_),T=new zg;return Object.assign(T,b),T})}}}function Qg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(n){return this instanceof We?(this.v=n,this):new We(n)}function fr(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(C){return Promise.resolve(C).then(E,b)}}function f(E,C){r[E]&&(a[E]=function(N){return new Promise(function(w,k){l.push([E,N,w,k])>1||g(E,N)})},C&&(a[E]=C(a[E])))}function g(E,C){try{p(r[E](C))}catch(N){T(l[0][3],N)}}function p(E){E.value instanceof We?Promise.resolve(E.value.v).then(_,b):T(l[0][2],E)}function _(E){g("next",E)}function b(E){g("throw",E)}function T(E,C){E(C),l.shift(),l.length&&g(l[0][0],l[0][1])}}function _o(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Qg=="function"?Qg(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(f,g){c=n[l](c),a(f,g,c.done,c.value)})}}function a(l,c,f,g){Promise.resolve(g).then(function(p){l({value:p,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sx(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:oy(i)}function oy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rx(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xg(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let r=0;for(;r<i;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let l=!0;for(;r<i&&n[r].role==="model";)a.push(n[r]),l&&!oy(n[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class ox{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new ax(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ax{constructor(e,i,r,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),rx(l)}async sendMessage(e){var i;await this.sendPromise;const r=kt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,f;const g=await a,p=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,_=g.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let T=[];_!=null&&(T=(f=_.slice(b))!==null&&f!==void 0?f:[]);const E=p?[p]:[];this.recordHistory(r,E,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const r=kt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?Xg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var r,a;return fr(this,arguments,function*(){var c,f,g,p;const _=[];try{for(var b=!0,T=_o(e),E;E=yield We(T.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const C=p;if(sx(C)){const N=(a=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;N!==void 0&&_.push(N)}yield yield We(C)}}catch(C){f={error:C}}finally{try{!b&&!c&&(g=T.return)&&(yield We(g.call(T)))}finally{if(f)throw f.error}}this.recordHistory(i,_)})}recordHistory(e,i,r){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Xg(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(n){const e={},i=d(n,["file"]);return i!=null&&m(e,["file"],i),e}function ux(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function cx(n){const e={},i=d(n,["name"]);return i!=null&&m(e,["_url","file"],Wv(i)),e}function dx(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function fx(n){const e={},i=d(n,["name"]);return i!=null&&m(e,["_url","file"],Wv(i)),e}function hx(n,e){const i={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&m(e,["_query","pageToken"],a),i}function px(n){const e={},i=d(n,["config"]);return i!=null&&hx(i,e),e}function mx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gx extends ds{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Co(us.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=px(e);return l=se("files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=mx(g),_=new AS;return Object.assign(_,p),_})}}async createInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=lx(e);return l=se("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=ux(g),_=new RS;return Object.assign(_,p),_})}}async get(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=fx(e);return l=se("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=cx(e);return l=se("files/{file}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=dx(g),_=new NS;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function il(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vx(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>kx(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function yx(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function _x(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&m(e,["description"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["parameters"]);a!=null&&m(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&m(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function bx(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const r=d(n,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const a=d(n,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const l=d(n,["enableAffectiveDialog"]);l!=null&&m(e,["enableAffectiveDialog"],l);const c=d(n,["frequencyPenalty"]);c!=null&&m(e,["frequencyPenalty"],c);const f=d(n,["logprobs"]);f!=null&&m(e,["logprobs"],f);const g=d(n,["maxOutputTokens"]);g!=null&&m(e,["maxOutputTokens"],g);const p=d(n,["mediaResolution"]);p!=null&&m(e,["mediaResolution"],p);const _=d(n,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const b=d(n,["responseJsonSchema"]);b!=null&&m(e,["responseJsonSchema"],b);const T=d(n,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const E=d(n,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const C=d(n,["responseModalities"]);C!=null&&m(e,["responseModalities"],C);const N=d(n,["responseSchema"]);N!=null&&m(e,["responseSchema"],N);const w=d(n,["routingConfig"]);w!=null&&m(e,["routingConfig"],w);const k=d(n,["seed"]);k!=null&&m(e,["seed"],k);const O=d(n,["speechConfig"]);O!=null&&m(e,["speechConfig"],ay(O));const I=d(n,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const G=d(n,["temperature"]);G!=null&&m(e,["temperature"],G);const Q=d(n,["thinkingConfig"]);Q!=null&&m(e,["thinkingConfig"],Q);const z=d(n,["topK"]);z!=null&&m(e,["topK"],z);const B=d(n,["topP"]);if(B!=null&&m(e,["topP"],B),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Sx(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function Tx(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function xx(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","mediaResolution"],p);const _=d(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],Nd(b));const T=d(n,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&m(e,["setup","systemInstruction"],vx(kt(C)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let z=yr(N);Array.isArray(z)&&(z=z.map(B=>Ux(vr(B)))),m(e,["setup","tools"],z)}const w=d(n,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],Dx(w));const k=d(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","inputAudioTranscription"],k);const O=d(n,["outputAudioTranscription"]);e!==void 0&&O!=null&&m(e,["setup","outputAudioTranscription"],O);const I=d(n,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const G=d(n,["contextWindowCompression"]);e!==void 0&&G!=null&&m(e,["setup","contextWindowCompression"],G);const Q=d(n,["proactivity"]);return e!==void 0&&Q!=null&&m(e,["setup","proactivity"],Q),i}function Ex(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],bx(r));const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","mediaResolution"],p);const _=d(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],ay(Nd(b)));const T=d(n,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&m(e,["setup","systemInstruction"],kt(C));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let z=yr(N);Array.isArray(z)&&(z=z.map(B=>Ox(vr(B)))),m(e,["setup","tools"],z)}const w=d(n,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],w);const k=d(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","inputAudioTranscription"],k);const O=d(n,["outputAudioTranscription"]);e!==void 0&&O!=null&&m(e,["setup","outputAudioTranscription"],O);const I=d(n,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const G=d(n,["contextWindowCompression"]);e!==void 0&&G!=null&&m(e,["setup","contextWindowCompression"],G);const Q=d(n,["proactivity"]);return e!==void 0&&Q!=null&&m(e,["setup","proactivity"],Q),i}function wx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["setup","model"],Le(n,r));const a=d(e,["config"]);return a!=null&&m(i,["config"],xx(a,i)),i}function Cx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["setup","model"],Le(n,r));const a=d(e,["config"]);return a!=null&&m(i,["config"],Ex(a,i)),i}function Ax(n){const e={},i=d(n,["musicGenerationConfig"]);return i!=null&&m(e,["musicGenerationConfig"],i),e}function Rx(n){const e={},i=d(n,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["weightedPrompts"],r)}return e}function Nx(n){const e={},i=d(n,["media"]);if(i!=null){let p=Yv(i);Array.isArray(p)&&(p=p.map(_=>il(_))),m(e,["mediaChunks"],p)}const r=d(n,["audio"]);r!=null&&m(e,["audio"],il(Qv(r)));const a=d(n,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&m(e,["video"],il(Kv(l)));const c=d(n,["text"]);c!=null&&m(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&m(e,["activityStart"],f);const g=d(n,["activityEnd"]);return g!=null&&m(e,["activityEnd"],g),e}function Mx(n){const e={},i=d(n,["media"]);if(i!=null){let p=Yv(i);Array.isArray(p)&&(p=p.map(_=>_)),m(e,["mediaChunks"],p)}const r=d(n,["audio"]);r!=null&&m(e,["audio"],Qv(r));const a=d(n,["audioStreamEnd"]);a!=null&&m(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&m(e,["video"],Kv(l));const c=d(n,["text"]);c!=null&&m(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&m(e,["activityStart"],f);const g=d(n,["activityEnd"]);return g!=null&&m(e,["activityEnd"],g),e}function Ix(n){const e={},i=d(n,["setupComplete"]);i!=null&&m(e,["setupComplete"],i);const r=d(n,["serverContent"]);r!=null&&m(e,["serverContent"],r);const a=d(n,["toolCall"]);a!=null&&m(e,["toolCall"],a);const l=d(n,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&m(e,["usageMetadata"],Px(c));const f=d(n,["goAway"]);f!=null&&m(e,["goAway"],f);const g=d(n,["sessionResumptionUpdate"]);return g!=null&&m(e,["sessionResumptionUpdate"],g),e}function kx(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],il(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],yx(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const p=d(n,["executableCode"]);p!=null&&m(e,["executableCode"],p);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function Dx(n){const e={},i=d(n,["handle"]);if(i!=null&&m(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ay(n){const e={},i=d(n,["voiceConfig"]);if(i!=null&&m(e,["voiceConfig"],i),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(n,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Ux(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["functionDeclarations"],p)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],Tx(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],Sx(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}function Ox(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(T=>_x(T))),m(e,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(e,["retrieval"],r);const a=d(n,["googleSearch"]);a!=null&&m(e,["googleSearch"],a);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const c=d(n,["enterpriseWebSearch"]);c!=null&&m(e,["enterpriseWebSearch"],c);const f=d(n,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const g=d(n,["urlContext"]);g!=null&&m(e,["urlContext"],g);const p=d(n,["computerUse"]);p!=null&&m(e,["computerUse"],p);const _=d(n,["codeExecution"]);return _!=null&&m(e,["codeExecution"],_),e}function Px(n){const e={},i=d(n,["promptTokenCount"]);i!=null&&m(e,["promptTokenCount"],i);const r=d(n,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const a=d(n,["candidatesTokenCount"]);a!=null&&m(e,["responseTokenCount"],a);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&m(e,["thoughtsTokenCount"],c);const f=d(n,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const g=d(n,["promptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(C=>C)),m(e,["promptTokensDetails"],E)}const p=d(n,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(C=>C)),m(e,["cacheTokensDetails"],E)}const _=d(n,["candidatesTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>C)),m(e,["responseTokensDetails"],E)}const b=d(n,["toolUsePromptTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(C=>C)),m(e,["toolUsePromptTokensDetails"],E)}const T=d(n,["trafficType"]);return T!=null&&m(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lx(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jx(n){const e={},i=d(n,["content"]);i!=null&&m(e,["content"],i);const r=d(n,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],qx(r));const a=d(n,["tokenCount"]);a!=null&&m(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&m(e,["finishReason"],l);const c=d(n,["urlContextMetadata"]);c!=null&&m(e,["urlContextMetadata"],c);const f=d(n,["avgLogprobs"]);f!=null&&m(e,["avgLogprobs"],f);const g=d(n,["groundingMetadata"]);g!=null&&m(e,["groundingMetadata"],g);const p=d(n,["index"]);p!=null&&m(e,["index"],p);const _=d(n,["logprobsResult"]);_!=null&&m(e,["logprobsResult"],_);const b=d(n,["safetyRatings"]);if(b!=null){let T=b;Array.isArray(T)&&(T=T.map(E=>E)),m(e,["safetyRatings"],T)}return e}function qx(n){const e={},i=d(n,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>a)),m(e,["citations"],r)}return e}function Bx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let l=fn(a);Array.isArray(l)&&(l=l.map(c=>c)),m(i,["contents"],l)}return i}function Gx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["tokensInfo"],a)}return e}function Vx(n){const e={},i=d(n,["values"]);i!=null&&m(e,["values"],i);const r=d(n,["statistics"]);return r!=null&&m(e,["statistics"],zx(r)),e}function zx(n){const e={},i=d(n,["truncated"]);i!=null&&m(e,["truncated"],i);const r=d(n,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function vl(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>YE(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function Hx(n){const e={},i=d(n,["controlType"]);i!=null&&m(e,["controlType"],i);const r=d(n,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function $x(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Jx(n,e){const i={},r=d(n,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],kt(r));const a=d(n,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>fy(f))),m(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],OE(l)),i}function Fx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>vl(f))),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&$x(l),i}function Yx(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&Jx(l,i),i}function Kx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const a=d(n,["cachedContentTokenCount"]);return a!=null&&m(e,["cachedContentTokenCount"],a),e}function Qx(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Xx(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Le(n,r)),i}function Zx(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Le(n,r)),i}function Wx(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function eE(n){const e={},i=d(n,["sdkHttpResponse"]);return i!=null&&m(e,["sdkHttpResponse"],i),e}function tE(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const g=d(n,["seed"]);e!==void 0&&g!=null&&m(e,["parameters","seed"],g);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const T=d(n,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const E=d(n,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const C=d(n,["outputMimeType"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","mimeType"],C);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&m(e,["parameters","outputOptions","compressionQuality"],N);const w=d(n,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const k=d(n,["labels"]);e!==void 0&&k!=null&&m(e,["labels"],k);const O=d(n,["editMode"]);e!==void 0&&O!=null&&m(e,["parameters","editMode"],O);const I=d(n,["baseSteps"]);return e!==void 0&&I!=null&&m(e,["parameters","editConfig","baseSteps"],I),i}function nE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>ew(g))),m(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&tE(c,i),i}function iE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>yl(l))),m(e,["generatedImages"],a)}return e}function sE(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&m(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function rE(n,e){const i={},r=d(n,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&m(e,["instances[]","title"],a);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&m(e,["instances[]","mimeType"],c);const f=d(n,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),i}function oE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let f=Cd(n,a);Array.isArray(f)&&(f=f.map(g=>g)),m(i,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&sE(l,i);const c=d(e,["model"]);return c!==void 0&&m(i,["requests[]","model"],Le(n,c)),i}function aE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let c=Cd(n,a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&rE(l,i),i}function lE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function uE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Vx(c))),m(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&m(e,["metadata"],a),e}function cE(n){const e={},i=d(n,["endpoint"]);i!=null&&m(e,["name"],i);const r=d(n,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function dE(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fE(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(n,["description"]);i!=null&&m(e,["description"],i);const r=d(n,["name"]);r!=null&&m(e,["name"],r);const a=d(n,["parameters"]);a!=null&&m(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&m(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function hE(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],vl(kt(a)));const l=d(e,["temperature"]);l!=null&&m(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(r,["topP"],c);const f=d(e,["topK"]);f!=null&&m(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&m(r,["maxOutputTokens"],p);const _=d(e,["stopSequences"]);_!=null&&m(r,["stopSequences"],_);const b=d(e,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const T=d(e,["logprobs"]);T!=null&&m(r,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const C=d(e,["frequencyPenalty"]);C!=null&&m(r,["frequencyPenalty"],C);const N=d(e,["seed"]);N!=null&&m(r,["seed"],N);const w=d(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const k=d(e,["responseSchema"]);k!=null&&m(r,["responseSchema"],Ad(k));const O=d(e,["responseJsonSchema"]);if(O!=null&&m(r,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=d(e,["safetySettings"]);if(i!==void 0&&I!=null){let ce=I;Array.isArray(ce)&&(ce=ce.map(De=>tw(De))),m(i,["safetySettings"],ce)}const G=d(e,["tools"]);if(i!==void 0&&G!=null){let ce=yr(G);Array.isArray(ce)&&(ce=ce.map(De=>aw(vr(De)))),m(i,["tools"],ce)}const Q=d(e,["toolConfig"]);if(i!==void 0&&Q!=null&&m(i,["toolConfig"],Q),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=d(e,["cachedContent"]);i!==void 0&&z!=null&&m(i,["cachedContent"],ei(n,z));const B=d(e,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const ne=d(e,["mediaResolution"]);ne!=null&&m(r,["mediaResolution"],ne);const Z=d(e,["speechConfig"]);if(Z!=null&&m(r,["speechConfig"],Rd(Z)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=d(e,["thinkingConfig"]);ue!=null&&m(r,["thinkingConfig"],ue);const _e=d(e,["imageConfig"]);return _e!=null&&m(r,["imageConfig"],_e),r}function pE(n,e,i){const r={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&m(i,["systemInstruction"],kt(a));const l=d(e,["temperature"]);l!=null&&m(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&m(r,["topP"],c);const f=d(e,["topK"]);f!=null&&m(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&m(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&m(r,["maxOutputTokens"],p);const _=d(e,["stopSequences"]);_!=null&&m(r,["stopSequences"],_);const b=d(e,["responseLogprobs"]);b!=null&&m(r,["responseLogprobs"],b);const T=d(e,["logprobs"]);T!=null&&m(r,["logprobs"],T);const E=d(e,["presencePenalty"]);E!=null&&m(r,["presencePenalty"],E);const C=d(e,["frequencyPenalty"]);C!=null&&m(r,["frequencyPenalty"],C);const N=d(e,["seed"]);N!=null&&m(r,["seed"],N);const w=d(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const k=d(e,["responseSchema"]);k!=null&&m(r,["responseSchema"],Ad(k));const O=d(e,["responseJsonSchema"]);O!=null&&m(r,["responseJsonSchema"],O);const I=d(e,["routingConfig"]);I!=null&&m(r,["routingConfig"],I);const G=d(e,["modelSelectionConfig"]);G!=null&&m(r,["modelConfig"],G);const Q=d(e,["safetySettings"]);if(i!==void 0&&Q!=null){let U=Q;Array.isArray(U)&&(U=U.map(Y=>Y)),m(i,["safetySettings"],U)}const z=d(e,["tools"]);if(i!==void 0&&z!=null){let U=yr(z);Array.isArray(U)&&(U=U.map(Y=>fy(vr(Y)))),m(i,["tools"],U)}const B=d(e,["toolConfig"]);i!==void 0&&B!=null&&m(i,["toolConfig"],B);const ne=d(e,["labels"]);i!==void 0&&ne!=null&&m(i,["labels"],ne);const Z=d(e,["cachedContent"]);i!==void 0&&Z!=null&&m(i,["cachedContent"],ei(n,Z));const ue=d(e,["responseModalities"]);ue!=null&&m(r,["responseModalities"],ue);const _e=d(e,["mediaResolution"]);_e!=null&&m(r,["mediaResolution"],_e);const ce=d(e,["speechConfig"]);ce!=null&&m(r,["speechConfig"],dy(Rd(ce)));const De=d(e,["audioTimestamp"]);De!=null&&m(r,["audioTimestamp"],De);const le=d(e,["thinkingConfig"]);le!=null&&m(r,["thinkingConfig"],le);const he=d(e,["imageConfig"]);return he!=null&&m(r,["imageConfig"],he),r}function Zg(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>vl(f))),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(i,["generationConfig"],hE(n,l,i)),i}function Wg(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["contents"]);if(a!=null){let c=fn(a);Array.isArray(c)&&(c=c.map(f=>f)),m(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&m(i,["generationConfig"],pE(n,l,i)),i}function ev(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>jx(p))),m(e,["candidates"],g)}const a=d(n,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&m(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function tv(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["candidates"],p)}const a=d(n,["createTime"]);a!=null&&m(e,["createTime"],a);const l=d(n,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&m(e,["promptFeedback"],c);const f=d(n,["responseId"]);f!=null&&m(e,["responseId"],f);const g=d(n,["usageMetadata"]);return g!=null&&m(e,["usageMetadata"],g),e}function mE(n,e){const i={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&m(e,["parameters","safetySetting"],c);const f=d(n,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const g=d(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const p=d(n,["includeRaiReason"]);e!==void 0&&p!=null&&m(e,["parameters","includeRaiReason"],p);const _=d(n,["language"]);e!==void 0&&_!=null&&m(e,["parameters","language"],_);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const T=d(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(n,["imageSize"]);if(e!==void 0&&E!=null&&m(e,["parameters","sampleImageSize"],E),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function gE(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&m(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const g=d(n,["seed"]);e!==void 0&&g!=null&&m(e,["parameters","seed"],g);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&m(e,["parameters","safetySetting"],p);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&m(e,["parameters","includeSafetyAttributes"],b);const T=d(n,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const E=d(n,["language"]);e!==void 0&&E!=null&&m(e,["parameters","language"],E);const C=d(n,["outputMimeType"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","mimeType"],C);const N=d(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&m(e,["parameters","outputOptions","compressionQuality"],N);const w=d(n,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const k=d(n,["labels"]);e!==void 0&&k!=null&&m(e,["labels"],k);const O=d(n,["imageSize"]);e!==void 0&&O!=null&&m(e,["parameters","sampleImageSize"],O);const I=d(n,["enhancePrompt"]);return e!==void 0&&I!=null&&m(e,["parameters","enhancePrompt"],I),i}function vE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&mE(l,i),i}function yE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&gE(l,i),i}function _E(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>IE(c))),m(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],uy(a)),e}function bE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>yl(c))),m(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&m(e,["positivePromptSafetyAttributes"],cy(a)),e}function SE(n,e){const i={},r=d(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(n,["durationSeconds"]);if(e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&m(e,["parameters","resolution"],c);const f=d(n,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(n,["negativePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","negativePrompt"],g);const p=d(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&m(e,["parameters","enhancePrompt"],p),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=d(n,["lastFrame"]);e!==void 0&&_!=null&&m(e,["instances[0]","lastFrame"],_l(_));const b=d(n,["referenceImages"]);if(e!==void 0&&b!=null){let T=b;Array.isArray(T)&&(T=T.map(E=>bw(E))),m(e,["instances[0]","referenceImages"],T)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function TE(n,e){const i={},r=d(n,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const l=d(n,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&m(e,["parameters","durationSeconds"],c);const f=d(n,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const g=d(n,["aspectRatio"]);e!==void 0&&g!=null&&m(e,["parameters","aspectRatio"],g);const p=d(n,["resolution"]);e!==void 0&&p!=null&&m(e,["parameters","resolution"],p);const _=d(n,["personGeneration"]);e!==void 0&&_!=null&&m(e,["parameters","personGeneration"],_);const b=d(n,["pubsubTopic"]);e!==void 0&&b!=null&&m(e,["parameters","pubsubTopic"],b);const T=d(n,["negativePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","negativePrompt"],T);const E=d(n,["enhancePrompt"]);e!==void 0&&E!=null&&m(e,["parameters","enhancePrompt"],E);const C=d(n,["generateAudio"]);e!==void 0&&C!=null&&m(e,["parameters","generateAudio"],C);const N=d(n,["lastFrame"]);e!==void 0&&N!=null&&m(e,["instances[0]","lastFrame"],Tn(N));const w=d(n,["referenceImages"]);if(e!==void 0&&w!=null){let I=w;Array.isArray(I)&&(I=I.map(G=>Sw(G))),m(e,["instances[0]","referenceImages"],I)}const k=d(n,["mask"]);e!==void 0&&k!=null&&m(e,["instances[0]","mask"],_w(k));const O=d(n,["compressionQuality"]);return e!==void 0&&O!=null&&m(e,["parameters","compressionQuality"],O),i}function xE(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&m(e,["response"],AE(c)),e}function EE(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["metadata"]);r!=null&&m(e,["metadata"],r);const a=d(n,["done"]);a!=null&&m(e,["done"],a);const l=d(n,["error"]);l!=null&&m(e,["error"],l);const c=d(n,["response"]);return c!=null&&m(e,["response"],RE(c)),e}function wE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&m(i,["instances[0]","image"],_l(l));const c=d(e,["video"]);c!=null&&m(i,["instances[0]","video"],hy(c));const f=d(e,["source"]);f!=null&&NE(f,i);const g=d(e,["config"]);return g!=null&&SE(g,i),i}function CE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["prompt"]);a!=null&&m(i,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&m(i,["instances[0]","image"],Tn(l));const c=d(e,["video"]);c!=null&&m(i,["instances[0]","video"],py(c));const f=d(e,["source"]);f!=null&&ME(f,i);const g=d(e,["config"]);return g!=null&&TE(g,i),i}function AE(n){const e={},i=d(n,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>DE(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function RE(n){const e={},i=d(n,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>UE(c))),m(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&m(e,["raiMediaFilteredReasons"],a),e}function NE(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],_l(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],hy(l)),i}function ME(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],Tn(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],py(l)),i}function IE(n){const e={},i=d(n,["_self"]);i!=null&&m(e,["image"],BE(i));const r=d(n,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const a=d(n,["_self"]);return a!=null&&m(e,["safetyAttributes"],uy(a)),e}function yl(n){const e={},i=d(n,["_self"]);i!=null&&m(e,["image"],ly(i));const r=d(n,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const a=d(n,["_self"]);a!=null&&m(e,["safetyAttributes"],cy(a));const l=d(n,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function kE(n){const e={},i=d(n,["_self"]);i!=null&&m(e,["mask"],ly(i));const r=d(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["labels"],a)}return e}function DE(n){const e={},i=d(n,["video"]);return i!=null&&m(e,["video"],vw(i)),e}function UE(n){const e={},i=d(n,["_self"]);return i!=null&&m(e,["video"],yw(i)),e}function OE(n){const e={},i=d(n,["modelSelectionConfig"]);i!=null&&m(e,["modelConfig"],i);const r=d(n,["audioTimestamp"]);r!=null&&m(e,["audioTimestamp"],r);const a=d(n,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const l=d(n,["enableAffectiveDialog"]);l!=null&&m(e,["enableAffectiveDialog"],l);const c=d(n,["frequencyPenalty"]);c!=null&&m(e,["frequencyPenalty"],c);const f=d(n,["logprobs"]);f!=null&&m(e,["logprobs"],f);const g=d(n,["maxOutputTokens"]);g!=null&&m(e,["maxOutputTokens"],g);const p=d(n,["mediaResolution"]);p!=null&&m(e,["mediaResolution"],p);const _=d(n,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const b=d(n,["responseJsonSchema"]);b!=null&&m(e,["responseJsonSchema"],b);const T=d(n,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const E=d(n,["responseMimeType"]);E!=null&&m(e,["responseMimeType"],E);const C=d(n,["responseModalities"]);C!=null&&m(e,["responseModalities"],C);const N=d(n,["responseSchema"]);N!=null&&m(e,["responseSchema"],N);const w=d(n,["routingConfig"]);w!=null&&m(e,["routingConfig"],w);const k=d(n,["seed"]);k!=null&&m(e,["seed"],k);const O=d(n,["speechConfig"]);O!=null&&m(e,["speechConfig"],dy(O));const I=d(n,["stopSequences"]);I!=null&&m(e,["stopSequences"],I);const G=d(n,["temperature"]);G!=null&&m(e,["temperature"],G);const Q=d(n,["thinkingConfig"]);Q!=null&&m(e,["thinkingConfig"],Q);const z=d(n,["topK"]);z!=null&&m(e,["topK"],z);const B=d(n,["topP"]);if(B!=null&&m(e,["topP"],B),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PE(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Le(n,r)),i}function LE(n,e){const i={},r=d(e,["model"]);return r!=null&&m(i,["_url","name"],Le(n,r)),i}function jE(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function qE(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function BE(n){const e={},i=d(n,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Oi(i));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ly(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function _l(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(n,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Oi(i));const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Tn(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["gcsUri"],i);const r=d(n,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function GE(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&m(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&m(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&m(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&m(i,["_url","models_url"],ey(n,f)),r}function VE(n,e,i){const r={},a=d(e,["pageSize"]);i!==void 0&&a!=null&&m(i,["_query","pageSize"],a);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&m(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&m(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&m(i,["_url","models_url"],ey(n,f)),r}function zE(n,e){const i={},r=d(e,["config"]);return r!=null&&GE(n,r,i),i}function HE(n,e){const i={},r=d(e,["config"]);return r!=null&&VE(n,r,i),i}function $E(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=ty(a);Array.isArray(l)&&(l=l.map(c=>rd(c))),m(e,["models"],l)}return e}function JE(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=ty(a);Array.isArray(l)&&(l=l.map(c=>od(c))),m(e,["models"],l)}return e}function FE(n){const e={},i=d(n,["maskMode"]);i!=null&&m(e,["maskMode"],i);const r=d(n,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const a=d(n,["maskDilation"]);return a!=null&&m(e,["dilation"],a),e}function rd(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);a!=null&&m(e,["description"],a);const l=d(n,["version"]);l!=null&&m(e,["version"],l);const c=d(n,["_self"]);c!=null&&m(e,["tunedModelInfo"],lw(c));const f=d(n,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const g=d(n,["outputTokenLimit"]);g!=null&&m(e,["outputTokenLimit"],g);const p=d(n,["supportedGenerationMethods"]);return p!=null&&m(e,["supportedActions"],p),e}function od(n){const e={},i=d(n,["name"]);i!=null&&m(e,["name"],i);const r=d(n,["displayName"]);r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);a!=null&&m(e,["description"],a);const l=d(n,["versionId"]);l!=null&&m(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(T=>cE(T))),m(e,["endpoints"],b)}const f=d(n,["labels"]);f!=null&&m(e,["labels"],f);const g=d(n,["_self"]);g!=null&&m(e,["tunedModelInfo"],uw(g));const p=d(n,["defaultCheckpointId"]);p!=null&&m(e,["defaultCheckpointId"],p);const _=d(n,["checkpoints"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(T=>T)),m(e,["checkpoints"],b)}return e}function YE(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],Lx(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],dE(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const p=d(n,["executableCode"]);p!=null&&m(e,["executableCode"],p);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function KE(n){const e={},i=d(n,["productImage"]);return i!=null&&m(e,["image"],Tn(i)),e}function QE(n,e){const i={},r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const a=d(n,["baseSteps"]);e!==void 0&&a!=null&&m(e,["parameters","editConfig","baseSteps"],a);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=d(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const p=d(n,["addWatermark"]);e!==void 0&&p!=null&&m(e,["parameters","addWatermark"],p);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const b=d(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const T=d(n,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const E=d(n,["labels"]);return e!==void 0&&E!=null&&m(e,["labels"],E),i}function XE(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["source"]);a!=null&&WE(a,i);const l=d(e,["config"]);return l!=null&&QE(l,i),i}function ZE(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>yl(a))),m(e,["generatedImages"],r)}return e}function WE(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["personImage"]);e!==void 0&&a!=null&&m(e,["instances[0]","personImage","image"],Tn(a));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>KE(f))),m(e,["instances[0]","productImages"],c)}return i}function ew(n){const e={},i=d(n,["referenceImage"]);i!=null&&m(e,["referenceImage"],Tn(i));const r=d(n,["referenceId"]);r!=null&&m(e,["referenceId"],r);const a=d(n,["referenceType"]);a!=null&&m(e,["referenceType"],a);const l=d(n,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],FE(l));const c=d(n,["controlImageConfig"]);c!=null&&m(e,["controlImageConfig"],Hx(c));const f=d(n,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const g=d(n,["subjectImageConfig"]);return g!=null&&m(e,["subjectImageConfig"],g),e}function uy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function cy(n){const e={},i=d(n,["safetyAttributes","categories"]);i!=null&&m(e,["categories"],i);const r=d(n,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&m(e,["contentType"],a),e}function tw(n){const e={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(n,["category"]);i!=null&&m(e,["category"],i);const r=d(n,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function nw(n){const e={},i=d(n,["image"]);return i!=null&&m(e,["image"],Tn(i)),e}function iw(n,e){const i={},r=d(n,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const a=d(n,["maxPredictions"]);e!==void 0&&a!=null&&m(e,["parameters","maxPredictions"],a);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&m(e,["parameters","maskDilation"],c);const f=d(n,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const g=d(n,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),i}function sw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["source"]);a!=null&&ow(a,i);const l=d(e,["config"]);return l!=null&&iw(l,i),i}function rw(n){const e={},i=d(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>kE(a))),m(e,["generatedMasks"],r)}return e}function ow(n,e){const i={},r=d(n,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&m(e,["instances[0]","image"],Tn(a));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],nw(l)),i}function dy(n){const e={},i=d(n,["voiceConfig"]);if(i!=null&&m(e,["voiceConfig"],i),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(n,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function aw(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["functionDeclarations"],p)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],qE(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],jE(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}function fy(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(T=>fE(T))),m(e,["functionDeclarations"],b)}const r=d(n,["retrieval"]);r!=null&&m(e,["retrieval"],r);const a=d(n,["googleSearch"]);a!=null&&m(e,["googleSearch"],a);const l=d(n,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const c=d(n,["enterpriseWebSearch"]);c!=null&&m(e,["enterpriseWebSearch"],c);const f=d(n,["googleMaps"]);f!=null&&m(e,["googleMaps"],f);const g=d(n,["urlContext"]);g!=null&&m(e,["urlContext"],g);const p=d(n,["computerUse"]);p!=null&&m(e,["computerUse"],p);const _=d(n,["codeExecution"]);return _!=null&&m(e,["codeExecution"],_),e}function lw(n){const e={},i=d(n,["baseModel"]);i!=null&&m(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&m(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function uw(n){const e={},i=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&m(e,["baseModel"],i);const r=d(n,["createTime"]);r!=null&&m(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&m(e,["updateTime"],a),e}function cw(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),i}function dw(n,e){const i={},r=d(n,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),i}function fw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","name"],Le(n,r));const a=d(e,["config"]);return a!=null&&cw(a,i),i}function hw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["config"]);return a!=null&&dw(a,i),i}function pw(n,e){const i={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=d(n,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const l=d(n,["outputMimeType"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","mimeType"],l);const c=d(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","compressionQuality"],c);const f=d(n,["enhanceInputImage"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],f);const g=d(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const p=d(n,["labels"]);e!==void 0&&p!=null&&m(e,["labels"],p);const _=d(n,["numberOfImages"]);e!==void 0&&_!=null&&m(e,["parameters","sampleCount"],_);const b=d(n,["mode"]);return e!==void 0&&b!=null&&m(e,["parameters","mode"],b),i}function mw(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["_url","model"],Le(n,r));const a=d(e,["image"]);a!=null&&m(i,["instances[0]","image"],Tn(a));const l=d(e,["upscaleFactor"]);l!=null&&m(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&pw(c,i),i}function gw(n){const e={},i=d(n,["sdkHttpResponse"]);i!=null&&m(e,["sdkHttpResponse"],i);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>yl(l))),m(e,["generatedImages"],a)}return e}function vw(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["uri"],i);const r=d(n,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Oi(r));const a=d(n,["encoding"]);return a!=null&&m(e,["mimeType"],a),e}function yw(n){const e={},i=d(n,["gcsUri"]);i!=null&&m(e,["uri"],i);const r=d(n,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}function _w(n){const e={},i=d(n,["image"]);i!=null&&m(e,["_self"],Tn(i));const r=d(n,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function bw(n){const e={},i=d(n,["image"]);i!=null&&m(e,["image"],_l(i));const r=d(n,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Sw(n){const e={},i=d(n,["image"]);i!=null&&m(e,["image"],Tn(i));const r=d(n,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function hy(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["uri"],i);const r=d(n,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["encoding"],a),e}function py(n){const e={},i=d(n,["uri"]);i!=null&&m(e,["gcsUri"],i);const r=d(n,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Oi(r));const a=d(n,["mimeType"]);return a!=null&&m(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tw="Content-Type",xw="X-Server-Timeout",Ew="User-Agent",ad="x-goog-api-client",ww="1.27.0",Cw=`google-genai-sdk/${ww}`,Aw="v1beta1",Rw="v1beta",nv=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Nw{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Aw,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Rw,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const a=[this.getRequestUrlInternal(i)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))a.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>l.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&Mw(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await iv(a),new nd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async a=>(await iv(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var i;return fr(this,arguments,function*(){const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:f,value:g}=yield We(a.read());if(f){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(g,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),E=T.status,C=T.code,N=`got status: ${E}. ${JSON.stringify(b)}`;if(C>=400&&C<600)throw new gl({message:N,status:C})}}catch(b){if(b.name==="ApiError")throw b}c+=p;let _=c.match(nv);for(;_;){const b=_[1];try{const T=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield We(new nd(T)),c=c.slice(_[0].length),_=c.match(nv)}catch(T){throw new Error(`exception parsing stream chunk ${b}. ${T}`)}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=Cw+" "+this.clientOptions.userAgentExtra;return e[Ew]=i,e[ad]=i,e[Tw]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))r.append(a,l);e.timeout&&e.timeout>0&&r.append(xw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}async uploadFile(e,i){var r;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const f=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const g=await this.fetchUploadUrl(a,i);return l.upload(e,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var r;let a={};i!=null&&i.httpOptions?a=i.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},c=await this.request({path:se("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=c==null?void 0:c.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function iv(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw i>=400&&i<600?new gl({message:a,status:i}):new Error(a)}}function Mw(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const f=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],_=f[g];p&&typeof p=="object"&&!Array.isArray(p)&&_&&typeof _=="object"&&!Array.isArray(_)?f[g]=r(_,p):(_&&p&&typeof _!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof _}, New type: ${typeof p}. Overwriting.`),f[g]=p)}return f}const a=r(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iw="mcp_used/unknown";let kw=!1;function my(n){for(const e of n)if(Dw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return kw}function gy(n){var e;const i=(e=n[ad])!==null&&e!==void 0?e:"";n[ad]=(i+` ${Iw}`).trimStart()}function Dw(n){return n!==null&&typeof n=="object"&&n instanceof Md}function Uw(n,e=100){return fr(this,arguments,function*(){let r,a=0;for(;a<e;){const l=yield We(n.listTools({cursor:r}));for(const c of l.tools)yield yield We(c),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class Md{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Md(e,i)}async initialize(){var e,i,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const _ of this.mcpClients)try{for(var f=!0,g=(i=void 0,_o(Uw(_))),p;p=await g.next(),e=p.done,!e;f=!0){a=p.value,f=!1;const b=a;c.push(b);const T=b.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=_}}catch(b){i={error:b}}finally{try{!f&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),qS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ow(n,e,i){const r=new IS;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(r,a),e(r)}class Pw{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=qw(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const _=new Promise(I=>{p=I}),b=e.callbacks,T=function(){p({})},E=this.apiClient,C={onopen:T,onmessage:I=>{Ow(E,b.onmessage,I)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},N=this.webSocketFactory.create(g,jw(c),C);N.connect(),await _;const O={setup:{model:Le(this.apiClient,e.model)}};return N.send(JSON.stringify(O)),new Lw(N,this.apiClient)}}class Lw{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Rx(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Ax(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(cr.PLAY)}pause(){this.sendPlaybackControl(cr.PAUSE)}stop(){this.sendPlaybackControl(cr.STOP)}resetContext(){this.sendPlaybackControl(cr.RESET_CONTEXT)}close(){this.conn.close()}}function jw(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function qw(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Gw(n,e,i){const r=new MS;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(n.isVertexAI()){const c=Ix(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class Vw{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new Pw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,a,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let _;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&my(e.config.tools)&&gy(b);const T=Jw(b);if(this.apiClient.isVertexAI())_=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,_);else{const Z=this.apiClient.getApiKey();let ue="BidiGenerateContent",_e="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",_e="access_token"),_=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ue}?${_e}=${Z}`}let E=()=>{};const C=new Promise(Z=>{E=Z}),N=e.callbacks,w=function(){var Z;(Z=N==null?void 0:N.onopen)===null||Z===void 0||Z.call(N),E({})},k=this.apiClient,O={onopen:w,onmessage:Z=>{Gw(k,N.onmessage,Z)},onerror:(i=N==null?void 0:N.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(Z){}},I=this.webSocketFactory.create(_,$w(T),O);I.connect(),await C;let G=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const Z=this.apiClient.getProject(),ue=this.apiClient.getLocation();G=`projects/${Z}/locations/${ue}/`+G}let Q={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rl.AUDIO]}:e.config.responseModalities=[rl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],B=[];for(const Z of z)if(this.isCallableTool(Z)){const ue=Z;B.push(await ue.tool())}else B.push(Z);B.length>0&&(e.config.tools=B);const ne={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Q=Cx(this.apiClient,ne):Q=wx(this.apiClient,ne),delete Q.config,I.send(JSON.stringify(Q)),new Hw(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const zw={turnComplete:!0};class Hw{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=fn(i.turns),e.isVertexAI()||(r=r.map(a=>vl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(Bw)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},zw),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Mx(e)}:i={realtimeInput:Nx(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function $w(n){const e={};return n.forEach((i,r)=>{e[r]=i}),e}function Jw(n){const e=new Headers;for(const[i,r]of Object.entries(n))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sv=10;function rv(n){var e,i,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(hr(c)){a=!0;break}if(!a)return!0;const l=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function hr(n){return"callTool"in n&&typeof n.callTool=="function"}function Fw(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>hr(a)))!==null&&r!==void 0?r:!1}function Yw(n){var e,i,r;return(r=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>!hr(a)))!==null&&r!==void 0?r:!1}function ov(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kw extends ds{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,a,l,c,f;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Fw(i)||rv(i.config))return await this.generateContentInternal(g);if(Yw(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,_;const b=fn(g.contents),T=(l=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:sv;let E=0;for(;E<T&&(p=await this.generateContentInternal(g),!(!p.functionCalls||p.functionCalls.length===0));){const C=p.candidates[0].content,N=[];for(const w of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(hr(w)){const O=await w.callTool(p.functionCalls);N.push(...O)}E++,_={role:"user",parts:N},g.contents=fn(g.contents),g.contents.push(C),g.contents.push(_),ov(g.config)&&(b.push(C),b.push(_))}return ov(g.config)&&(p.automaticFunctionCallingHistory=b),p},this.generateContentStream=async i=>{if(this.maybeMoveToResponseJsonSchem(i),rv(i.config)){const r=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var a;let l;const c=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},f}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Co(us.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var r,a,l,c,f,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(f=i.source)===null||f===void 0?void 0:f.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>hr(g)?await g.tool():g)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&my(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),gy(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var i,r,a;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(hr(c)){const f=c,g=await f.tool();for(const p of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,f)}}return l}async processAfcStream(e){var i,r,a;const l=(a=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:sv;let c=!1,f=0;const g=await this.initAfcToolsMap(e);return(function(p,_,b){var T,E;return fr(this,arguments,function*(){for(var C,N,w,k;f<l;){c&&(f++,c=!1);const Q=yield We(p.processParamsMaybeAddMcpUsage(b)),z=yield We(p.generateContentStreamInternal(Q)),B=[],ne=[];try{for(var O=!0,I=(N=void 0,_o(z)),G;G=yield We(I.next()),C=G.done,!C;O=!0){k=G.value,O=!1;const Z=k;if(yield yield We(Z),Z.candidates&&(!((T=Z.candidates[0])===null||T===void 0)&&T.content)){ne.push(Z.candidates[0].content);for(const ue of(E=Z.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(f<l&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(ue.functionCall.name)){const _e=yield We(_.get(ue.functionCall.name).callTool([ue.functionCall]));B.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(Z){N={error:Z}}finally{try{!O&&!C&&(w=I.return)&&(yield We(w.call(I)))}finally{if(N)throw N.error}}if(B.length>0){c=!0;const Z=new vo;Z.candidates=[{content:{role:"user",parts:B}}],yield yield We(Z);const ue=[];ue.push(...ne),ue.push({role:"user",parts:B});const _e=fn(b.contents).concat(ue);b.contents=_e}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=Wg(this.apiClient,e);return f=se("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=tv(_),T=new vo;return Object.assign(T,b),T})}else{const p=Zg(this.apiClient,e);return f=se("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=ev(_),T=new vo;return Object.assign(T,b),T})}}async generateContentStreamInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=Wg(this.apiClient,e);return f=se("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(b){return fr(this,arguments,function*(){var T,E,C,N;try{for(var w=!0,k=_o(b),O;O=yield We(k.next()),T=O.done,!T;w=!0){N=O.value,w=!1;const I=N,G=tv(yield We(I.json()));G.sdkHttpResponse={headers:I.headers};const Q=new vo;Object.assign(Q,G),yield yield We(Q)}}catch(I){E={error:I}}finally{try{!w&&!T&&(C=k.return)&&(yield We(C.call(k)))}finally{if(E)throw E.error}}})})}else{const p=Zg(this.apiClient,e);return f=se("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(b){return fr(this,arguments,function*(){var T,E,C,N;try{for(var w=!0,k=_o(b),O;O=yield We(k.next()),T=O.done,!T;w=!0){N=O.value,w=!1;const I=N,G=ev(yield We(I.json()));G.sdkHttpResponse={headers:I.headers};const Q=new vo;Object.assign(Q,G),yield yield We(Q)}}catch(I){E={error:I}}finally{try{!w&&!T&&(C=k.return)&&(yield We(C.call(k)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=aE(this.apiClient,e);return f=se("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=uE(_),T=new Pg;return Object.assign(T,b),T})}else{const p=oE(this.apiClient,e);return f=se("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=lE(_),T=new Pg;return Object.assign(T,b),T})}}async generateImagesInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=yE(this.apiClient,e);return f=se("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=bE(_),T=new Lg;return Object.assign(T,b),T})}else{const p=vE(this.apiClient,e);return f=se("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=_E(_),T=new Lg;return Object.assign(T,b),T})}}async editImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=nE(this.apiClient,e);return l=se("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=iE(g),_=new TS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=mw(this.apiClient,e);return l=se("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=gw(g),_=new xS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=XE(this.apiClient,e);return l=se("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=ZE(g),_=new ES;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=sw(this.apiClient,e);return l=se("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=rw(g),_=new wS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=LE(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>od(_))}else{const p=PE(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>rd(_))}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=HE(this.apiClient,e);return f=se("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=JE(_),T=new jg;return Object.assign(T,b),T})}else{const p=zE(this.apiClient,e);return f=se("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=$E(_),T=new jg;return Object.assign(T,b),T})}}async update(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=hw(this.apiClient,e);return f=se("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>od(_))}else{const p=fw(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>rd(_))}}async delete(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=Zx(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=eE(_),T=new qg;return Object.assign(T,b),T})}else{const p=Xx(this.apiClient,e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=Wx(_),T=new qg;return Object.assign(T,b),T})}}async countTokens(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=Yx(this.apiClient,e);return f=se("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=Qx(_),T=new Bg;return Object.assign(T,b),T})}else{const p=Fx(this.apiClient,e);return f=se("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=Kx(_),T=new Bg;return Object.assign(T,b),T})}}async computeTokens(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=Bx(this.apiClient,e);return l=se("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>{const p=Gx(g),_=new CS;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=CE(this.apiClient,e);return f=se("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const b=EE(_),T=new ol;return Object.assign(T,b),T})}else{const p=wE(this.apiClient,e);return f=se("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const b=xE(_),T=new ol;return Object.assign(T,b),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw extends ds{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=_S(e);return f=se("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c}else{const p=yS(e);return f=se("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=dS(e);return l=se("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["data"]);i!=null&&m(e,["data"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Zw(n){const e={},i=d(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>oC(l))),m(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&m(e,["role"],r),e}function Ww(n,e,i){const r={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&m(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&m(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&m(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&m(i,["bidiGenerateContentSetup"],rC(n,f));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&m(i,["fieldMask"],g),r}function eC(n,e){const i={},r=d(e,["config"]);return r!=null&&m(i,["config"],Ww(n,r,i)),i}function tC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=d(n,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function nC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(n,["enableWidget"]);return i!=null&&m(e,["enableWidget"],i),e}function iC(n){const e={},i=d(n,["timeRangeFilter"]);if(i!=null&&m(e,["timeRangeFilter"],i),d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function sC(n,e){const i={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const g=d(n,["maxOutputTokens"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","mediaResolution"],p);const _=d(n,["seed"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","seed"],_);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","speechConfig"],Nd(b));const T=d(n,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&m(e,["setup","systemInstruction"],Zw(kt(C)));const N=d(n,["tools"]);if(e!==void 0&&N!=null){let z=yr(N);Array.isArray(z)&&(z=z.map(B=>lC(vr(B)))),m(e,["setup","tools"],z)}const w=d(n,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],aC(w));const k=d(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","inputAudioTranscription"],k);const O=d(n,["outputAudioTranscription"]);e!==void 0&&O!=null&&m(e,["setup","outputAudioTranscription"],O);const I=d(n,["realtimeInputConfig"]);e!==void 0&&I!=null&&m(e,["setup","realtimeInputConfig"],I);const G=d(n,["contextWindowCompression"]);e!==void 0&&G!=null&&m(e,["setup","contextWindowCompression"],G);const Q=d(n,["proactivity"]);return e!==void 0&&Q!=null&&m(e,["setup","proactivity"],Q),i}function rC(n,e){const i={},r=d(e,["model"]);r!=null&&m(i,["setup","model"],Le(n,r));const a=d(e,["config"]);return a!=null&&m(i,["config"],sC(a,i)),i}function oC(n){const e={},i=d(n,["videoMetadata"]);i!=null&&m(e,["videoMetadata"],i);const r=d(n,["thought"]);r!=null&&m(e,["thought"],r);const a=d(n,["inlineData"]);a!=null&&m(e,["inlineData"],Xw(a));const l=d(n,["fileData"]);l!=null&&m(e,["fileData"],tC(l));const c=d(n,["thoughtSignature"]);c!=null&&m(e,["thoughtSignature"],c);const f=d(n,["functionCall"]);f!=null&&m(e,["functionCall"],f);const g=d(n,["codeExecutionResult"]);g!=null&&m(e,["codeExecutionResult"],g);const p=d(n,["executableCode"]);p!=null&&m(e,["executableCode"],p);const _=d(n,["functionResponse"]);_!=null&&m(e,["functionResponse"],_);const b=d(n,["text"]);return b!=null&&m(e,["text"],b),e}function aC(n){const e={},i=d(n,["handle"]);if(i!=null&&m(e,["handle"],i),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lC(n){const e={},i=d(n,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(_=>_)),m(e,["functionDeclarations"],p)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearch"]);r!=null&&m(e,["googleSearch"],iC(r));const a=d(n,["googleSearchRetrieval"]);if(a!=null&&m(e,["googleSearchRetrieval"],a),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(n,["googleMaps"]);l!=null&&m(e,["googleMaps"],nC(l));const c=d(n,["urlContext"]);c!=null&&m(e,["urlContext"],c);const f=d(n,["computerUse"]);f!=null&&m(e,["computerUse"],f);const g=d(n,["codeExecution"]);return g!=null&&m(e,["codeExecution"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uC(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=n[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function cC(n,e){let i=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,i=l):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const l=uC(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];a.length>0&&(f=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];l&&g.push(l),f.length>0&&g.push(...f),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class dC extends ds{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=eC(this.apiClient,e);l=se("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const g=cC(f,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function hC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function pC(n,e,i){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&m(e,["displayName"],a),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(n,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const g=d(n,["learningRate"]);if(e!==void 0&&g!=null&&m(e,["tuningTask","hyperparameters","learningRate"],g),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function mC(n,e,i){const r={},a=d(n,["validationDataset"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec"],MC(a));const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&m(e,["description"],c);const f=d(n,["epochCount"]);e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],f);const g=d(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const p=d(n,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const _=d(n,["adapterSize"]);if(e!==void 0&&_!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_),d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(n,["labels"]);return e!==void 0&&b!=null&&m(e,["labels"],b),r}function gC(n,e){const i={},r=d(n,["baseModel"]);r!=null&&m(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&m(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&m(i,["tuningTask","trainingData"],AC(l));const c=d(n,["config"]);return c!=null&&pC(c,i),i}function vC(n,e){const i={},r=d(n,["baseModel"]);r!=null&&m(i,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&m(i,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&RC(l,i);const c=d(n,["config"]);return c!=null&&mC(c,i),i}function yC(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function _C(n,e){const i={},r=d(n,["name"]);return r!=null&&m(i,["_url","name"],r),i}function bC(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),r}function SC(n,e,i){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&m(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&m(e,["_query","filter"],c),r}function TC(n,e){const i={},r=d(n,["config"]);return r!=null&&bC(r,i),i}function xC(n,e){const i={},r=d(n,["config"]);return r!=null&&SC(r,i),i}function EC(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&m(i,["nextPageToken"],a);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>vy(f))),m(i,["tuningJobs"],c)}return i}function wC(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&m(i,["nextPageToken"],a);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>ld(f))),m(i,["tuningJobs"],c)}return i}function CC(n,e){const i={},r=d(n,["name"]);r!=null&&m(i,["model"],r);const a=d(n,["name"]);return a!=null&&m(i,["endpoint"],a),i}function AC(n,e){const i={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),m(i,["examples","examples"],a)}return i}function RC(n,e,i){const r={},a=d(n,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a);const l=d(n,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],l),d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function vy(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&m(i,["name"],a);const l=d(n,["state"]);l!=null&&m(i,["state"],Zv(l));const c=d(n,["createTime"]);c!=null&&m(i,["createTime"],c);const f=d(n,["tuningTask","startTime"]);f!=null&&m(i,["startTime"],f);const g=d(n,["tuningTask","completeTime"]);g!=null&&m(i,["endTime"],g);const p=d(n,["updateTime"]);p!=null&&m(i,["updateTime"],p);const _=d(n,["description"]);_!=null&&m(i,["description"],_);const b=d(n,["baseModel"]);b!=null&&m(i,["baseModel"],b);const T=d(n,["_self"]);return T!=null&&m(i,["tunedModel"],CC(T)),i}function ld(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&m(i,["name"],a);const l=d(n,["state"]);l!=null&&m(i,["state"],Zv(l));const c=d(n,["createTime"]);c!=null&&m(i,["createTime"],c);const f=d(n,["startTime"]);f!=null&&m(i,["startTime"],f);const g=d(n,["endTime"]);g!=null&&m(i,["endTime"],g);const p=d(n,["updateTime"]);p!=null&&m(i,["updateTime"],p);const _=d(n,["error"]);_!=null&&m(i,["error"],_);const b=d(n,["description"]);b!=null&&m(i,["description"],b);const T=d(n,["baseModel"]);T!=null&&m(i,["baseModel"],T);const E=d(n,["tunedModel"]);E!=null&&m(i,["tunedModel"],E);const C=d(n,["preTunedModel"]);C!=null&&m(i,["preTunedModel"],C);const N=d(n,["supervisedTuningSpec"]);N!=null&&m(i,["supervisedTuningSpec"],N);const w=d(n,["tuningDataStats"]);w!=null&&m(i,["tuningDataStats"],w);const k=d(n,["encryptionSpec"]);k!=null&&m(i,["encryptionSpec"],k);const O=d(n,["partnerModelTuningSpec"]);O!=null&&m(i,["partnerModelTuningSpec"],O);const I=d(n,["customBaseModel"]);I!=null&&m(i,["customBaseModel"],I);const G=d(n,["experiment"]);G!=null&&m(i,["experiment"],G);const Q=d(n,["labels"]);Q!=null&&m(i,["labels"],Q);const z=d(n,["outputUri"]);z!=null&&m(i,["outputUri"],z);const B=d(n,["pipelineJob"]);B!=null&&m(i,["pipelineJob"],B);const ne=d(n,["serviceAccount"]);ne!=null&&m(i,["serviceAccount"],ne);const Z=d(n,["tunedModelDisplayName"]);Z!=null&&m(i,["tunedModelDisplayName"],Z);const ue=d(n,["veoTuningSpec"]);return ue!=null&&m(i,["veoTuningSpec"],ue),i}function NC(n,e){const i={},r=d(n,["sdkHttpResponse"]);r!=null&&m(i,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&m(i,["name"],a);const l=d(n,["metadata"]);l!=null&&m(i,["metadata"],l);const c=d(n,["done"]);c!=null&&m(i,["done"],c);const f=d(n,["error"]);return f!=null&&m(i,["error"],f),i}function MC(n,e){const i={},r=d(n,["gcsUri"]);r!=null&&m(i,["validationDatasetUri"],r);const a=d(n,["vertexDatasetResource"]);return a!=null&&m(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends ds{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new Co(us.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:td.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=_C(e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>ld(_))}else{const p=yC(e);return f=se("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>vy(_))}}async listInternal(e){var i,r,a,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=xC(e);return f=se("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=wC(_),T=new Gg;return Object.assign(T,b),T})}else{const p=TC(e);return f=se("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:_.headers},T})),c.then(_=>{const b=EC(_),T=new Gg;return Object.assign(T,b),T})}}async cancel(e){var i,r,a,l;let c="",f={};if(this.apiClient.isVertexAI()){const g=hC(e);c=se("{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=fC(e);c=se("{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const f=vC(e);return l=se("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>ld(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gC(e);return l=se("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:g.headers},_})),a.then(g=>NC(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DC=1024*1024*8,UC=3,OC=1e3,PC=2,qc="x-goog-upload-status";async function LC(n,e,i){var r,a,l;let c=0,f=0,g=new nd(new Response),p="upload";for(c=n.size;f<c;){const b=Math.min(DC,c-f),T=n.slice(f,f+b);f+b>=c&&(p+=", finalize");let E=0,C=OC;for(;E<UC&&(g=await i.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(f),"Content-Length":String(b)}}}),!(!((r=g==null?void 0:g.headers)===null||r===void 0)&&r[qc]));)E++,await qC(C),C=C*PC;if(f+=b,((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[qc])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const _=await(g==null?void 0:g.json());if(((l=g==null?void 0:g.headers)===null||l===void 0?void 0:l[qc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return _.file}async function jC(n){return{size:n.size,type:n.type}}function qC(n){return new Promise(e=>setTimeout(e,n))}class BC{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LC(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC{create(e,i,r){return new VC(e,i,r)}}class VC{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const av="x-goog-api-key";class zC{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(av)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(av,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HC="gl-node/";class bl{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=uS(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new zC(this.apiKey);this.apiClient=new Nw({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:HC+"web",uploader:new BC,downloader:new kC}),this.models=new Kw(this.apiClient),this.live=new Vw(this.apiClient,a,new GC),this.batches=new RT(this.apiClient),this.chats=new ox(this.models,this.apiClient),this.caches=new ix(this.apiClient),this.files=new gx(this.apiClient),this.operations=new Qw(this.apiClient),this.authTokens=new dC(this.apiClient),this.tunings=new IC(this.apiClient)}}const $C=async n=>{if(!n)return{success:!1,message:"A chave no pode estar em branco."};try{return(await new bl({apiKey:n}).models.generateContent({model:"gemini-1.5-flash",contents:'diga "ok"'})).text.trim().toLowerCase()==="ok"?{success:!0,message:"Conexo bem-sucedida!"}:{success:!1,message:"A chave  vlida, mas a resposta foi inesperada."}}catch(e){return console.error("API Key test failed",e),{success:!1,message:`Falha na conexo: ${e.message}`}}},JC=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(i.gemini_api_key||""),[c,f]=H.useState(i.github_access_token||""),[g,p]=H.useState(i.openrouter_api_key||""),[_,b]=H.useState({status:"idle",message:""});if(H.useEffect(()=>{n&&(l(i.gemini_api_key||""),f(i.github_access_token||""),p(i.openrouter_api_key||""),b({status:"idle",message:""}))},[n,i]),!n)return null;const T=async()=>{b({status:"testing",message:"Testando..."});const C=await $C(a);C.success?b({status:"success",message:C.message}):b({status:"error",message:C.message})},E=()=>{r({gemini_api_key:a,github_access_token:c,openrouter_api_key:g}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-md p-6 border border-var-border-default animate-slideInUp",onClick:C=>C.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-var-fg-default",children:"Configuraes"}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"space-y-4 text-var-fg-default",children:[y.jsxs("div",{className:"p-4 bg-var-bg-interactive rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(sl,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Chave de API do Gemini"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Sua chave de API do Google Gemini  necessria. Ela  armazenada com segurana no seu perfil."}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"password",value:a,onChange:C=>{l(C.target.value),b({status:"idle",message:""})},placeholder:"Cole sua chave de API aqui",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"}),y.jsx("button",{onClick:T,disabled:_.status==="testing"||!a,className:"px-3 py-2 text-xs font-medium text-var-fg-default bg-var-bg-interactive border border-var-border-default rounded-md hover:bg-var-bg-default disabled:opacity-50 disabled:cursor-wait",children:_.status==="testing"?"...":"Testar"})]}),_.message&&y.jsx("p",{className:`text-xs mt-2 ${_.status==="success"?"text-green-400":_.status==="error"?"text-red-400":"text-var-fg-muted"}`,children:_.message})]}),y.jsxs("div",{className:"p-4 bg-var-bg-interactive rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(sl,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Chave de API da OpenRouter"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Sua chave de API da OpenRouter  necessria para usar seus modelos gratuitos. Ela  armazenada com segurana no seu perfil."}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("input",{type:"password",value:g,onChange:C=>p(C.target.value),placeholder:"Cole sua chave de API aqui (sk-or-...)",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})})]}),y.jsxs("div",{className:"p-4 bg-var-bg-interactive rounded-lg border border-var-border-default",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(pl,{}),y.jsx("h3",{className:"font-semibold text-var-fg-default",children:"Token de Acesso do GitHub"})]}),y.jsx("p",{className:"text-xs text-var-fg-muted mb-3",children:"Fornea um token para importar repositrios privados e aumentar os limites da API."}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("input",{type:"password",value:c,onChange:C=>f(C.target.value),placeholder:"Cole seu token aqui (ex: ghp_...)",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})}),y.jsxs("p",{className:"text-xs text-var-fg-muted mt-2",children:["O token precisa ter escopo de ",y.jsx("code",{className:"bg-var-bg-default px-1 py-0.5 rounded-sm text-xs font-mono",children:"repo"}),"."]})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:E,className:"px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-var-bg-subtle focus:ring-var-accent",children:"Salvar e Fechar"})})]})})},FC=({isOpen:n,onClose:e,onSave:i})=>{const[r,a]=H.useState("");if(!n)return null;const l=()=>{r.trim()?(i(r.trim()),e()):alert("Por favor, insira uma chave de API.")};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-md p-6 border border-var-border-default",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(sl,{})," Chave de API do Gemini"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"space-y-4 text-var-fg-muted",children:[y.jsx("p",{className:"text-sm",children:"Para comear a gerar cdigo com o Gemini, por favor, insira sua chave de API do Google AI Studio. Sua chave ser salva com segurana em seu perfil."}),y.jsx("div",{children:y.jsx("input",{type:"password",value:r,onChange:c=>a(c.target.value),placeholder:"Cole sua chave de API aqui",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:l,disabled:!r.trim(),className:"px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-var-bg-subtle focus:ring-var-accent flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Chave"})})]})})},YC=({isOpen:n,onClose:e,onSave:i})=>{const[r,a]=H.useState("");if(!n)return null;const l=()=>{r.trim()?(i(r.trim()),e()):alert("Por favor, insira uma chave de API.")};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-md p-6 border border-var-border-default",onClick:c=>c.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(sl,{})," Chave de API da OpenRouter"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"space-y-4 text-var-fg-muted",children:[y.jsx("p",{className:"text-sm",children:"Para usar os modelos gratuitos da OpenRouter, por favor, insira sua chave de API. Voc pode obter uma gratuitamente no site da OpenRouter. Sua chave ser salva com segurana em seu perfil."}),y.jsx("div",{children:y.jsx("input",{type:"password",value:r,onChange:c=>a(c.target.value),placeholder:"Cole sua chave de API aqui (sk-or-...)",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:l,disabled:!r.trim(),className:"px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-var-bg-subtle focus:ring-var-accent flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Chave"})})]})})},KC="pk_test_51RkYig2KmkAgJHb0Qb3OdzzJcbdW0fCJgdEAcxADul4kywAM2bZUiQI4F83IMfQimm0m9W9C8MQeWXo6JkIyFRYL00CnMwa0IF";let Bc=null;const QC=()=>typeof window.Stripe>"u"?(console.error("Stripe.js has not loaded. Please check your internet connection and script tag."),null):(Bc||(Bc=window.Stripe(KC)),Bc),XC=async n=>{const e=QC();if(!e){alert("O Stripe no est disponvel. Por favor, verifique sua conexo.");return}const i=`${window.location.origin.replace(/\/$/,"")}${window.location.pathname}`,{error:r}=await e.redirectToCheckout({lineItems:[{price:n,quantity:1}],mode:"subscription",successUrl:`${i}?payment=success&session_id={CHECKOUT_SESSION_ID}`,cancelUrl:i});if(r)throw console.warn("Error redirecting to Stripe Checkout:",r),alert(`O pagamento falhou: ${r.message}`),r},Gc=({title:n,price:e,description:i,features:r,isFeatured:a,onClick:l,isLoading:c,buttonText:f="Comear"})=>y.jsxs("div",{className:`flex flex-col p-8 rounded-2xl border ${a?"bg-var-bg-interactive border-var-accent":"bg-var-bg-subtle border-var-border-default"}`,children:[y.jsx("h3",{className:"text-xl font-semibold text-var-fg-default",children:n}),y.jsx("p",{className:"mt-2 text-var-fg-muted",children:i}),y.jsxs("div",{className:"mt-6",children:[y.jsx("span",{className:"text-5xl font-bold text-var-fg-default",children:e}),y.jsx("span",{className:"text-var-fg-muted",children:e!=="Grtis"&&" / ms"})]}),y.jsx("ul",{className:"mt-8 space-y-4 text-var-fg-default flex-grow",children:r.map((g,p)=>y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx("svg",{className:"w-5 h-5 text-var-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),y.jsx("span",{children:g})]},p))}),y.jsx("button",{onClick:l,disabled:c,className:`w-full mt-8 py-3 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-wait ${a?"bg-var-accent text-var-accent-fg hover:opacity-90":"bg-var-bg-interactive text-var-fg-default hover:bg-var-bg-default"}`,children:c?"Processando...":f})]}),ZC=({onBack:n,onNewProject:e})=>{const[i,r]=H.useState(null),a=async(l,c)=>{r(c);try{await XC(l)}catch(f){console.error("Stripe checkout error:",f),r(null)}};return y.jsxs("div",{className:"flex flex-col min-h-screen w-screen bg-var-bg-default text-var-fg-default overflow-y-auto font-sans",children:[y.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 p-4",children:y.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[y.jsxs("button",{onClick:e,className:"flex items-center gap-2",children:[y.jsx(cs,{className:"w-6 h-6 text-var-fg-default"}),y.jsxs("span",{className:"text-var-fg-default font-bold",children:["codagem",y.jsx("span",{className:"font-light",children:"studio"})]})]}),y.jsx("button",{onClick:n,className:"text-sm text-var-fg-muted hover:text-var-fg-default transition-colors",children:" Voltar"})]})}),y.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center text-center px-4 pt-24 pb-12",children:[y.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-var-fg-default tracking-tight",children:"Encontre o plano certo para voc"}),y.jsx("p",{className:"mt-4 text-lg text-var-fg-muted max-w-2xl",children:"Comece de graa e expanda conforme voc cresce. Todos os planos incluem acesso aos nossos poderosos recursos de gerao de cdigo por IA."}),y.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl w-full text-left",children:[y.jsx(Gc,{title:"Hobby",price:"Grtis",description:"Para projetos pessoais e explorao.",features:["Acesso aos modelos Gemini (requer sua chave de API)","Acesso a modelos gratuitos da OpenRouter (requer sua chave)","Geraes ilimitadas com sua chave","Suporte da comunidade","Baixar projetos como ZIP"],onClick:n,isLoading:i==="Hobby",buttonText:"Continuar com Grtis"}),y.jsx(Gc,{title:"Pro",price:"$20",description:"Para profissionais e equipes pequenas.",features:["Tudo do Hobby, e mais:","Acesso a todos os modelos de IA (OpenAI, DeepSeek)","Nossas chaves de API gerenciadas para voc","Suporte prioritrio","Integrao com GitHub"],isFeatured:!0,onClick:()=>a("price_1OuP5A2eZvKYlo2Ce2C20s2k","Pro"),isLoading:i==="Pro",buttonText:"Atualizar para Pro"}),y.jsx(Gc,{title:"Enterprise",price:"Custom",description:"Para grandes organizaes com necessidades especficas.",features:["Tudo do Pro, e mais:","Opes de implantao local (On-premise)","Ajuste fino de modelos personalizados","Gerente de contas dedicado","SSO SAML"],onClick:()=>window.location.href="mailto:sales@codegen.studio",isLoading:i==="Enterprise",buttonText:"Contatar Vendas"})]})]})]})},WC=({projects:n,onLoadProject:e,onDeleteProject:i,onBack:r,onNewProject:a})=>{const l=(c,f)=>{c.stopPropagation(),window.confirm("Tem certeza de que deseja excluir este projeto? Esta ao no pode ser desfeita.")&&i(f)};return y.jsxs("div",{className:"flex flex-col min-h-screen w-screen bg-var-bg-default text-var-fg-default overflow-y-auto font-sans",children:[y.jsx("header",{className:"fixed top-0 left-0 right-0 z-10 p-4",children:y.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[y.jsxs("button",{onClick:a,className:"flex items-center gap-2",children:[y.jsx(cs,{className:"w-6 h-6 text-var-accent"}),y.jsxs("span",{className:"text-var-fg-default font-semibold text-lg",children:["codagem",y.jsx("span",{className:"font-light",children:"studio"})]})]}),y.jsx("button",{onClick:r,className:"text-sm text-var-fg-muted hover:text-var-fg-default transition-colors",children:" Voltar"})]})}),y.jsxs("main",{className:"flex-1 flex flex-col items-center px-4 pt-24 pb-12",children:[y.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-var-fg-default tracking-tight",children:"Meus Projetos"}),y.jsx("p",{className:"mt-4 text-lg text-var-fg-muted max-w-2xl",children:"Carregue um projeto salvo para continuar trabalhando ou exclua projetos antigos."}),y.jsx("div",{className:"mt-12 w-full max-w-4xl",children:n.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.sort((c,f)=>new Date(f.updated_at).getTime()-new Date(c.updated_at).getTime()).map(c=>y.jsxs("div",{onClick:()=>e(c.id),className:"group relative flex flex-col justify-between bg-var-bg-subtle p-6 rounded-lg border border-var-border-default hover:border-var-accent transition-all cursor-pointer shadow-lg hover:shadow-var-accent/10",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-var-fg-default truncate group-hover:text-var-accent",children:c.name}),y.jsxs("p",{className:"text-sm text-var-fg-muted mt-1",children:["Atualizado em: ",new Date(c.updated_at).toLocaleString()]})]}),y.jsx("button",{onClick:f=>l(f,c.id),className:"absolute top-4 right-4 p-1.5 rounded-full text-var-fg-subtle bg-var-bg-interactive opacity-0 group-hover:opacity-100 hover:bg-red-500/20 hover:text-red-400 transition-all","aria-label":"Excluir projeto",children:y.jsx(Ed,{className:"w-4 h-4"})})]},c.id))}):y.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-var-border-default rounded-lg",children:[y.jsx("h2",{className:"text-xl font-semibold text-var-fg-muted",children:"Nenhum projeto salvo encontrado."}),y.jsx("p",{className:"text-var-fg-subtle mt-2",children:"Use o cone de salvar na barra lateral do editor para salvar seu trabalho."})]})})]})]})},eA=n=>{var i;switch((i=n.split(".").pop())==null?void 0:i.toLowerCase()){case"js":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";case"html":return"html";case"css":return"css";case"json":return"json";case"md":return"markdown";case"py":return"python";case"rb":return"ruby";case"go":return"go";case"rs":return"rust";case"java":return"java";case"cs":return"csharp";case"php":return"php";case"sh":return"shell";case"yml":case"yaml":return"yaml";case"dockerfile":return"dockerfile";case"sql":return"sql";case"graphql":return"graphql";case"vue":return"vue";case"svelte":return"svelte";default:return"plaintext"}},tA=({isOpen:n,onClose:e,onImport:i,githubToken:r,onOpenSettings:a})=>{const[l,c]=H.useState([]),[f,g]=H.useState(""),[p,_]=H.useState(!1),[b,T]=H.useState(null),[E,C]=H.useState(!1),[N,w]=H.useState(null),[k,O]=H.useState(null);H.useEffect(()=>{const z=async()=>{if(r){_(!0),T(null),c([]);try{const B=await fetch("https://api.github.com/user/repos?sort=updated&direction=desc&per_page=100",{headers:{Authorization:`Bearer ${r}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(!B.ok)throw B.status===401?new Error("Token do GitHub invlido ou expirado. Verifique-o nas configuraes."):new Error(`No foi possvel buscar repositrios. Status: ${B.status}`);const ne=await B.json();c(ne)}catch(B){const ne=B instanceof Error?B.message:"Ocorreu um erro desconhecido.";T(ne)}finally{_(!1)}}};n&&(g(""),w(null),O(null),z())},[n,r]);const I=async z=>{if(w(null),O(z.full_name),!r){w("Token de acesso do GitHub no encontrado. Por favor, adicione seu token nas configuraes.");return}C(!0);try{const B={Authorization:`Bearer ${r}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"},ne={owner:z.owner.login,repo:z.name},Z=await fetch(`https://api.github.com/repos/${ne.owner}/${ne.repo}`,{headers:B});if(!Z.ok)throw Z.status===404?new Error("Repositrio no encontrado. Verifique a URL e se o token tem acesso a ele."):Z.status===401?new Error("Token do GitHub invlido ou expirado."):new Error(`No foi possvel buscar os metadados do repositrio. Status: ${Z.status}`);const _e=(await Z.json()).default_branch,ce=await fetch(`https://api.github.com/repos/${ne.owner}/${ne.repo}/branches/${_e}`,{headers:B});if(!ce.ok)throw new Error(`No foi possvel buscar a branch padro '${_e}'.`);const le=(await ce.json()).commit.commit.tree.sha,he=await fetch(`https://api.github.com/repos/${ne.owner}/${ne.repo}/git/trees/${le}?recursive=1`,{headers:B});if(!he.ok)throw new Error("No foi possvel buscar a rvore de arquivos do repositrio.");const re=(await he.json()).tree.filter(ve=>ve.type==="blob"&&ve.size<1e6).map(async ve=>{const R=await fetch(ve.url,{headers:B});if(!R.ok)return console.warn(`Skipping file ${ve.path} due to fetch error.`),null;const $=await R.json();if($.encoding!=="base64")return console.warn(`Skipping file ${ve.path} due to unsupported encoding: ${$.encoding}`),null;let X;try{const K=atob($.content),ge=new Uint8Array(K.length);for(let de=0;de<K.length;de++)ge[de]=K.charCodeAt(de);X=new TextDecoder("utf-8").decode(ge)}catch{return console.warn(`Skipping file ${ve.path} due to decoding error (likely a binary file).`),null}return{name:ve.path,language:eA(ve.path),content:X}}),be=(await Promise.all(re)).filter(ve=>ve!==null);i(be)}catch(B){const ne=B instanceof Error?B.message:"Ocorreu um erro desconhecido.";w(`Falha ao importar repositrio: ${ne}`)}finally{C(!1),O(null)}},G=l.filter(z=>z.full_name.toLowerCase().includes(f.toLowerCase()));if(!n)return null;const Q=()=>E?y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-var-fg-muted",children:[y.jsxs("svg",{className:"animate-spin h-8 w-8 text-var-accent mb-4",xmlns:"http://www.w.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsxs("p",{children:["Importando ",y.jsx("span",{className:"font-bold text-var-fg-default",children:k}),"..."]}),y.jsx("p",{className:"text-sm text-var-fg-subtle",children:"Isso pode levar alguns instantes."})]}):r?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"my-4",children:y.jsx("input",{type:"text",value:f,onChange:z=>g(z.target.value),placeholder:"Buscar em seus repositrios...",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})}),p&&y.jsxs("div",{className:"flex items-center justify-center h-64 text-var-fg-muted",children:[y.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Buscando repositrios..."]}),b&&y.jsx("p",{className:"text-red-400 text-sm py-4 text-center",children:b}),!p&&!b&&y.jsx("div",{className:"max-h-80 overflow-y-auto border border-var-border-default rounded-md bg-var-bg-muted",children:G.length>0?y.jsx("ul",{children:G.map(z=>y.jsx("li",{className:"border-b border-var-border-default last:border-b-0",children:y.jsxs("button",{onClick:()=>I(z),className:"w-full text-left p-3 hover:bg-var-accent/10 transition-colors duration-150",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("p",{className:"font-semibold text-var-fg-default",children:z.full_name}),y.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${z.private?"bg-red-900 text-red-200":"bg-green-900 text-green-200"}`,children:z.private?"Privado":"Pblico"})]}),y.jsx("p",{className:"text-sm text-var-fg-muted mt-1 truncate",children:z.description})]})},z.id))}):y.jsx("p",{className:"text-var-fg-subtle text-center p-8",children:"Nenhum repositrio encontrado."})})]}):y.jsxs("div",{className:"p-3 bg-yellow-900/50 border border-yellow-700/50 rounded-lg text-sm text-yellow-200 mt-4",children:["Nenhum token de acesso do GitHub foi encontrado. Por favor, ",y.jsx("button",{onClick:a,className:"underline font-bold hover:text-white",children:"adicione um nas configuraes"})," para ver e importar seus repositrios."]});return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center",onClick:E?void 0:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-2xl p-6 border border-var-border-default",onClick:z=>z.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(pl,{})," Importar do GitHub"]}),y.jsx("button",{onClick:E?void 0:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive disabled:opacity-50",disabled:E,children:y.jsx(Dt,{})})]}),Q(),N&&y.jsx("p",{className:"text-red-400 text-sm mt-4 text-center",children:N})]})})},nA=({isOpen:n,onClose:e,onDownload:i,projectName:r})=>{if(!n)return null;const a=()=>{i(),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:l=>l.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx($v,{})," Executar Projeto Localmente"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"text-var-fg-muted space-y-4 text-sm",children:[y.jsx("p",{children:"Para visualizar seu projeto em um ambiente de desenvolvimento local, siga estas etapas:"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-3 bg-var-bg-interactive p-4 rounded-lg border border-var-border-default",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Baixe o projeto:"})," Clique no boto abaixo para baixar os arquivos do projeto como um arquivo ZIP.",y.jsxs("button",{onClick:a,className:"mt-2 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 transition-opacity",children:[y.jsx(zv,{})," Baixar ",r,".zip"]})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Descompacte o arquivo:"})," Extraia o contedo do arquivo ZIP para uma pasta em seu computador."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Abra o terminal:"})," Navegue at a pasta do projeto descompactado usando seu terminal ou prompt de comando."]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Inicie um servidor local:"})," Se voc tiver o Node.js instalado, o comando mais fcil :",y.jsx("pre",{className:"bg-var-bg-muted p-2 rounded-md mt-1 text-xs font-mono",children:y.jsx("code",{children:"npx serve"})}),y.jsx("p",{className:"text-xs text-var-fg-subtle mt-1",children:"Se voc no tem o `serve`, pode instal-lo com `npm install -g serve` ou usar outro servidor local como o `Live Server` do VS Code."})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Visualize no navegador:"})," Abra seu navegador e acesse o endereo fornecido pelo servidor, geralmente"," ",y.jsx("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer",className:"text-var-accent hover:underline",children:"http://localhost:3000"}),"."]})]})]})]})})};var ud=function(n,e){return ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},ud(n,e)};function yy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ud(n,e);function i(){this.constructor=n}n.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var ll=function(){return ll=Object.assign||function(e){for(var i,r=1,a=arguments.length;r<a;r++){i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},ll.apply(this,arguments)};function br(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(i[r[a]]=n[r[a]]);return i}function _y(n,e,i,r){var a=arguments.length,l=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,i,r);else for(var f=n.length-1;f>=0;f--)(c=n[f])&&(l=(a<3?c(l):a>3?c(e,i,l):c(e,i))||l);return a>3&&l&&Object.defineProperty(e,i,l),l}function by(n,e){return function(i,r){e(i,r,n)}}function Sy(n,e,i,r,a,l){function c(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var f=r.kind,g=f==="getter"?"get":f==="setter"?"set":"value",p=!e&&n?r.static?n:n.prototype:null,_=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),b,T=!1,E=i.length-1;E>=0;E--){var C={};for(var N in r)C[N]=N==="access"?{}:r[N];for(var N in r.access)C.access[N]=r.access[N];C.addInitializer=function(k){if(T)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(k||null))};var w=(0,i[E])(f==="accessor"?{get:_.get,set:_.set}:_[g],C);if(f==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(b=c(w.get))&&(_.get=b),(b=c(w.set))&&(_.set=b),(b=c(w.init))&&a.unshift(b)}else(b=c(w))&&(f==="field"?a.unshift(b):_[g]=b)}p&&Object.defineProperty(p,r.name,_),T=!0}function Ty(n,e,i){for(var r=arguments.length>2,a=0;a<e.length;a++)i=r?e[a].call(n,i):e[a].call(n);return r?i:void 0}function xy(n){return typeof n=="symbol"?n:"".concat(n)}function Ey(n,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function wy(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ae(n,e,i,r){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function f(_){try{p(r.next(_))}catch(b){c(b)}}function g(_){try{p(r.throw(_))}catch(b){c(b)}}function p(_){_.done?l(_.value):a(_.value).then(f,g)}p((r=r.apply(n,e||[])).next())})}function Cy(n,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(_){return g([p,_])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(i=0)),i;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,a=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){i.label=p[1];break}if(p[0]===6&&i.label<l[1]){i.label=l[1],l=p;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(p);break}l[2]&&i.ops.pop(),i.trys.pop();continue}p=e.call(n,i)}catch(_){p=[6,_],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Sl=Object.create?(function(n,e,i,r){r===void 0&&(r=i);var a=Object.getOwnPropertyDescriptor(e,i);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(n,r,a)}):(function(n,e,i,r){r===void 0&&(r=i),n[r]=e[i]});function Ay(n,e){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Sl(e,n,i)}function ul(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Id(n,e){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var r=i.call(n),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(f){c={error:f}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return l}function Ry(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Id(arguments[e]));return n}function Ny(){for(var n=0,e=0,i=arguments.length;e<i;e++)n+=arguments[e].length;for(var r=Array(n),a=0,e=0;e<i;e++)for(var l=arguments[e],c=0,f=l.length;c<f;c++,a++)r[a]=l[c];return r}function My(n,e,i){if(i||arguments.length===2)for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}function mr(n){return this instanceof mr?(this.v=n,this):new mr(n)}function Iy(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(C){return Promise.resolve(C).then(E,b)}}function f(E,C){r[E]&&(a[E]=function(N){return new Promise(function(w,k){l.push([E,N,w,k])>1||g(E,N)})},C&&(a[E]=C(a[E])))}function g(E,C){try{p(r[E](C))}catch(N){T(l[0][3],N)}}function p(E){E.value instanceof mr?Promise.resolve(E.value.v).then(_,b):T(l[0][2],E)}function _(E){g("next",E)}function b(E){g("throw",E)}function T(E,C){E(C),l.shift(),l.length&&g(l[0][0],l[0][1])}}function ky(n){var e,i;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,l){e[a]=n[a]?function(c){return(i=!i)?{value:mr(n[a](c)),done:!1}:l?l(c):c}:l}}function Dy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof ul=="function"?ul(n):n[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=n[l]&&function(c){return new Promise(function(f,g){c=n[l](c),a(f,g,c.done,c.value)})}}function a(l,c,f,g){Promise.resolve(g).then(function(p){l({value:p,done:f})},c)}}function Uy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var iA=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},cd=function(n){return cd=Object.getOwnPropertyNames||function(e){var i=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[i.length]=r);return i},cd(n)};function Oy(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=cd(n),r=0;r<i.length;r++)i[r]!=="default"&&Sl(e,n,i[r]);return iA(e,n),e}function Py(n){return n&&n.__esModule?n:{default:n}}function Ly(n,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(n):r?r.value:e.get(n)}function jy(n,e,i,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,i):a?a.value=i:e.set(n,i),i}function qy(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function By(n,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:r,async:i})}else i&&n.stack.push({async:!0});return e}var sA=typeof SuppressedError=="function"?SuppressedError:function(n,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Gy(n){function e(l){n.error=n.hasError?new sA(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var i,r=0;function a(){for(;i=n.stack.pop();)try{if(!i.async&&r===1)return r=0,n.stack.push(i),Promise.resolve().then(a);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else r|=1}catch(c){e(c)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function Vy(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,a,l,c){return r?e?".jsx":".js":a&&(!l||!c)?i:a+l+"."+c.toLowerCase()+"js"}):n}const rA={__extends:yy,__assign:ll,__rest:br,__decorate:_y,__param:by,__esDecorate:Sy,__runInitializers:Ty,__propKey:xy,__setFunctionName:Ey,__metadata:wy,__awaiter:ae,__generator:Cy,__createBinding:Sl,__exportStar:Ay,__values:ul,__read:Id,__spread:Ry,__spreadArrays:Ny,__spreadArray:My,__await:mr,__asyncGenerator:Iy,__asyncDelegator:ky,__asyncValues:Dy,__makeTemplateObject:Uy,__importStar:Oy,__importDefault:Py,__classPrivateFieldGet:Ly,__classPrivateFieldSet:jy,__classPrivateFieldIn:qy,__addDisposableResource:By,__disposeResources:Gy,__rewriteRelativeImportExtension:Vy},oA=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:By,get __assign(){return ll},__asyncDelegator:ky,__asyncGenerator:Iy,__asyncValues:Dy,__await:mr,__awaiter:ae,__classPrivateFieldGet:Ly,__classPrivateFieldIn:qy,__classPrivateFieldSet:jy,__createBinding:Sl,__decorate:_y,__disposeResources:Gy,__esDecorate:Sy,__exportStar:Ay,__extends:yy,__generator:Cy,__importDefault:Py,__importStar:Oy,__makeTemplateObject:Uy,__metadata:wy,__param:by,__propKey:xy,__read:Id,__rest:br,__rewriteRelativeImportExtension:Vy,__runInitializers:Ty,__setFunctionName:Ey,__spread:Ry,__spreadArray:My,__spreadArrays:Ny,__values:ul,default:rA},Symbol.toStringTag,{value:"Module"})),aA="modulepreload",lA=function(n){return"/"+n},lv={},Sr=function(e,i,r){let a=Promise.resolve();if(i&&i.length>0){let c=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=c(i.map(p=>{if(p=lA(p),p in lv)return;lv[p]=!0;const _=p.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":aA,_||(T.as="script"),T.crossOrigin="",T.href=p,g&&T.setAttribute("nonce",g),document.head.appendChild(T),_)return new Promise((E,C)=>{T.addEventListener("load",E),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},uA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)};class kd extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}}class uv extends kd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cv extends kd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dv extends kd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(dd||(dd={}));class cA{constructor(e,{headers:i={},customFetch:r,region:a=dd.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=uA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(i,r={}){var a;try{const{headers:l,method:c,body:f,signal:g}=r;let p={},{region:_}=r;_||(_=this.region);const b=new URL(`${this.url}/${i}`);_&&_!=="any"&&(p["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let T;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(p["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(p["Content-Type"]="application/json",T=JSON.stringify(f)):T=f;const E=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:T,signal:g}).catch(k=>{throw k.name==="AbortError"?k:new uv(k)}),C=E.headers.get("x-relay-error");if(C&&C==="true")throw new cv(E);if(!E.ok)throw new dv(E);let N=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return N==="application/json"?w=yield E.json():N==="application/octet-stream"||N==="application/pdf"?w=yield E.blob():N==="text/event-stream"?w=E:N==="multipart/form-data"?w=yield E.formData():w=yield E.text(),{data:w,error:null,response:E}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new uv(l)}:{data:null,error:l,response:l instanceof dv||l instanceof cv?l.context:void 0}}})}}var It={};const Tr=Lv(oA);var Fa={},Ya={},Ka={},Qa={},Xa={},dA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gr=dA();const fA=gr.fetch,zy=gr.fetch.bind(gr),Hy=gr.Headers,hA=gr.Request,pA=gr.Response,fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hy,Request:hA,Response:pA,default:zy,fetch:fA},Symbol.toStringTag,{value:"Module"})),mA=Lv(fs);var Za={},fv;function $y(){if(fv)return Za;fv=1,Object.defineProperty(Za,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Za.default=n,Za}var hv;function Jy(){if(hv)return Xa;hv=1,Object.defineProperty(Xa,"__esModule",{value:!0});const n=Tr,e=n.__importDefault(mA),i=n.__importDefault($y());class r{constructor(l){var c,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var _,b,T,E;let C=null,N=null,w=null,k=p.status,O=p.statusText;if(p.ok){if(this.method!=="HEAD"){const z=await p.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((_=this.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?N=z:N=JSON.parse(z))}const G=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),Q=(T=p.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");G&&Q&&Q.length>1&&(w=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(C={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,w=null,k=406,O="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const G=await p.text();try{C=JSON.parse(G),Array.isArray(C)&&p.status===404&&(N=[],C=null,k=200,O="OK")}catch{p.status===404&&G===""?(k=204,O="No Content"):C={message:G}}if(C&&this.isMaybeSingle&&(!((E=C==null?void 0:C.details)===null||E===void 0)&&E.includes("0 rows"))&&(C=null,k=200,O="OK"),C&&this.shouldThrowOnError)throw new i.default(C)}return{error:C,data:N,count:w,status:k,statusText:O}});return this.shouldThrowOnError||(g=g.catch(p=>{var _,b,T;return{error:{message:`${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(T=p==null?void 0:p.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return Xa.default=r,Xa}var pv;function Fy(){if(pv)return Qa;pv=1,Object.defineProperty(Qa,"__esModule",{value:!0});const e=Tr.__importDefault(Jy());class i extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:f=c}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var _;const b=[a?"analyze":null,l?"verbose":null,c?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),T=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${T}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Qa.default=i,Qa}var mv;function Dd(){if(mv)return Ka;mv=1,Object.defineProperty(Ka,"__esModule",{value:!0});const e=Tr.__importDefault(Fy()),i=new RegExp("[,()]");class r extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const f=Array.from(new Set(c)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:f,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const _=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${p}fts${_}.${c}`),this}match(l){return Object.entries(l).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(l,c,f){return this.url.searchParams.append(l,`not.${c}.${f}`),this}or(l,{foreignTable:c,referencedTable:f=c}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,c,f){return this.url.searchParams.append(l,`${c}.${f}`),this}}return Ka.default=r,Ka}var gv;function Yy(){if(gv)return Ya;gv=1,Object.defineProperty(Ya,"__esModule",{value:!0});const e=Tr.__importDefault(Dd());class i{constructor(a,{headers:l={},schema:c,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=f}select(a,l){const{head:c=!1,count:f}=l??{},g=c?"HEAD":"GET";let p=!1;const _=(a??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",_),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(p.length>0){const _=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:f,defaultToNull:g=!0}={}){var p;const _="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const b=a.reduce((T,E)=>T.concat(Object.keys(E)),[]);if(b.length>0){const T=[...new Set(b)].map(E=>`"${E}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:l}={}){var c;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ya.default=i,Ya}var vv;function gA(){if(vv)return Fa;vv=1,Object.defineProperty(Fa,"__esModule",{value:!0});const n=Tr,e=n.__importDefault(Yy()),i=n.__importDefault(Dd());class r{constructor(l,{headers:c={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=f,this.fetch=g}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:g=!1,count:p}={}){var _;let b;const T=new URL(`${this.url}/rpc/${l}`);let E;f||g?(b=f?"HEAD":"GET",Object.entries(c).filter(([N,w])=>w!==void 0).map(([N,w])=>[N,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([N,w])=>{T.searchParams.append(N,w)})):(b="POST",E=c);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new i.default({method:b,url:T,headers:C,schema:this.schemaName,body:E,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Fa.default=r,Fa}var yv;function vA(){if(yv)return It;yv=1,Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const n=Tr,e=n.__importDefault(gA());It.PostgrestClient=e.default;const i=n.__importDefault(Yy());It.PostgrestQueryBuilder=i.default;const r=n.__importDefault(Dd());It.PostgrestFilterBuilder=r.default;const a=n.__importDefault(Fy());It.PostgrestTransformBuilder=a.default;const l=n.__importDefault(Jy());It.PostgrestBuilder=l.default;const c=n.__importDefault($y());return It.PostgrestError=c.default,It.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},It}var Ky=vA();const Qy=Td(Ky),yA=Tb({__proto__:null,default:Qy},[Ky]),{PostgrestClient:_A,PostgrestQueryBuilder:eN,PostgrestFilterBuilder:tN,PostgrestTransformBuilder:nN,PostgrestBuilder:iN,PostgrestError:sN}=Qy||yA;class bA{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const SA="2.77.0",TA=`realtime-js/${SA}`,xA="1.0.0",fd=1e4,EA=1e3,wA=100;var bo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(bo||(bo={}));var _t;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(_t||(_t={}));var Sn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Sn||(Sn={}));var hd;(function(n){n.websocket="websocket"})(hd||(hd={}));var os;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(os||(os={}));class CA{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,i,r)}_decodeBroadcast(e,i,r){const a=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const f=r.decode(e.slice(c,c+a));c=c+a;const g=r.decode(e.slice(c,c+l));c=c+l;const p=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}class Xy{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ke||(Ke={}));const _v=(n,e,i={})=>{var r;const a=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=AA(c,n,e,a),l),{}):{}},AA=(n,e,i,r)=>{const a=e.find(f=>f.name===n),l=a==null?void 0:a.type,c=i[n];return l&&!r.includes(l)?Zy(l,c):pd(c)},Zy=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return IA(e,i)}switch(n){case Ke.bool:return RA(e);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return NA(e);case Ke.json:case Ke.jsonb:return MA(e);case Ke.timestamp:return kA(e);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return pd(e);default:return pd(e)}},pd=n=>n,RA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},NA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},MA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},IA=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,r=n[i];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>Zy(e,f))}return n},kA=n=>typeof n=="string"?n.replace(" ","T"):n,Wy=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vc{constructor(e,i,r={},a=fd){this.channel=e,this.event=i,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(bv||(bv={}));class So{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=So.syncState(this.state,a,l,c),this.pendingDiffs.forEach(g=>{this.state=So.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=So.syncDiff(this.state,a,l,c),f())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,a){const l=this.cloneDeep(e),c=this.transformState(i),f={},g={};return this.map(l,(p,_)=>{c[p]||(g[p]=_)}),this.map(c,(p,_)=>{const b=l[p];if(b){const T=_.map(w=>w.presence_ref),E=b.map(w=>w.presence_ref),C=_.filter(w=>E.indexOf(w.presence_ref)<0),N=b.filter(w=>T.indexOf(w.presence_ref)<0);C.length>0&&(f[p]=C),N.length>0&&(g[p]=N)}else f[p]=_}),this.syncDiff(l,{joins:f,leaves:g},r,a)}static syncDiff(e,i,r,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(f,g)=>{var p;const _=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),_.length>0){const b=e[f].map(E=>E.presence_ref),T=_.filter(E=>b.indexOf(E.presence_ref)<0);e[f].unshift(...T)}r(f,_,g)}),this.map(c,(f,g)=>{let p=e[f];if(!p)return;const _=g.map(b=>b.presence_ref);p=p.filter(b=>_.indexOf(b.presence_ref)<0),e[f]=p,a(f,p,g),p.length===0&&delete e[f]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const a=e[r];return"metas"in a?i[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Sv||(Sv={}));var To;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(To||(To={}));var Wn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Wn||(Wn={}));class Ud{constructor(e,i={config:{}},r){var a,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Vc(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new Xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new So(this),this.broadcastEndpointURL=Wy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:c,presence:f,private:g}}=this.params,p=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&a!==void 0?a:[],_=!!this.bindings[To.PRESENCE]&&this.bindings[To.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},T={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Wn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Wn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket.setAuth(),E===void 0){e==null||e(Wn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,w=(C=N==null?void 0:N.length)!==null&&C!==void 0?C:0,k=[];for(let O=0;O<w;O++){const I=N[O],{filter:{event:G,schema:Q,table:z,filter:B}}=I,ne=E&&E[O];if(ne&&ne.event===G&&ne.schema===Q&&ne.table===z&&ne.filter===B)k.push(Object.assign(Object.assign({},I),{id:ne.id}));else{this.unsubscribe(),this.state=_t.errored,e==null||e(Wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Wn.SUBSCRIBED);return}}).receive("error",E=>{this.state=_t.errored,e==null||e(Wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===_t.joined&&e===To.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const p=await f.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,g;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Vc(this,Sn.leave,{},e),r.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Vc(this,e,i,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>wA){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var a,l;const c=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:_}=Sn;if(r&&[f,g,p,_].indexOf(c)>=0&&r!==this._joinRef())return;let T=this._onMessage(c,i,r);if(i&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var C,N,w;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((w=(N=E.filter)===null||N===void 0?void 0:N.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(E=>E.callback(T,r)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var C,N,w,k,O,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const G=E.id,Q=(C=E.filter)===null||C===void 0?void 0:C.event;return G&&((N=i.ids)===null||N===void 0?void 0:N.includes(G))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((w=i.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const G=(O=(k=E==null?void 0:E.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return G==="*"||G===((I=i==null?void 0:i.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof T=="object"&&"ids"in T){const C=T.data,{schema:N,table:w,commit_timestamp:k,type:O,errors:I}=C;T=Object.assign(Object.assign({},{schema:N,table:w,commit_timestamp:k,eventType:O,new:{},old:{},errors:I}),this._getPayloadRecords(C))}E.callback(T,r)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Ud.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=_v(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=_v(e.columns,e.old_record)),i}}const zc=()=>{},Wa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DA=[1e3,2e3,5e3,1e4],UA=1e4,OA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PA{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fd,this.transport=null,this.heartbeatIntervalMs=Wa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zc,this.ref=0,this.reconnectTimer=null,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new CA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Sr(async()=>{const{default:f}=await Promise.resolve().then(()=>fs);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${hd.websocket}`,this.httpEndpoint=Wy(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bA.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xA}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bo.connecting:return os.Connecting;case bo.open:return os.Open;case bo.closing:return os.Closing;default:return os.Closed}}isConnected(){return this.connectionState()===os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new Ud(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:a,ref:l}=e,c=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${i} ${r} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(EA,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Wa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:c}=i,f=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${r} ${a} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${r}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([OA],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const a={access_token:i,version:TA};i&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Sn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Xy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,a,l,c,f,g,p,_;if(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:fd,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Wa.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:zc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(b=>DA[b-1]||UA),this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((b,T)=>T(JSON.stringify(b))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Od extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class LA extends Od{constructor(e,i,r){super(e),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class md extends Od{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const Pd=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},jA=()=>ae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sr(()=>Promise.resolve().then(()=>fs),void 0)).Response:Response}),gd=n=>{if(Array.isArray(n))return n.map(i=>gd(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,r])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=gd(r)}),e},qA=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Hc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),BA=(n,e,i)=>ae(void 0,void 0,void 0,function*(){const r=yield jA();n instanceof r&&!(i!=null&&i.noResolveJson)?n.json().then(a=>{const l=n.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new LA(Hc(a),l,c))}).catch(a=>{e(new md(Hc(a),a))}):e(new md(Hc(n),n))}),GA=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?a:(qA(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),i))};function Ao(n,e,i,r,a,l){return ae(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(i,GA(e,r,a,l)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>BA(g,f,r))})})}function xo(n,e,i,r){return ae(this,void 0,void 0,function*(){return Ao(n,"GET",e,i,r)})}function bn(n,e,i,r,a){return ae(this,void 0,void 0,function*(){return Ao(n,"POST",e,r,a,i)})}function vd(n,e,i,r,a){return ae(this,void 0,void 0,function*(){return Ao(n,"PUT",e,r,a,i)})}function VA(n,e,i,r){return ae(this,void 0,void 0,function*(){return Ao(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function Ld(n,e,i,r,a){return ae(this,void 0,void 0,function*(){return Ao(n,"DELETE",e,r,a,i)})}class zA{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var e0;class HA{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[e0]="BlobDownloadBuilder",this.promise=null}asStream(){return new zA(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}e0=Symbol.toStringTag;const $A={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JA{constructor(e,i={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=r,this.fetch=Pd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,r,a){return ae(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Tv),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(f=Object.assign(Object.assign({},f),a.headers));const p=this._removeEmptyFolders(i),_=this._getFinalPath(p),b=yield(e=="PUT"?vd:bn)(this.fetch,`${this.url}/object/${_}`,l,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}upload(e,i,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,a){return ae(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",i);try{let g;const p=Object.assign({upsert:Tv.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType);const b=yield vd(this.fetch,f.toString(),g,{headers:_});return{data:{path:l,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(st(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);i!=null&&i.upsert&&(a["x-upsert"]="true");const l=yield bn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(this.url+l.url),f=c.searchParams.get("token");if(!f)throw new Od("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(e,i,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return ae(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}copy(e,i,r){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,r){return ae(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield bn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,r){return ae(this,void 0,void 0,function*(){try{const a=yield bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}download(e,i){const a=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>xo(this.fetch,`${this.url}/${a}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new HA(g,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield xo(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:gd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(e){return ae(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield VA(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof md){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),a=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const f=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&a.push(g);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${p}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ld(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}list(e,i,r){return ae(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},$A),i),{prefix:e||""});return{data:yield bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listV2(e,i){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield bn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const t0="2.77.0",n0={"X-Client-Info":`storage-js/${t0}`};class FA{constructor(e,i={},r,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n0),i),this.fetch=Pd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield xo(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createBucket(e){return ae(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield bn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return ae(this,void 0,void 0,function*(){try{return{data:yield vd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ld(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class YA{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n0),i),this.fetch=Pd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield bn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const r=i.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xo(this.fetch,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ld(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}}const jd={"X-Client-Info":`storage-js/${t0}`,"Content-Type":"application/json"};class i0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Xt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class $c extends i0{constructor(e,i,r){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KA extends i0{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var xv;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(xv||(xv={}));const qd=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},QA=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ev=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),XA=(n,e,i)=>ae(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(i!=null&&i.noResolveJson)){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const f=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new $c(Ev(c),a,f))}).catch(()=>{const c=a+"",f=l.statusText||`HTTP ${a} error`;e(new $c(f,a,c))});else{const c=a+"",f=l.statusText||`HTTP ${a} error`;e(new $c(f,a,c))}}else e(new KA(Ev(n),n))}),ZA=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(QA(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),i)):a};function WA(n,e,i,r,a,l){return ae(this,void 0,void 0,function*(){return new Promise((c,f)=>{n(i,ZA(e,r,a,l)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>XA(g,f,r))})})}function Zt(n,e,i,r,a){return ae(this,void 0,void 0,function*(){return WA(n,"POST",e,r,a,i)})}class e1{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jd),i),this.fetch=qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}getIndex(e,i){return ae(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return ae(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}}class t1{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jd),i),this.fetch=qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Zt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}}class n1{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jd),i),this.fetch=qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield Zt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}}class i1 extends n1{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new s1(this.url,this.headers,e,this.fetch)}}class s1 extends e1{constructor(e,i,r,a){super(e,i,a),this.vectorBucketName=r}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new r1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class r1 extends t1{constructor(e,i,r,a,l){super(e,i,l),this.vectorBucketName=r,this.indexName=a}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class o1 extends FA{constructor(e,i={},r,a){super(e,i,r,a)}from(e){return new JA(this.url,this.headers,e,this.fetch)}get vectors(){return new i1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new YA(this.url+"/iceberg",this.headers,this.fetch)}}const a1="2.77.0";let yo="";typeof Deno<"u"?yo="deno":typeof document<"u"?yo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yo="react-native":yo="node";const l1={"X-Client-Info":`supabase-js-${yo}/${a1}`},u1={headers:l1},c1={schema:"public"},d1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f1={},h1=n=>{let e;return n?e=n:typeof fetch>"u"?e=zy:e=fetch,(...i)=>e(...i)},p1=()=>typeof Headers>"u"?Hy:Headers,m1=(n,e,i)=>{const r=h1(i),a=p1();return async(l,c)=>{var f;const g=(f=await e())!==null&&f!==void 0?f:n;let p=new a(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(l,Object.assign(Object.assign({},c),{headers:p}))}};function g1(n){return n.endsWith("/")?n:n+"/"}function v1(n,e){var i,r;const{db:a,auth:l,realtime:c,global:f}=n,{db:g,auth:p,realtime:_,global:b}=e,T={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},_),c),storage:{},global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(i=b==null?void 0:b.headers)!==null&&i!==void 0?i:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?T.accessToken=n.accessToken:delete T.accessToken,T}function y1(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(g1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const s0="2.77.0",lr=30*1e3,yd=3,Jc=yd*lr,_1="http://localhost:9999",b1="supabase.auth.token",S1={"X-Client-Info":`gotrue-js/${s0}`},_d="X-Supabase-Api-Version",r0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x1=600*1e3;class Eo extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}}function pe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class E1 extends Eo{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}}function w1(n){return pe(n)&&n.name==="AuthApiError"}class as extends Eo{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Pi extends Eo{constructor(e,i,r,a){super(e,r,a),this.name=i,this.status=r}}class ki extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C1(n){return pe(n)&&n.name==="AuthSessionMissingError"}class ir extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class el extends Pi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tl extends Pi{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A1(n){return pe(n)&&n.name==="AuthImplicitGrantRedirectError"}class wv extends Pi{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bd extends Pi{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Fc(n){return pe(n)&&n.name==="AuthRetryableFetchError"}class Cv extends Pi{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}}class Sd extends Pi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),R1=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Av.length;e+=1)n[Av[e].charCodeAt(0)]=-2;for(let e=0;e<cl.length;e+=1)n[cl[e].charCodeAt(0)]=e;return n})();function Rv(n,e,i){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(cl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(cl[r]),e.queuedBits-=6}}function o0(n,e,i){const r=R1[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Nv(n){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{I1(c,r,i)};for(let c=0;c<n.length;c+=1)o0(n.charCodeAt(c),a,l);return e.join("")}function N1(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function M1(n,e){for(let i=0;i<n.length;i+=1){let r=n.charCodeAt(i);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}N1(r,e)}}function I1(n,e,i){if(e.utf8seq===0){if(n<=127){i(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function pr(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)o0(n.charCodeAt(a),i,r);return new Uint8Array(e)}function k1(n){const e=[];return M1(n,i=>e.push(i)),new Uint8Array(e)}function ls(n){const e=[],i={queue:0,queuedBits:0},r=a=>{e.push(a)};return n.forEach(a=>Rv(a,i,r)),Rv(null,i,r),e.join("")}function D1(n){return Math.round(Date.now()/1e3)+n}function U1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},a0=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function O1(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((r,a)=>{e[a]=r}),e}const l0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>Sr(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...i)):e=fetch,(...i)=>e(...i)},P1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ur=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},ss=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ii=async(n,e)=>{await n.removeItem(e)};class Tl{constructor(){this.promise=new Tl.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Tl.promiseConstructor=Promise;function Yc(n){const e=n.split(".");if(e.length!==3)throw new Sd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!T1.test(e[r]))throw new Sd("JWT not in base64url format");return{header:JSON.parse(Nv(e[0])),payload:JSON.parse(Nv(e[1])),signature:pr(e[2]),raw:{header:e[0],payload:e[1]}}}async function L1(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function j1(n,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function q1(n){return("0"+n.toString(16)).substr(-2)}function B1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,q1).join("")}async function G1(n){const i=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function V1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await G1(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(n,e,i=!1){const r=B1();let a=r;i&&(a+="/PASSWORD_RECOVERY"),await ur(n,`${e}-code-verifier`,a);const l=await V1(r);return[l,r===l?"plain":"s256"]}const z1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H1(n){const e=n.headers.get(_d);if(!e||!e.match(z1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $1(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function J1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rr(n){if(!F1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kc(){const n={};return new Proxy(n,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mv(n){return JSON.parse(JSON.stringify(n))}const rs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Y1=[502,503,504];async function Iv(n){var e;if(!P1(n))throw new bd(rs(n),0);if(Y1.includes(n.status))throw new bd(rs(n),n.status);let i;try{i=await n.json()}catch(l){throw new as(rs(l),l)}let r;const a=H1(n);if(a&&a.getTime()>=r0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Cv(rs(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ki}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Cv(rs(i),n.status,i.weak_password.reasons);throw new E1(rs(i),n.status||500,r)}const K1=(n,e,i,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),i))};async function Te(n,e,i,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[_d]||(l[_d]=r0["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await Q1(n,e,i+f,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function Q1(n,e,i,r,a,l){const c=K1(e,r,a,l);let f;try{f=await n(i,Object.assign({},c))}catch(g){throw console.error(g),new bd(rs(g),0)}if(f.ok||await Iv(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(g){await Iv(g)}}function _n(n){var e;let i=null;W1(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=D1(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:r},error:null}}function kv(n){const e=_n(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Di(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function X1(n){return{data:n,error:null}}function Z1(n){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l}=n,c=br(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:i,hashed_token:r,redirect_to:a,verification_type:l},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function Dv(n){return n}function W1(n){return n.access_token&&n.refresh_token&&n.expires_in}const Qc=["global","local","others"];class eR{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=l0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Qc[0]){if(Qc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qc.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Di})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=br(e,["options"]),a=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Z1,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(pe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Di})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,a,l,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},_=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Dv});if(_.error)throw _.error;const b=await _.json(),T=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(C.split(";")[1].split("=")[1]);p[`${w}Page`]=N}),p.total=parseInt(T)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(pe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){rr(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Di})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){rr(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Di})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){rr(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Di})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rr(e.userId);try{const{data:i,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:r}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteFactor(e){rr(e.userId),rr(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,a,l,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},_=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Dv});if(_.error)throw _.error;const b=await _.json(),T=(c=_.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(C.split(";")[1].split("=")[1]);p[`${w}Page`]=N}),p.total=parseInt(T)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(pe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}}function Uv(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}const or={debug:!!(globalThis&&a0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tR extends u0{}async function nR(n,e,i){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await i()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new tR(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(or.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function iR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function sR(n){return parseInt(n,16)}function rR(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function oR(n){var e;const{chainId:i,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:g,resources:p,scheme:_,uri:b,version:T}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=c0(n.address),C=_?`${_}://${r}`:r,N=n.statement?`${n.statement}
`:"",w=`${C} wants you to sign in with your Ethereum account:
${E}

${N}`;let k=`URI: ${b}
Version: ${T}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),g&&(k+=`
Request ID: ${g}`),p){let O=`
Resources:`;for(const I of p){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);O+=`
- ${I}`}k+=O}return`${w}
${k}`}class vt extends Error{constructor({message:e,code:i,cause:r,name:a}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class dl extends vt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function aR({error:n,options:e}){var i,r,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new vt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(d0(c)){if(l.rp.id!==c)return new vt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function lR({error:n,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new vt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(d0(r)){if(i.rpId!==r)return new vt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class uR{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cR=new uR;function dR(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:i,excludeCredentials:r}=n,a=br(n,["challenge","user","excludeCredentials"]),l=pr(e).buffer,c=Object.assign(Object.assign({},i),{id:pr(i.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:c});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];f.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:pr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function fR(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:i}=n,r=br(n,["challenge","allowCredentials"]),a=pr(e).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:pr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function hR(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:ls(new Uint8Array(n.response.attestationObject)),clientDataJSON:ls(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pR(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,r=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ls(new Uint8Array(a.authenticatorData)),clientDataJSON:ls(new Uint8Array(a.clientDataJSON)),signature:ls(new Uint8Array(a.signature)),userHandle:a.userHandle?ls(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function d0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ov(){var n,e;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mR(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:aR({error:e,options:n})}}}async function gR(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",e)}:{data:null,error:new dl("Empty credential response",e)}}catch(e){return{data:null,error:lR({error:e,options:n})}}}const vR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yR={userVerification:"preferred",hints:["security-key"]};function fl(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const f=r[l];e(f)?r[l]=fl(f,c):r[l]=fl(c)}else r[l]=c}return r}function _R(n,e){return fl(vR,n,e||{})}function bR(n,e){return fl(yR,n,e||{})}class SR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:a},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:f};const g=a??cR.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=_R(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:b}=await mR({publicKey:p,signal:g});return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const p=bR(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:b}=await gR(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:g}));return _?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new as("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!i)return{data:null,error:new Eo("rpId is required for WebAuthn authentication")};try{if(!Ov())return{data:null,error:new as("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:a},{request:l});if(!c)return{data:null,error:f};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:r,credential_response:g.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new as("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!i)return{data:null,error:new Eo("rpId is required for WebAuthn registration")};try{if(!Ov())return{data:null,error:new as("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:f};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:a},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new as("Unexpected error in register",c)}}}}iR();const TR={url:_1,storageKey:b1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pv(n,e,i){return await i()}const ar={};class wo{get jwks(){var e,i;return(i=(e=ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{cachedAt:e})}constructor(e){var i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wo.nextInstanceID,wo.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},TR),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new eR({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=l0(a.fetch),this.lock=a.lock||Pv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=nR:this.lock=Pv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new SR(this)},this.persistSession?(a.storage?this.storage=a.storage:a0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Uv(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${s0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=O1(window.location.href);let r="none";if(this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce"),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),A1(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pe(i)?{error:i}:{error:new as("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,a;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:_n}),{data:c,error:f}=l;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var i,r,a;try{let l;if("email"in e){const{email:_,password:b,options:T}=e;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await sr(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:_,password:b,data:(i=T==null?void 0:T.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:E,code_challenge_method:C},xform:_n})}else if("phone"in e){const{phone:_,password:b,options:T}=e;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},channel:(a=T==null?void 0:T.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:_n})}else throw new el("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:f}=e;i=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kv})}else if("phone"in e){const{phone:l,password:c,options:f}=e;i=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kv})}else throw new el("You must provide either an email or phone number and a password");const{data:r,error:a}=i;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ir}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,a,l,c,f,g,p,_,b,T;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:N,wallet:w,statement:k,options:O}=e;let I;if(Qt())if(typeof w=="object")I=w;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")I=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=w}const G=new URL((i=O==null?void 0:O.url)!==null&&i!==void 0?i:window.location.href),Q=await I.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=c0(Q[0]);let B=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const Z=await I.request({method:"eth_chainId"});B=sR(Z)}const ne={domain:G.host,address:z,statement:k,uri:G.href,version:"1",chainId:B,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=O==null?void 0:O.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=O==null?void 0:O.signInWithEthereum)===null||_===void 0?void 0:_.resources};E=oR(ne),C=await I.request({method:"personal_sign",params:[rR(E),z]})}try{const{data:N,error:w}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:_n});if(w)throw w;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ir}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:w})}catch(N){if(pe(N))return{data:{user:null,session:null},error:N};throw N}}async signInWithSolana(e){var i,r,a,l,c,f,g,p,_,b,T,E;let C,N;if("message"in e)C=e.message,N=e.signature;else{const{chain:w,wallet:k,statement:O,options:I}=e;let G;if(Qt())if(typeof k=="object")G=k;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))G=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=k}const Q=new URL((i=I==null?void 0:I.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in G&&G.signIn){const z=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),O?{statement:O}:null));let B;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")B=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)B=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)C=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),N=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Q.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(a=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((b=(_=I==null?void 0:I.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const z=await G.signMessage(new TextEncoder().encode(C),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=z}}try{const{data:w,error:k}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:ls(N)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:_n});if(k)throw k;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ir}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:k})}catch(w){if(pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const i=await ss(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(i??"").split("/");try{const{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:_n});if(await Ii(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ir}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(pe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:a,access_token:l,nonce:c}=e,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:_n}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ir}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,r,a,l,c;try{if("email"in e){const{email:f,options:g}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await sr(this.storage,this.storageKey));const{error:b}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:_}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_}}throw new el("You must provide either an email or phone number.")}catch(f){if(pe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var i,r;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:f}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:_n});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var i,r,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await sr(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:X1})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new ki;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:c}=await Te(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:c,error:f}=await Te(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new el("You must provide either an email or phone number and a type")}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Jc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await ss(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Kc()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,_)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,_))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Di}):await this._useSession(async i=>{var r,a,l;const{data:c,error:f}=i;if(f)throw f;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Di})})}catch(i){if(pe(i))return C1(i)&&(await this._removeSession(),await Ii(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new ki;const c=a.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await sr(this.storage,this.storageKey));const{data:p,error:_}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:c.access_token,xform:Di});if(_)throw _;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ki;const i=Date.now()/1e3;let r=i,a=!0,l=null;const{payload:c}=Yc(e.access_token);if(c.exp&&(r=c.exp,a=r<=i),a){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(pe(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:f}=i;if(f)throw f;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ki;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!Qt())throw new tl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new wv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wv("No code detected.");const{data:O,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:f,expires_at:g,token_type:p}=e;if(!l||!f||!c||!p)throw new tl("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(f);let T=_+b;g&&(T=parseInt(g));const E=T-_;E*1e3<=lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const C=T-b;_-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,T,_):_-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,T,_);const{data:N,error:w}=await this._getUser(l);if(w)throw w;const k={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:b,expires_at:T,refresh_token:c,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return{error:l};const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(w1(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await Ii(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=U1(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await sr(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(pe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:a}=await this._useSession(async l=>{var c,f,g,p,_;const{data:b,error:T}=l;if(T)throw T;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",E,{headers:this.headers,jwt:(_=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return Qt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:f,token:g,access_token:p,nonce:_}=e,b=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_n}),{data:T,error:E}=b;return E?{data:{user:null,session:null},error:E}:!T||!T.session||!T.user?{data:{user:null,session:null},error:new ir}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),{data:T,error:E})}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)throw c;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await j1(async a=>(a>0&&await L1(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_n})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Fc(l)&&Date.now()+c-r<lr})}catch(r){if(this._debug(i,"error",r),pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),Qt()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await ss(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ur(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Kc()}else if(a&&!a.user&&!a.user){const c=await ss(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Ii(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,a)):a.user=Kc()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Jc;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Jc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Fc(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Tl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ki;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),pe(l)){const c={data:null,error:l};return Fc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await ur(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=Mv(a);await ur(this.storage,this.storageKey,l)}else{const a=Mv(i);await ur(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ii(this.storage,this.storageKey),await Ii(this.storage,this.storageKey+"-code-verifier"),await Ii(this.storage,this.storageKey+"-user"),this.userStorage&&await Ii(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${lr}ms, refresh threshold is ${yd} ticks`),a<=yd&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof u0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const a=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await sr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,a;const{data:l,error:c}=i;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hR(e.webauthn.credential_response):pR(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(i){if(pe(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:a,error:l}=i;if(l)return{data:null,error:l};const c=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:dR(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:fR(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(pe(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,r;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Yc(a.access_token);let f=null;c.aal&&(f=c.aal);let g=f;((r=(i=a.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const _=c.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(f=>f.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+x1>a)return r;const{data:l,error:c}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:E,error:C}=await this.getSession();if(C||!E.session)return{data:null,error:C};r=E.session.access_token}const{header:a,payload:l,signature:c,raw:{header:f,payload:g}}=Yc(r);i!=null&&i.allowExpired||$1(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:l,header:a,signature:c},error:null}}const _=J1(a.alg),b=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,c,k1(`${f}.${g}`)))throw new Sd("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}wo.nextInstanceID=0;const xR=wo;class ER extends xR{constructor(e){super(e)}}class wR{constructor(e,i,r){var a,l,c;this.supabaseUrl=e,this.supabaseKey=i;const f=y1(e);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:c1,realtime:f1,auth:Object.assign(Object.assign({},d1),{storageKey:g}),global:u1},_=v1(r??{},p);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(b,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=_.auth)!==null&&c!==void 0?c:{},this.headers,_.global.fetch),this.fetch=m1(i,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new _A(new URL("rest/v1",f).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new o1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new cA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,i,r)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,i;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(i=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,userStorage:l,storageKey:c,flowType:f,lock:g,debug:p},_,b){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ER({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),_),storageKey:c,autoRefreshToken:e,persistSession:i,detectSessionInUrl:r,storage:a,userStorage:l,flowType:f,lock:g,debug:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new PA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,i,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CR=(n,e,i)=>new wR(n,e,i);function AR(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}AR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const RR="https://oggabkywjtcghojhzepn.supabase.co",NR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9nZ2Fia3l3anRjZ2hvamh6ZXBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxNjIwNjIsImV4cCI6MjA3MTczODA2Mn0.x2eABhTnCuYMzLfl0Jzmn_BtXANW08rXlniikaLVsvU",dn=CR(RR,NR),MR=({isOpen:n,onClose:e})=>{const[i,r]=H.useState(!0),[a,l]=H.useState(""),[c,f]=H.useState(""),[g,p]=H.useState(!1),[_,b]=H.useState(null),[T,E]=H.useState(null),C=async w=>{w.preventDefault(),p(!0),b(null),E(null);try{if(i){const{error:k}=await dn.auth.signInWithPassword({email:a,password:c});if(k)throw k;e()}else{const{error:k}=await dn.auth.signUp({email:a,password:c});if(k)throw k;E("Verifique seu e-mail para o link de confirmao!")}}catch(k){b(k.error_description||k.message)}finally{p(!1)}},N=async()=>{p(!0),b(null);const{error:w}=await dn.auth.signInWithOAuth({provider:"google"});w&&(b(w.message),p(!1))};return hl.useEffect(()=>{n&&(l(""),f(""),b(null),E(null),p(!1),r(!0))},[n]),n?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-sm p-8 border border-var-border-default animate-slideInUp relative",onClick:w=>w.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-center flex-col items-center mb-6",children:[y.jsx(cs,{className:"w-10 h-10 text-var-accent mb-2"}),y.jsx("h2",{className:"text-2xl font-bold text-var-fg-default",children:i?"Bem-vindo de volta":"Crie sua conta"}),y.jsx("p",{className:"text-sm text-var-fg-muted",children:i?"Faa login para continuar.":"Comece a construir seus projetos."})]}),y.jsxs("form",{onSubmit:C,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Email"}),y.jsx("input",{id:"email",type:"email",value:a,onChange:w=>l(w.target.value),required:!0,className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Senha"}),y.jsx("input",{id:"password",type:"password",value:c,onChange:w=>f(w.target.value),required:!0,minLength:6,className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50"})]}),_&&y.jsx("p",{className:"text-sm text-red-400",children:_}),T&&y.jsx("p",{className:"text-sm text-green-400",children:T}),y.jsx("button",{type:"submit",disabled:g,className:"w-full py-2.5 px-4 bg-var-accent text-var-accent-fg font-semibold rounded-md hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-wait",children:g?"Processando...":i?"Login":"Registrar"})]}),y.jsxs("div",{className:"relative my-4",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("span",{className:"w-full border-t border-var-border-default"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-var-bg-subtle px-2 text-var-fg-muted",children:"OU"})})]}),y.jsxs("button",{type:"button",onClick:N,disabled:g,className:"w-full flex items-center justify-center gap-3 py-2.5 px-4 bg-var-bg-interactive border border-var-border-default text-var-fg-default font-semibold rounded-md hover:bg-var-bg-default transition-colors disabled:opacity-50",children:[y.jsx(Ob,{}),"Continuar com Google"]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-sm text-var-fg-muted",children:[i?"No tem uma conta?":"J tem uma conta?"," ",y.jsx("button",{onClick:()=>{r(!i),b(null),E(null)},className:"font-semibold text-var-accent hover:underline",children:i?"Registre-se":"Faa Login"})]})}),y.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]})}):null},IR=(n,e)=>{const i=n.map(a=>`
--- FILE: ${a.name} ---
\`\`\`${a.language}
${a.content}
\`\`\`
`).join(`
`),r=Object.keys(e).length>0?`The following environment variables are available to the project via 'process.env.VARIABLE_NAME':
${JSON.stringify(e,null,2)}`:"No environment variables are currently set.";return`You are an expert senior full-stack engineer specializing in creating complete, functional, and aesthetically pleasing web applications.
- Your primary goal is to generate all necessary code files based on the user's prompt. You are proficient in a wide range of web technologies including HTML, CSS, JavaScript, TypeScript, React, Vue, Svelte, Node.js, and more.
- Always generate complete, runnable code. Do not use placeholders like "// your code here".
- For standard web projects, create an 'index.html', a CSS file for styles (e.g., 'style.css'), and a JavaScript file for logic (e.g., 'script.js').
- For React projects, use functional components, TypeScript (.tsx), and hooks.
- For styling, you can use Tailwind CSS via CDN in index.html or generate separate CSS files, whichever is more appropriate for the user's request.
- The file structure should be logical (e.g., components/, services/, assets/).
- If a 'services/supabase.ts' file exists, it means the project is integrated with Supabase. You have the ability to execute SQL queries on the user's Supabase database.
- SPECIAL COMMAND: If the user's prompt includes the word "ia" (Portuguese for "AI"), you must integrate a client-side Gemini AI feature into the project. To do this:
  - 1. Create a new file 'services/gemini.ts'. This file should initialize the GoogleGenAI client and export a function to call the Gemini model.
  - 2. The API key for this service MUST be read from an environment variable named 'GEMINI_API_KEY' (e.g., 'process.env.GEMINI_API_KEY').
  - 3. In your JSON response, you MUST include the 'environmentVariables' field and create a key named 'GEMINI_API_KEY'. Set its value to an empty string (e.g., "GEMINI_API_KEY": ""). The application will automatically populate it with the user's key.
  - 4. Update the application's UI and logic files to import and use the new Gemini service, creating the AI feature requested by the user.
- INTEGRATION - STRIPE: If the user asks to add payments or mentions Stripe, integrate it.
  - 1. Add 'https://js.stripe.com/v3/' script tag to index.html.
  - 2. Create a component to handle the checkout flow using Stripe.js.
  - 3. You MUST include 'STRIPE_PUBLIC_KEY' and 'STRIPE_SECRET_KEY' in the 'environmentVariables' field of your JSON response. The application will automatically populate them from user settings. Use 'process.env.STRIPE_PUBLIC_KEY' in the frontend code.
- INTEGRATION - NEON DB: If the user asks for a backend with a database or mentions Neon, you can use it.
  - 1. Explain that you will generate placeholder backend code that uses a PostgreSQL database.
  - 2. You MUST include 'NEON_CONNECTION_STRING' in the 'environmentVariables' field of your JSON response. The application will populate it.
  - 3. Generate example backend code (e.g., a simple Express server as a file) that uses a library like 'pg' to connect to the database using 'process.env.NEON_CONNECTION_STRING'.
- INTEGRATION - MAPS: If the user asks for a map, integrate OpenStreetMap using the Leaflet.js library.
  - 1. Add Leaflet CSS and JS links to index.html.
  - 2. Create a component that initializes a map centered on a default location.
- IMPORTANT: You MUST begin your response with a short, single-line "thought" process message explaining what you are about to do, in Portuguese. For example: "Entendido. Criando um aplicativo de lista de tarefas com React e Tailwind." After this line, you MUST add a separator '---' on a new line. Then, begin the main JSON response.
- You MUST respond with a single, valid JSON object and nothing else. Do not wrap the JSON in markdown backticks or any other text. The JSON object must contain the "message" and "files" keys, and can optionally contain "summary", "environmentVariables", and "supabaseAdminAction".
  - "message": (string) A friendly, conversational message to the user, in Portuguese.
  - "files": (array) An array of file objects. Each file object must have "name", "language", and "content".
  - "summary": (string, optional) A markdown string summarizing the files created or updated.
  - "environmentVariables": (object, optional) An object of environment variables to set. To delete a variable, set its value to null.
  - "supabaseAdminAction": (object, optional) To execute a database modification (e.g., create a table), provide an object with a "query" key containing the SQL statement to execute. Example: { "query": "CREATE TABLE posts (id bigint primary key, title text);" }. Use this ONLY for database schema or data manipulation.

Current project files:
${i.length>0?i:"Nenhum arquivo existe ainda."}

${r}
`},kR=async(n,e,i,r,a,l,c)=>{try{const f=new bl({apiKey:l}),g=IR(e,i),p=[{text:n}];c&&c.length>0&&c.forEach(T=>{p.push({inlineData:{data:T.data,mimeType:T.mimeType}})});const _=await f.models.generateContentStream({model:a,contents:{parts:p},config:{systemInstruction:g}});let b="";for await(const T of _){const E=T.text;E&&(b+=E,r(E))}return b}catch(f){console.error("Error calling Gemini API:",f);const g=f instanceof Error?f.message:"An unknown error occurred.";return JSON.stringify({message:`Ocorreu um erro ao chamar a API do Gemini: ${g}. Por favor, verifique sua chave de API e a conexo com a internet.`,files:e})}},DR=async(n,e)=>{try{const i=new bl({apiKey:e}),r=`Gere um nome de projeto criativo e curto de duas palavras (em PascalCase, sem espaos, como 'QuantumQuill') para o seguinte conceito: "${n}". Responda APENAS com o nome e nada mais.`;return(await i.models.generateContent({model:"gemini-2.5-flash",contents:r})).text.trim().replace(/[^a-zA-Z0-9]/g,"")||"NovoProjeto"}catch(i){return console.error("Error generating project name:",i),"NovoProjeto"}},UR=async(n,e,i,r)=>{try{return(await new bl({apiKey:e}).models.generateImages({model:"imagen-4.0-generate-001",prompt:n,config:{numberOfImages:i,outputMimeType:"image/png",aspectRatio:r}})).generatedImages.map(c=>c.image.imageBytes)}catch(a){throw console.error("Error calling Imagen API:",a),a}},OR=["1:1","16:9","9:16","4:3","3:4"],PR=({isOpen:n,onClose:e,onSaveImage:i,apiKey:r,onOpenApiKeyModal:a})=>{const[l,c]=H.useState(""),[f,g]=H.useState(1),[p,_]=H.useState("1:1"),[b,T]=H.useState(!1),[E,C]=H.useState(null),[N,w]=H.useState([]);hl.useEffect(()=>{n&&(c(""),w([]),C(null),T(!1))},[n]);const k=async()=>{if(!r){C("Chave de API do Gemini no encontrada. Por favor, adicione uma nas configuraes."),a();return}if(!l.trim()){C("Por favor, insira um prompt para gerar a imagem.");return}T(!0),C(null),w([]);try{const I=await UR(l,r,f,p);w(I)}catch(I){const G=I instanceof Error?I.message:"Ocorreu um erro desconhecido.";C(`Falha ao gerar imagens: ${G}`)}finally{T(!1)}},O=I=>{const Q=`${l.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").substring(0,30)||"generated"}-${Date.now()}.png`;i(I,Q)};return n?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-4xl p-6 border border-var-border-default animate-slideInUp flex flex-col max-h-[90vh]",onClick:I=>I.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(Wc,{})," Gerador de Imagem AI"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"flex-grow flex gap-6 overflow-hidden",children:[y.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Prompt"}),y.jsx("textarea",{value:l,onChange:I=>c(I.target.value),placeholder:"Ex: Um rob fofo segurando um skate vermelho, estilo de arte digital.",className:"w-full p-2 h-32 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-var-accent/50 resize-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-muted mb-1",children:"N de Imagens"}),y.jsx("input",{type:"number",min:"1",max:"4",value:f,onChange:I=>g(parseInt(I.target.value)),className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-muted mb-1",children:"Proporo"}),y.jsx("select",{value:p,onChange:I=>_(I.target.value),className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default",children:OR.map(I=>y.jsx("option",{value:I,children:I},I))})]}),y.jsxs("button",{onClick:k,disabled:b,className:"w-full mt-auto flex items-center justify-center gap-2 px-4 py-2.5 rounded-md text-sm font-medium text-var-accent-fg bg-var-accent hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-wait",children:[y.jsx(ml,{})," ",b?"Gerando...":"Gerar Imagens"]}),E&&y.jsx("p",{className:"text-red-400 text-xs text-center mt-2",children:E})]}),y.jsxs("div",{className:"w-2/3 bg-var-bg-muted rounded-lg p-4 overflow-y-auto",children:[b&&y.jsx("div",{className:"flex items-center justify-center h-full text-var-fg-muted",children:y.jsxs("svg",{className:"animate-spin h-8 w-8",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),!b&&N.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-var-fg-muted",children:[y.jsx(Wc,{}),y.jsx("p",{className:"mt-2",children:"Suas imagens geradas aparecero aqui."})]}),!b&&N.length>0&&y.jsx("div",{className:`grid gap-4 ${f>1?"grid-cols-2":"grid-cols-1"}`,children:N.map((I,G)=>y.jsxs("div",{className:"group relative",children:[y.jsx("img",{src:`data:image/png;base64,${I}`,alt:`Generated image ${G+1}`,className:"rounded-md w-full h-full object-contain"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:y.jsxs("button",{onClick:()=>O(I),className:"flex items-center gap-2 px-4 py-2 bg-var-accent text-var-accent-fg rounded-lg font-semibold hover:opacity-90",children:[y.jsx(Hv,{})," Salvar no Projeto"]})})]},G))})]})]})]})}):null},LR=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(i.supabase_project_url||""),[c,f]=H.useState(i.supabase_anon_key||""),[g,p]=H.useState(i.supabase_service_key||"");if(H.useEffect(()=>{n&&(l(i.supabase_project_url||""),f(i.supabase_anon_key||""),p(i.supabase_service_key||""))},[n,i]),!n)return null;const _=()=>{r({supabase_project_url:a,supabase_anon_key:c,supabase_service_key:g}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:b=>b.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(Gv,{})," Gerenciar Integrao Supabase"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("p",{className:"text-var-fg-muted text-sm mb-4",children:"Fornea as credenciais do seu projeto Supabase para permitir que a IA interaja com seu banco de dados. Voc pode encontr-las em seu Painel Supabase em Configuraes do Projeto > API."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-default mb-1",children:"URL do Projeto"}),y.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),placeholder:"https://seu-projeto-ref.supabase.co",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-default mb-1",children:"Chave Anon (Pblica)"}),y.jsx("input",{type:"password",value:c,onChange:b=>f(b.target.value),placeholder:"Sua chave pblica anon",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-green-500/50"})]}),y.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-700/50 rounded-lg",children:[y.jsx("label",{className:"block text-sm font-medium text-red-200 mb-1",children:"Chave Service Role (Secreta)"}),y.jsx("p",{className:"text-xs text-red-300/80 mb-2",children:"Esta chave concede acesso de administrador total ao seu banco de dados. Manuseie com cuidado. Ela ser armazenada com segurana no seu perfil."}),y.jsx("input",{type:"password",value:g,onChange:b=>p(b.target.value),placeholder:"Sua chave secreta service_role",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-red-500/50"})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:_,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none flex items-center gap-2",children:"Salvar Credenciais"})})]})})},jR=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(""),[c,f]=H.useState("");if(H.useEffect(()=>{n&&(l(i.stripe_public_key||""),f(i.stripe_secret_key||""))},[n,i]),!n)return null;const g=()=>{r({stripe_public_key:a,stripe_secret_key:c}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:p=>p.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(jv,{})," Gerenciar Integrao Stripe"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("p",{className:"text-var-fg-muted text-sm mb-4",children:"Fornea suas chaves de API do Stripe para permitir que a IA gere funcionalidades de pagamento. Voc pode encontr-las em seu Painel do Stripe para Desenvolvedores > Chaves de API."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-var-fg-default mb-1",children:"Chave Publicvel"}),y.jsx("input",{type:"text",value:a,onChange:p=>l(p.target.value),placeholder:"pk_test_...",className:"w-full p-2 bg-var-bg-interactive border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-[#635BFF]/50"})]}),y.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-700/50 rounded-lg",children:[y.jsx("label",{className:"block text-sm font-medium text-red-200 mb-1",children:"Chave Secreta"}),y.jsx("p",{className:"text-xs text-red-300/80 mb-2",children:"Esta chave concede acesso total  sua conta Stripe. Manuseie com cuidado. Ela ser armazenada com segurana em seu perfil."}),y.jsx("input",{type:"password",value:c,onChange:p=>f(p.target.value),placeholder:"sk_test_...",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-red-500/50"})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:g,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-[#635BFF] hover:opacity-90 focus:outline-none flex items-center gap-2",children:"Salvar Chaves do Stripe"})})]})})},qR=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState("");if(H.useEffect(()=>{n&&l(i.neon_connection_string||"")},[n,i]),!n)return null;const c=()=>{r({neon_connection_string:a}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:f=>f.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(Bv,{})," Gerenciar Integrao Neon"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsx("p",{className:"text-var-fg-muted text-sm mb-4",children:"Fornea a string de conexo do seu banco de dados Neon (Postgres) para permitir que a IA gere cdigo de backend que interaja com ele. Voc pode encontr-la no painel do seu projeto Neon."}),y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-700/50 rounded-lg",children:[y.jsx("label",{className:"block text-sm font-medium text-red-200 mb-1",children:"String de Conexo"}),y.jsx("p",{className:"text-xs text-red-300/80 mb-2",children:"Esta string contm suas credenciais de banco de dados. Manuseie com cuidado. Ela ser armazenada com segurana em seu perfil."}),y.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"postgresql://user:password@host:port/dbname",className:"w-full p-2 bg-var-bg-subtle border border-var-border-default rounded-md text-var-fg-default placeholder-var-fg-subtle focus:outline-none focus:ring-2 focus:ring-red-500/50 font-mono text-xs"})]})}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:c,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none flex items-center gap-2",children:"Salvar String de Conexo"})})]})})},BR=({isOpen:n,onClose:e})=>n?y.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center animate-fadeIn",onClick:e,children:y.jsxs("div",{className:"bg-var-bg-subtle rounded-lg shadow-xl w-full max-w-lg p-6 border border-var-border-default animate-slideInUp",onClick:i=>i.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-xl font-semibold text-var-fg-default flex items-center gap-2",children:[y.jsx(qv,{})," Integrao com OpenStreetMap"]}),y.jsx("button",{onClick:e,className:"p-1 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Dt,{})})]}),y.jsxs("div",{className:"text-var-fg-muted space-y-4 text-sm",children:[y.jsxs("p",{children:["A integrao com o OpenStreetMap  feita atravs de bibliotecas de frontend como a ",y.jsx("a",{href:"https://leafletjs.com/",target:"_blank",rel:"noopener noreferrer",className:"text-var-accent hover:underline",children:"Leaflet.js"}),"."]}),y.jsx("p",{children:"No  necessria nenhuma configurao de chave de API aqui. A IA j sabe como gerar o cdigo necessrio para adicionar um mapa ao seu projeto."}),y.jsxs("div",{className:"bg-var-bg-interactive p-4 rounded-lg border border-var-border-default",children:[y.jsx("h3",{className:"font-semibold text-var-fg-default mb-2",children:"Como usar:"}),y.jsx("p",{children:"Simplesmente pea  IA no chat. Por exemplo:"}),y.jsx("code",{className:"block bg-var-bg-muted p-2 rounded-md mt-2 text-xs font-mono text-var-fg-default",children:`"Adicione uma pgina de 'Contato' com um mapa mostrando o endereo da nossa empresa."`})]})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Entendi"})})]})}):null,GR=({isOpen:n,onClose:e,settings:i,onSave:r})=>{const[a,l]=H.useState(""),[c,f]=H.useState("");H.useEffect(()=>{n&&(l(i.google_cloud_project_id||""),f(i.google_cloud_service_account_key||""))},[n,i]);const g=()=>{r({google_cloud_project_id:a,google_cloud_service_account_key:c}),e()};return n?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Google Cloud Platform Integration"}),y.jsx("p",{className:"mb-4",children:"Connect your Google Cloud project to enable powerful backend services. You can find this information in your GCP console."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"gcp-project-id",className:"block text-sm font-medium text-gray-700",children:"Google Cloud Project ID"}),y.jsx("input",{type:"text",id:"gcp-project-id",value:a,onChange:p=>l(p.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"my-gcp-project-12345"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"gcp-sa-key",className:"block text-sm font-medium text-gray-700",children:"Service Account Key (JSON)"}),y.jsx("textarea",{id:"gcp-sa-key",rows:8,value:c,onChange:p=>f(p.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:`{
  "type": "service_account",
  "project_id": "...",
  "private_key_id": "...",
  "..."
}`})]})]}),y.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[y.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),y.jsx("button",{onClick:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})]})]})}):null},VR=async n=>{if(typeof JSZip>"u")throw new Error("A biblioteca JSZip no foi carregada.");const e=new JSZip;return n.forEach(i=>{e.file(i.name,i.content)}),e.generateAsync({type:"blob"})},zR=async(n,e="ai-codegen-project")=>{try{const i=await VR(n),r=document.createElement("a");r.href=URL.createObjectURL(i),r.download=`${e}.zip`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}catch(i){console.error("Error creating zip file:",i);const r=i instanceof Error?i.message:"Ocorreu um erro desconhecido ao criar o arquivo zip.";alert(r)}},HR=async(n,e,i,r)=>{try{const a=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n,existingFiles:e,provider:xe.OpenAI,model:r})});if(!a.ok||!a.body){const g=await a.text();throw new Error(g||`HTTP error! status: ${a.status}`)}const l=a.body.getReader(),c=new TextDecoder;let f="";for(;;){const{done:g,value:p}=await l.read();if(g)break;const _=c.decode(p,{stream:!0});f+=_,i(_)}return f}catch(a){console.error("Error calling backend proxy for OpenAI:",a);const l=a instanceof Error?a.message:"An unknown error occurred.",c=JSON.stringify({message:`Ocorreu um erro: ${l}. Por favor, verifique o console do backend para mais detalhes.`,files:e});return i(c),c}},$R=async(n,e,i,r)=>{var a;try{const l=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n,existingFiles:e,provider:xe.DeepSeek,model:r})});if(!l.ok||!l.body){const p=await l.text();try{const _=JSON.parse(p);throw new Error(((a=_.error)==null?void 0:a.message)||`HTTP error! status: ${l.status}`)}catch(_){throw console.error("Failed to parse error JSON:",_),new Error(`Erro da API DeepSeek: ${p}`)}}const c=l.body.getReader(),f=new TextDecoder;let g="";for(;;){const{done:p,value:_}=await c.read();if(p)break;const b=f.decode(_,{stream:!0});g+=b,i(b)}return g}catch(l){console.error("Error calling backend proxy for DeepSeek:",l);const c=l instanceof Error?l.message:"An unknown error occurred.",f=JSON.stringify({message:`Ocorreu um erro: ${c}. Por favor, verifique o console do backend para mais detalhes.`,files:e});return i(f),f}},JR=(n,e)=>{const i=n.map(a=>`
--- FILE: ${a.name} ---
\`\`\`${a.language}
${a.content}
\`\`\`
`).join(`
`),r=Object.keys(e).length>0?`The following environment variables are available to the project via 'process.env.VARIABLE_NAME':
${JSON.stringify(e,null,2)}`:"No environment variables are currently set.";return`You are an expert senior full-stack engineer specializing in creating complete, functional, and aesthetically pleasing web applications.
- Your primary goal is to generate all necessary code files based on the user's prompt. You are proficient in a wide range of web technologies including HTML, CSS, JavaScript, TypeScript, React, Vue, Svelte, Node.js, and more.
- Always generate complete, runnable code. Do not use placeholders like "// your code here".
- For standard web projects, create an 'index.html', a CSS file for styles (e.g., 'style.css'), and a JavaScript file for logic (e.g., 'script.js').
- For React projects, use functional components, TypeScript (.tsx), and hooks.
- For styling, you can use Tailwind CSS via CDN in index.html or generate separate CSS files, whichever is more appropriate for the user's request.
- The file structure should be logical (e.g., components/, services/, assets/).
- If a 'services/supabase.ts' file exists, it means the project is integrated with Supabase. You have the ability to execute SQL queries on the user's Supabase database.
- You MUST respond with a single, valid JSON object and nothing else. Do not wrap the JSON in markdown backticks or any other text. The JSON object must contain the "message" and "files" keys, and can optionally contain "summary", "environmentVariables", and "supabaseAdminAction".
  - "message": (string) A friendly, conversational message to the user, in Portuguese.
  - "files": (array) An array of file objects. Each file object must have "name", "language", and "content".
  - "summary": (string, optional) A markdown string summarizing the files created or updated.
  - "environmentVariables": (object, optional) An object of environment variables to set. To delete a variable, set its value to null.
  - "supabaseAdminAction": (object, optional) To execute a database modification (e.g., create a table), provide an object with a "query" key containing the SQL statement to execute. Example: { "query": "CREATE TABLE posts (id bigint primary key, title text);" }. Use this ONLY for database schema or data manipulation.

Current project files:
${i.length>0?i:"Nenhum arquivo existe ainda."}

${r}
`},FR=async(n,e,i,r,a,l)=>{var f;const c=JR(e,i);try{const g=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"HTTP-Referer":"https://codagem.studio","X-Title":"Codagem Studio"},body:JSON.stringify({model:l,messages:[{role:"system",content:c},{role:"user",content:n}],temperature:.1,top_p:.9,response_format:{type:"json_object"},stream:!0})});if(!g.ok||!g.body){const T=await g.text();try{const E=JSON.parse(T);throw new Error(((f=E.error)==null?void 0:f.message)||`HTTP error! status: ${g.status}`)}catch(E){throw console.error("Failed to parse error JSON:",E),new Error(`Erro na API OpenRouter: ${T}`)}}const p=g.body.getReader(),_=new TextDecoder;let b="";for(;;){const{done:T,value:E}=await p.read();if(T)break;const N=_.decode(E,{stream:!0}).split(`
`).filter(w=>w.trim()!=="");for(const w of N)if(w.startsWith("data: ")){const k=w.substring(6);if(k==="[DONE]")break;try{const O=JSON.parse(k);if(O.choices&&O.choices[0].delta&&O.choices[0].delta.content){const I=O.choices[0].delta.content;b+=I,r(I)}}catch(O){console.error("Error parsing stream data chunk:",w,O)}}}return b}catch(g){console.error("Error generating code with OpenRouter:",g);const p=g instanceof Error?g.message:"An unknown error occurred.";return JSON.stringify({message:`Ocorreu um erro: ${p}. Por favor, verifique sua chave OpenRouter e a conexo com a internet.`,files:e})}};function YR(n,e){const i=e instanceof Function?e():e;if(typeof window>"u"||typeof window.localStorage>"u")return i;try{const r=localStorage.getItem(n);if(r){const a=JSON.parse(r);return a===null?i:Array.isArray(i)?Array.isArray(a)?a.filter(l=>l!=null):i:typeof i=="object"&&i!==null?typeof a=="object"&&a!==null&&!Array.isArray(a)?{...i,...a}:i:a}}catch(r){return console.error(`Error reading localStorage key "${n}":`,r),i}return i}function Xc(n,e){const[i,r]=H.useState(()=>YR(n,e));return H.useEffect(()=>{if(typeof window>"u"||typeof window.localStorage>"u"){console.warn(`localStorage is not available. State for key "${n}" will not be persisted.`);return}try{localStorage.setItem(n,JSON.stringify(i))}catch(a){console.error(`Error writing to localStorage key "${n}":`,a)}},[n,i]),[i,r]}xe.Gemini,xe.OpenAI,xe.OpenAI,xe.OpenAI,xe.DeepSeek,xe.DeepSeek,xe.OpenRouter,xe.OpenRouter,xe.OpenRouter,xe.OpenRouter,xe.OpenRouter,xe.OpenRouter;const KR=({onToggleSidebar:n,onToggleChat:e,projectName:i,session:r})=>y.jsxs("div",{className:"lg:hidden flex justify-between items-center p-2 bg-var-bg-subtle border-b border-var-border-default flex-shrink-0",children:[y.jsx("button",{onClick:n,className:"p-2 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Gb,{})}),y.jsx("h1",{className:"text-sm font-semibold text-var-fg-default truncate",children:i}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("button",{onClick:e,className:"p-2 rounded-md text-var-fg-muted hover:bg-var-bg-interactive",children:y.jsx(Vb,{})})})]}),QR=({projectName:n,generatingFile:e})=>{const[i,r]=H.useState(45);return H.useEffect(()=>{const a=setInterval(()=>{r(l=>l>10?l-1:l>2?l-.5:1)},1e3);return()=>{clearInterval(a)}},[]),y.jsxs("div",{className:"absolute inset-0 bg-var-bg-default/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center text-var-fg-default animate-fadeIn",children:[y.jsx(cs,{className:"w-12 h-12 text-var-accent animate-pulse",style:{animationDuration:"2s"}}),y.jsx("h2",{className:"mt-4 text-2xl font-bold",children:"Gerando seu novo projeto..."}),y.jsx("p",{className:"text-lg text-var-fg-muted",children:n}),y.jsxs("div",{className:"mt-8 text-center space-y-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-var-fg-subtle",children:"Criando arquivo:"}),y.jsx("p",{className:"text-base font-mono text-var-fg-default bg-var-bg-subtle px-3 py-1.5 rounded-md inline-block min-w-[220px] text-center transition-all duration-300",children:e})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-var-fg-subtle",children:"Tempo estimado restante:"}),y.jsxs("p",{className:"text-base font-semibold text-var-fg-default",children:[Math.ceil(i)," segundos"]})]})]})]})},XR=n=>{const e=n.indexOf("{"),i=n.lastIndexOf("}");if(e===-1||i===-1||i<e)throw console.error("Could not find valid JSON object delimiters {} in AI response:",n),new Error("No foi encontrado nenhum objeto JSON vlido na resposta da IA. A resposta pode estar incompleta ou em um formato inesperado.");const r=n.substring(e,i+1);try{return JSON.parse(r)}catch(a){console.error("Failed to parse extracted JSON:",a),console.error("Extracted JSON string:",r);const l=a instanceof Error?a.message:"Erro de anlise desconhecido.";throw new Error(`A resposta da IA continha um JSON malformado. Detalhes: ${l}`)}},Zc={files:[],activeFile:null,chatMessages:[{role:"assistant",content:Jv}],projectName:"NovoProjeto",envVars:{},currentProjectId:null},ZR=()=>{var Ss,oi,ko,Er,wr;const[n,e]=Xc("codegen-studio-project",Zc),{files:i,activeFile:r,chatMessages:a,projectName:l,envVars:c,currentProjectId:f}=n,[g,p]=H.useState([]),[_,b]=H.useState(),[T,E]=H.useState(!1),[C,N]=H.useState(!1),[w,k]=H.useState(!1),[O,I]=H.useState(!1),[G,Q]=H.useState(!1),[z,B]=H.useState(!1),[ne,Z]=H.useState(!1),[ue,_e]=H.useState(!1),[ce,De]=H.useState(!1),[le,he]=H.useState(!1),[U,Y]=H.useState(!1),[re,be]=H.useState(!1),[ve,R]=H.useState(!1),[$,X]=H.useState(!1),[K,ge]=H.useState(null),[de,Ie]=Xc("is-pro-user",!1),[Ye,nt]=Xc("theme","dark"),[Nn,xn]=H.useState(null),[hs,Mn]=H.useState(!1),[In,ti]=H.useState("Preparando..."),[ni,ii]=H.useState(null),[Li,ps]=H.useState({provider:xe.Gemini,model:"gemini-2.0-flash"}),[ji,qi]=H.useState(0);H.useEffect(()=>{const W=new Date().toDateString(),ee=localStorage.getItem("dailyUsage");localStorage.getItem("dailyUsageDate")===W&&ee?qi(parseInt(ee,10)):(qi(0),localStorage.setItem("dailyUsage","0"),localStorage.setItem("dailyUsageDate",W))},[]),H.useEffect(()=>{localStorage.setItem("dailyUsage",ji.toString())},[ji]);const[Ce,Ro]=H.useState(null),[Rt,No]=H.useState(!0),[ms,gs]=H.useState(null),Nt=window.location.protocol.startsWith("http"),Wt=(K==null?void 0:K.gemini_api_key)||zm;H.useEffect(()=>{document.documentElement.className=Ye},[Ye]);const vs=H.useCallback(async W=>{try{const{data:ee,error:te}=await dn.from("profiles").select("*").eq("id",W.id).single();if(te&&te.code!=="PGRST116")throw te;ge(ee);const{data:ye,error:it}=await dn.from("projects").select("*").eq("user_id",W.id);if(it)throw it;p(ye||[])}catch(ee){console.error("Error fetching user data:",ee)}},[]);H.useEffect(()=>{const W=async()=>{const{data:{session:te}}=await dn.auth.getSession();Ro(te),te!=null&&te.user&&await vs(te.user),No(!1)};No(!0),W();const{data:{subscription:ee}}=dn.auth.onAuthStateChange(async(te,ye)=>{Ro(ye),ye!=null&&ye.user?(await vs(ye.user),ms&&(ms(),gs(null))):(ge(null),p([]))});return()=>{ee.unsubscribe()}},[vs,ms]);const En=H.useCallback(()=>{const W=()=>{if(e(Zc),ii(null),b("welcome"),E(!1),N(!1),Nt){const ee=new URL(window.location.href);ee.searchParams.delete("projectId"),window.history.pushState({path:ee.href},"",ee.href)}};n.files.length>0?window.confirm("Tem certeza de que deseja iniciar um novo projeto? Seu trabalho local atual ser perdido.")&&W():W()},[n,Nt,e]),ys=H.useCallback(async()=>{const{error:W}=await dn.auth.signOut();if(W){alert(`Erro ao tentar sair: ${W.message}`);return}if(e(Zc),b("welcome"),Nt){const ee=new URL(window.location.href);ee.searchParams.delete("projectId"),window.history.pushState({path:ee.href},"",ee.href)}},[e,Nt]),kn=H.useCallback((W,ee=!0)=>{var ye,it;if(ee&&n.files.length>0&&!window.confirm("Carregar este projeto substituir seu trabalho local atual. Deseja continuar?"))return;const te=g.find(Ue=>Ue.id===W);if(te){if(e({files:te.files,projectName:te.name,chatMessages:te.chat_history,envVars:te.env_vars||{},currentProjectId:te.id,activeFile:((ye=te.files.find(Ue=>Ue.name.includes("html")))==null?void 0:ye.name)||((it=te.files[0])==null?void 0:it.name)||null}),Nt){const Ue=new URL(window.location.href);Ue.searchParams.set("projectId",String(te.id)),window.history.pushState({path:Ue.href},"",Ue.href)}ii(null),Mn(!1),b("editor")}else if(alert("No foi possvel carregar o projeto. Ele pode ter sido excludo ou ainda no foi carregado."),Nt){const Ue=new URL(window.location.href);Ue.searchParams.delete("projectId"),window.history.pushState({path:Ue.href},"",Ue.href)}},[n.files.length,g,e,Nt]);H.useEffect(()=>{if(Rt||_)return;const ee=new URLSearchParams(window.location.search).get("projectId");if(Nt&&ee){const te=parseInt(ee,10);if(g.some(it=>it.id===te)){kn(te,!1),b("editor");return}}i.length>0?b("editor"):b("welcome")},[_,g,i.length,kn,Nt,Rt]),H.useEffect(()=>{if(Nt){const W=new URLSearchParams(window.location.search);W.has("payment")&&W.get("payment")==="success"&&(Ie(!0),window.history.replaceState({},document.title,window.location.pathname))}},[Ie,Nt]);const ut=H.useCallback(async W=>{if(!(Ce!=null&&Ce.user))return;const ee={...W,id:Ce.user.id,updated_at:new Date().toISOString()},{data:te,error:ye}=await dn.from("profiles").upsert(ee).select().single();ye?(alert(`Erro ao salvar configuraes: ${ye.message}`),console.error("Supabase save settings error:",ye)):ge(te)},[Ce]),hn=H.useCallback(async W=>{if(!(K!=null&&K.supabase_project_url)||!(K!=null&&K.supabase_service_key)){const ee="As credenciais do Supabase no esto configuradas. Por favor, adicione-as nas integraes para executar aes de banco de dados.";e(te=>({...te,chatMessages:[...te.chatMessages,{role:"assistant",content:`Erro: ${ee}`}]})),he(!0);return}try{const ee=await fetch("/api/supabase-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUrl:K.supabase_project_url,serviceKey:K.supabase_service_key,query:W.query})}),te=await ee.json();if(!ee.ok||!te.success)throw new Error(te.error||"Falha ao executar a ao do Supabase.");e(ye=>({...ye,chatMessages:[...ye.chatMessages,{role:"system",content:"Ao do banco de dados executada com sucesso."}]}))}catch(ee){const te=ee instanceof Error?ee.message:"Ocorreu um erro desconhecido.";e(ye=>({...ye,chatMessages:[...ye.chatMessages,{role:"assistant",content:`Erro ao executar a ao do banco de dados: ${te}`}]}))}},[K,e]),rt=H.useCallback(async(W,ee,te,ye=[])=>{if(ii(null),ps({provider:ee,model:te}),W.toLowerCase().includes("ia"),xe.Gemini,ee===xe.OpenRouter&&!(K!=null&&K.openrouter_api_key)){xn({prompt:W,provider:ee,model:te,attachments:ye}),Q(!0);return}if((ee===xe.OpenAI||ee===xe.DeepSeek)&&!de){alert("Este modelo est disponvel apenas para usurios Pro. Por favor, atualize seu plano na pgina de preos.");return}const it=n.files.length===0,Ue={role:"user",content:W},Je={role:"assistant",content:"Pensando...",isThinking:!0},bt=_!=="editor"?[Ue,Je]:[...n.chatMessages,Ue,Je];if(e(ct=>({...ct,chatMessages:bt})),_!=="editor"&&b("editor"),it&&Wt){Mn(!0),ti("Analisando o prompt...");const ct=await DR(W,Wt);e(Tt=>({...Tt,projectName:ct})),ti("Preparando para gerar arquivos...")}let Un=!1,ai="";const Ts=ct=>{if(ai+=ct,!Un){const Tt=ai.indexOf(`
---
`);if(Tt!==-1){const Ot=ai.substring(0,Tt).trim();e(Be=>{const qe=[...Be.chatMessages],ot=qe[qe.length-1];return ot!=null&&ot.isThinking&&(ot.content=Ot),{...Be,chatMessages:qe}}),Un=!0}}if(hs){const Tt=[...ai.matchAll(/"name":\s*"([^"]+)"/g)];if(Tt.length>0){const Be=Tt[Tt.length-1][1];ti(qe=>qe===Be?qe:Be)}}};if(ee===xe.Gemini&&Wt===zm){if(!(Ce!=null&&Ce.user)){alert("Voc precisa estar logado para usar o Gemini com a chave padro."),Mn(!1);return}if(!de&&ji>=8){alert("Voc atingiu o limite dirio de 8 usos do Gemini. Atualize para o plano Pro para uso ilimitado ou adicione sua prpria chave API."),Mn(!1);return}de||qi(ct=>ct+1)}try{let ct;switch(ee){case xe.Gemini:ct=await kR(W,n.files,n.envVars,Ts,te,Wt,ye);break;case xe.OpenAI:ct=await HR(W,n.files,Ts,te);break;case xe.DeepSeek:ct=await $R(W,n.files,Ts,te);break;case xe.OpenRouter:ct=await FR(W,n.files,n.envVars,Ts,K.openrouter_api_key,te);break;default:throw new Error("Provedor de IA no suportado")}let Tt=ct;const Ot=ct.indexOf(`
---
`);Ot!==-1&&(Tt=ct.substring(Ot+5));const Be=XR(Tt);Be.files&&Array.isArray(Be.files)&&e(qe=>{const ot=new Map(qe.files.map(Qe=>[Qe.name,Qe]));Be.files.forEach(Qe=>{ot.set(Qe.name,Qe)});const xt=Array.from(ot.values());let Vt=qe.activeFile;return Be.files.length>0&&!Vt&&(Vt=(Be.files.find(Do=>Do.name.includes("html"))||Be.files[0]).name),{...qe,files:xt,activeFile:Vt}}),Be.environmentVariables&&(Be.environmentVariables.GEMINI_API_KEY!==void 0&&(K!=null&&K.gemini_api_key)&&(Be.environmentVariables.GEMINI_API_KEY=K.gemini_api_key),e(qe=>{const ot={...qe.envVars};for(const[xt,Vt]of Object.entries(Be.environmentVariables))Vt===null?delete ot[xt]:ot[xt]=Vt;return{...qe,envVars:ot}})),e(qe=>{const ot=[...qe.chatMessages],xt=ot[ot.length-1];return(xt==null?void 0:xt.role)==="assistant"?(xt.content=Be.message||"Gerao concluda.",xt.summary=Be.summary,xt.isThinking=!1,{...qe,chatMessages:ot}):qe}),Be.supabaseAdminAction&&await hn(Be.supabaseAdminAction)}catch(ct){console.error("Error handling send message:",ct);const Tt=ct instanceof Error?ct.message:"Ocorreu um erro desconhecido";e(Ot=>{const Be=[...Ot.chatMessages],qe=Be[Be.length-1];return(qe==null?void 0:qe.role)==="assistant"?(qe.content=`Erro: ${Tt}`,qe.isThinking=!1):Be.push({role:"assistant",content:`Erro: ${Tt}`,isThinking:!1}),{...Ot,chatMessages:Be}})}finally{it&&Mn(!1)}},[n,Wt,de,_,K,hn,e,ii,ps,I,xn,Mn,ti,Q]);H.useEffect(()=>{if(!Nn)return;const{prompt:W,provider:ee,model:te,attachments:ye}=Nn;let it=!1;(ee===xe.Gemini&&Wt||ee===xe.OpenRouter&&(K!=null&&K.openrouter_api_key))&&(it=!0),it&&(xn(null),rt(W,ee,te,ye))},[Nn,Wt,K,rt]);const xl=H.useCallback(()=>{if(!ni||!Li)return;const W=`O cdigo anterior gerou um erro de visualizao: "${ni}". Por favor, analise os arquivos e corrija o erro. Fornea apenas os arquivos modificados.`;rt(W,Li.provider,Li.model)},[ni,Li,rt]),xr=H.useCallback(async()=>{if(console.log("handleSaveProject called"),!Ce){console.log("No session, opening auth modal"),gs(()=>()=>xr()),_e(!0);return}if(i.length===0){alert("No  possvel salvar um projeto vazio.");return}console.log("Saving project:",l,i.length,"files");const W={name:l,files:i,chat_history:a,env_vars:c,user_id:Ce.user.id,updated_at:new Date().toISOString()};if(f){console.log("Updating existing project:",f);const{data:ee,error:te}=await dn.from("projects").update(W).eq("id",f).select().single();te?(console.error("Update error:",te),alert(`Erro ao atualizar o projeto: ${te.message}`)):(console.log("Update success:",ee),p(g.map(ye=>ye.id===f?ee:ye)),alert(`Projeto "${l}" atualizado com sucesso!`))}else{console.log("Inserting new project");const{data:ee,error:te}=await dn.from("projects").insert(W).select().single();te?(console.error("Insert error:",te),alert(`Erro ao salvar o projeto: ${te.message}`)):(console.log("Insert success:",ee),e(ye=>({...ye,currentProjectId:ee.id})),p([...g,ee]),alert(`Projeto "${l}" salvo com sucesso!`))}},[Ce,i,l,a,c,f,g,e]),El=H.useCallback(async W=>{const{error:ee}=await dn.from("projects").delete().eq("id",W);ee?alert(`Erro ao excluir o projeto: ${ee.message}`):(p(te=>te.filter(ye=>ye.id!==W)),f===W&&En(),alert("Projeto excludo com sucesso."))},[f,En]),si=()=>{Ce?k(!0):(gs(()=>()=>k(!0)),_e(!0))},_s=H.useCallback(()=>{if(n.files.length===0){alert("No h arquivos para executar. Gere algum cdigo primeiro.");return}Z(!0)},[n]),ri=H.useCallback(()=>{zR(n.files,n.projectName)},[n.files,n.projectName]),pn=H.useCallback(W=>{const ee=W.find(te=>te.name.endsWith("index.html"))||W[0];e(te=>({...te,files:W,chatMessages:[{role:"assistant",content:Jv},{role:"assistant",content:`Importei ${W.length} arquivos. O que voc gostaria de construir ou modificar?`}],activeFile:(ee==null?void 0:ee.name)||null,projectName:"ProjetoImportado",currentProjectId:null})),B(!1),b("editor")},[e]),bs=H.useCallback((W,ee)=>{const te={name:`assets/${ee}`,language:"image",content:W};e(ye=>{const Ue=ye.files.find(Je=>Je.name===te.name)?ye.files.map(Je=>Je.name===te.name?te:Je):[...ye.files,te];return{...ye,files:Ue}}),alert(`Imagem "${te.name}" salva no projeto!`),De(!1)},[e]),Dn=H.useCallback(W=>{e(ee=>{var it;const te=ee.files.filter(Ue=>Ue.name!==W);let ye=ee.activeFile;if(ee.activeFile===W)if(te.length>0){const Ue=ee.files.findIndex(bt=>bt.name===W),Je=Math.max(0,Ue-1);ye=((it=te[Je])==null?void 0:it.name)||null}else ye=null;return{...ee,files:te,activeFile:ye}})},[e]),Mo=H.useCallback((W,ee)=>{if(n.files.some(te=>te.name===ee)){alert(`Um arquivo chamado "${ee}" j existe.`);return}e(te=>{const ye=te.files.map(Ue=>Ue.name===W?{...Ue,name:ee}:Ue),it=te.activeFile===W?ee:te.activeFile;return{...te,files:ye,activeFile:it}})},[n,e]);H.useEffect(()=>{const W=()=>{window.innerWidth>=1024&&(E(!1),N(!1))};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const Io=()=>{switch(_){case"welcome":return y.jsx(Gm,{session:Ce,onLoginClick:()=>_e(!0),onPromptSubmit:W=>rt(W,xe.Gemini,"gemini-2.0-flash",[]),onShowPricing:()=>b("pricing"),onShowProjects:()=>b("projects"),onOpenGithubImport:()=>B(!0),onFolderImport:pn,onNewProject:En,onLogout:ys});case"pricing":return y.jsx(ZC,{onBack:()=>b(i.length>0?"editor":"welcome"),onNewProject:En});case"projects":return y.jsx(WC,{projects:g,onLoadProject:kn,onDeleteProject:El,onBack:()=>b(i.length>0?"editor":"welcome"),onNewProject:En});case"editor":return y.jsxs("div",{className:"flex flex-col h-screen bg-var-bg-default",children:[y.jsx(KR,{onToggleSidebar:()=>E(!0),onToggleChat:()=>N(!0),projectName:l,session:Ce}),y.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[hs&&y.jsx(QR,{projectName:l,generatingFile:In}),y.jsx("div",{className:"hidden lg:block w-[320px] flex-shrink-0",children:y.jsx(qm,{files:i,envVars:c,onEnvVarChange:W=>e(ee=>({...ee,envVars:W})),activeFile:r,onFileSelect:W=>e(ee=>({...ee,activeFile:W})),onDownload:ri,onOpenSettings:si,onOpenGithubImport:()=>B(!0),onOpenSupabaseAdmin:()=>he(!0),onSaveProject:xr,onOpenProjects:()=>b("projects"),onNewProject:En,onOpenImageStudio:()=>De(!0),onRenameFile:Mo,onDeleteFile:Dn,onOpenStripeModal:()=>Y(!0),onOpenNeonModal:()=>be(!0),onOpenOSMModal:()=>R(!0),onOpenGoogleCloudModal:()=>X(!0),session:Ce,onLogin:()=>_e(!0),onLogout:ys})}),T&&y.jsx("div",{className:"absolute top-0 left-0 h-full w-full bg-black z-20 lg:hidden",onClick:()=>E(!1),children:y.jsx("div",{className:"w-[320px] h-full bg-var-bg-subtle shadow-2xl",onClick:W=>W.stopPropagation(),children:y.jsx(qm,{files:i,envVars:c,onEnvVarChange:W=>e(ee=>({...ee,envVars:W})),activeFile:r,onFileSelect:W=>{e(ee=>({...ee,activeFile:W})),E(!1)},onDownload:()=>{ri(),E(!1)},onOpenSettings:()=>{si(),E(!1)},onOpenGithubImport:()=>{B(!0),E(!1)},onOpenSupabaseAdmin:()=>{he(!0),E(!1)},onSaveProject:()=>{xr(),E(!1)},onOpenProjects:()=>{b("projects"),E(!1)},onNewProject:En,onOpenImageStudio:()=>{De(!0),E(!1)},onClose:()=>E(!1),onRenameFile:Mo,onDeleteFile:Dn,onOpenStripeModal:()=>{Y(!0),E(!1)},onOpenNeonModal:()=>{be(!0),E(!1)},onOpenOSMModal:()=>{R(!0),E(!1)},onOpenGoogleCloudModal:()=>{X(!0),E(!1)},session:Ce,onLogin:()=>{_e(!0),E(!1)},onLogout:()=>{ys(),E(!1)}})})}),y.jsx("main",{className:"flex-1 min-w-0",children:y.jsx(nS,{files:i,activeFile:r,projectName:l,theme:Ye,onThemeChange:nt,onFileSelect:W=>e(ee=>({...ee,activeFile:W})),onFileDelete:Dn,onRunLocally:_s,codeError:ni,onFixCode:xl,onClearError:()=>ii(null),onError:ii,envVars:c})}),y.jsx("div",{className:"hidden lg:block w-full max-w-sm xl:max-w-md flex-shrink-0",children:y.jsx(Hm,{messages:a,onSendMessage:rt,isProUser:de})}),C&&y.jsx("div",{className:"absolute top-0 right-0 h-full w-full bg-black z-20 lg:hidden",onClick:()=>N(!1),children:y.jsx("div",{className:"absolute right-0 w-full max-w-sm h-full bg-var-bg-subtle shadow-2xl",onClick:W=>W.stopPropagation(),children:y.jsx(Hm,{messages:a,onSendMessage:rt,isProUser:de,onClose:()=>N(!1)})})})]})]});default:return y.jsx(Gm,{session:Ce,onLoginClick:()=>_e(!0),onPromptSubmit:W=>rt(W,xe.Gemini,"gemini-2.0-flash",[]),onShowPricing:()=>b("pricing"),onShowProjects:()=>b("projects"),onOpenGithubImport:()=>B(!0),onFolderImport:pn,onNewProject:En,onLogout:ys})}};return y.jsxs("div",{className:Ye,children:[Io(),y.jsx(MR,{isOpen:ue,onClose:()=>_e(!1)}),y.jsx(JC,{isOpen:w&&!!Ce,onClose:()=>k(!1),settings:K||{id:((Ss=Ce==null?void 0:Ce.user)==null?void 0:Ss.id)||""},onSave:ut}),y.jsx(LR,{isOpen:le&&!!Ce,onClose:()=>he(!1),settings:K||{id:((oi=Ce==null?void 0:Ce.user)==null?void 0:oi.id)||""},onSave:ut}),y.jsx(jR,{isOpen:U&&!!Ce,onClose:()=>Y(!1),settings:K||{id:((ko=Ce==null?void 0:Ce.user)==null?void 0:ko.id)||""},onSave:ut}),y.jsx(qR,{isOpen:re&&!!Ce,onClose:()=>be(!1),settings:K||{id:((Er=Ce==null?void 0:Ce.user)==null?void 0:Er.id)||""},onSave:ut}),y.jsx(BR,{isOpen:ve,onClose:()=>R(!1)}),y.jsx(FC,{isOpen:O,onClose:()=>{I(!1),xn(null)},onSave:W=>ut({gemini_api_key:W})}),y.jsx(YC,{isOpen:G,onClose:()=>{Q(!1),xn(null)},onSave:W=>ut({openrouter_api_key:W})}),y.jsx(tA,{isOpen:z,onClose:()=>B(!1),onImport:pn,githubToken:K==null?void 0:K.github_access_token,onOpenSettings:()=>{B(!1),si()}}),y.jsx(nA,{isOpen:ne,onClose:()=>Z(!1),onDownload:ri,projectName:l}),y.jsx(PR,{isOpen:ce,onClose:()=>De(!1),onSaveImage:bs,apiKey:Wt,onOpenApiKeyModal:()=>{De(!1),I(!0)}}),y.jsx(GR,{isOpen:$&&!!Ce,onClose:()=>X(!1),settings:K||{id:((wr=Ce==null?void 0:Ce.user)==null?void 0:wr.id)||""},onSave:ut})]})},f0=document.getElementById("root");if(!f0)throw new Error("Could not find root element to mount to");const WR=Db.createRoot(f0);WR.render(y.jsx(hl.StrictMode,{children:y.jsx(ZR,{})}));
